{"version":3,"sources":["app.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","IntApp","UIMixin","window","AccountPageView","BookPageView","QuestionPageView","ActivityPageView","_","extend","initUI","this","layout","activate","pushMenu","tree","$","account-page","activity-page","book-page","question-page","ui-mixin",2,3,"BaseCollection","BaseModel","ModalView","PaginationView","TableView","User","UserModalView","UserView","Users","UsersView","child","parent","ctor","constructor","key","hasProp","prototype","__super__","hasOwnProperty","superClass","apply","arguments","urlRoot","defaults","username","password","validation","blank","message","minLength","attrs","url","active","id","save","deactivate","model","tagName","template","events","click #deactivate","click #activate","initialize","listenTo","render","remove","$el","html","toJSON","Backbone","View","bindings","#username","#password","xhr","preventDefault","isNew","then","_this","collection","add","modal","row","pageNavView","userModalView","users","usersView","el","after","fetch","reset","data/base-collection","data/base-model","templates/user-modal","templates/user-row","views/modal-view","views/pagination-view","views/table-view",4,"Activities","ActivitiesView","Activity","ActivityView","DATETIME_FORMAT","info_field_1","info_field_2","info_field_3","data","end_at","front_host","now","start_at","moment","activities","activitiesView","templates/activity-row",5,"QuizBook","QuizBookModalView","QuizBookView","QuizBooks","QuizBooksView","title","#title","quizBookModalView","quizBooks","quizBooksView","templates/book-modal","templates/book-row",6,"parse","meta","objects","Collection",7,"origUrl","charAt","isArray","Model",8,"Question","QuestionListPanelView","QuestionModalView","QuestionView","Questions","QuestionsView","char2Int","int2Char","String","fromCharCode","parseInt","c","charCodeAt","type","correct_option","option_A","option_B","option_C","option_D","option_E","option_F","content","fn","value","isString","split","isEmpty","every","get","state","options","click #delete","destroy","correct","map","join","_bindings","code","j","len","ref","[name=content]","[name=type]","observe","selectOptions","label","setOptions","silent","[name=correct_option]","onGet","onSet","show","set","book","changeType","curVal","prop","stickit","onInvalidField","name","errors","error","field","group","closest","find","append","addClass","change #book","val","click #loadBook","bookId","panelView","questionModalView","questions","questionsView","templates/question-modal","templates/question-row",9,"self","fix","resize","neg","sidebar_height","window_height","outerHeight","height","css","on","width","hasClass","removeClass","click","animationSpeed","$this","checkElement","parent_li","ul","next","is","slideUp","parents","first","slideDown",10,"setElement","show.bs.modal","hidden.bs.modal","click [type=submit]","relatedTarget","bindValidation","validate","hidden","unstickit","stopListening","onValidField",11,"className","click a[data-id]","loadPage","currentTarget","page","templates/page-nav",12,"prepend","tbody","empty","each",13,"jade","locals","jade_interp","buf","locals_for_with","chances","multi","multi_points","single","single_points","status","time_limit","user","welcome","push","escape","attr","undefined","jade/runtime",14,15,"button",16,"Math","end","pages","start","max","min","cls",17,"jade_mixins","block","attributes","$$obj","$index","$$l","option",18,19,"placeholder",20,"admin",21,"global","define","amd","g","l","nulls","joinClasses","Array","Object","keys","filter","jade_encode_char","jade_encode_html_rules","jade_escape","result","replace","jade_match_html","merge","b","ac","bc","concat","classes","escaped","text","style","terse","indexOf","JSON","stringify","console","warn","toISOString","obj","&","<",">","\"","rethrow","err","filename","lineno","str","readFileSync","ex","context","lines","slice","line","curr","path","DebugItem","fs"],"mappings":"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","file":"app.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar IntApp, UIMixin;\n\nUIMixin = require('ui-mixin');\n\nwindow.IntApp = IntApp = {\n  AccountPageView: require('account-page'),\n  BookPageView: require('book-page'),\n  QuestionPageView: require('question-page'),\n  ActivityPageView: require('activity-page')\n};\n\n_.extend(IntApp, UIMixin);\n\nIntApp.initUI = function() {\n  this.layout.activate();\n  this.pushMenu.activate();\n  return this.tree();\n};\n\n$(function() {\n  return IntApp.initUI();\n});\n\n\n},{\"account-page\":3,\"activity-page\":4,\"book-page\":5,\"question-page\":8,\"ui-mixin\":9}],2:[function(require,module,exports){\n\n},{}],3:[function(require,module,exports){\nvar AccountPageView, BaseCollection, BaseModel, ModalView, PaginationView, TableView, User, UserModalView, UserView, Users, UsersView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseModel = require('data/base-model');\n\nBaseCollection = require('data/base-collection');\n\nTableView = require('views/table-view');\n\nPaginationView = require('views/pagination-view');\n\nModalView = require('views/modal-view');\n\nUser = (function(superClass) {\n  extend(User, superClass);\n\n  function User() {\n    return User.__super__.constructor.apply(this, arguments);\n  }\n\n  User.prototype.urlRoot = '/api/v1/user';\n\n  User.prototype.defaults = {\n    username: '',\n    password: ''\n  };\n\n  User.prototype.validation = {\n    username: {\n      blank: false,\n      message: '用户名不能为空'\n    },\n    password: {\n      blank: false,\n      minLength: 6,\n      message: '密码不能少于6位'\n    }\n  };\n\n  User.prototype.activate = function() {\n    var attrs, url;\n    attrs = {\n      active: true\n    };\n    url = \"/accounts/\" + this.id + \"/toggle\";\n    return this.save(attrs, {\n      attrs: attrs,\n      url: url\n    });\n  };\n\n  User.prototype.deactivate = function() {\n    var attrs, url;\n    attrs = {\n      active: false\n    };\n    url = \"/accounts/\" + this.id + \"/toggle\";\n    return this.save(attrs, {\n      attrs: attrs,\n      url: url\n    });\n  };\n\n  return User;\n\n})(BaseModel);\n\nUsers = (function(superClass) {\n  extend(Users, superClass);\n\n  function Users() {\n    return Users.__super__.constructor.apply(this, arguments);\n  }\n\n  Users.prototype.url = '/api/v1/user';\n\n  Users.prototype.model = User;\n\n  return Users;\n\n})(BaseCollection);\n\nUserView = (function(superClass) {\n  extend(UserView, superClass);\n\n  function UserView() {\n    return UserView.__super__.constructor.apply(this, arguments);\n  }\n\n  UserView.prototype.tagName = 'tr';\n\n  UserView.prototype.template = require('templates/user-row');\n\n  UserView.prototype.events = {\n    'click #deactivate': function() {\n      return this.model.deactivate();\n    },\n    'click #activate': function() {\n      return this.model.activate();\n    }\n  };\n\n  UserView.prototype.initialize = function() {\n    this.listenTo(this.model, \"sync\", this.render);\n    return this.listenTo(this.model, \"destroy\", this.remove);\n  };\n\n  UserView.prototype.render = function() {\n    this.$el.html(this.template(this.model.toJSON()));\n    return this;\n  };\n\n  return UserView;\n\n})(Backbone.View);\n\nUserModalView = (function(superClass) {\n  extend(UserModalView, superClass);\n\n  function UserModalView() {\n    return UserModalView.__super__.constructor.apply(this, arguments);\n  }\n\n  UserModalView.prototype.template = require('templates/user-modal');\n\n  UserModalView.prototype.bindings = {\n    '#username': 'username',\n    '#password': 'password'\n  };\n\n  UserModalView.prototype.save = function(e) {\n    var url, xhr;\n    e.preventDefault();\n    url = this.model.isNew() ? \"/accounts/create\" : \"/accounts/\" + this.model.id + \"/changePwd\";\n    xhr = this.model.save(null, {\n      url: url\n    });\n    if (xhr) {\n      return xhr.then(((function(_this) {\n        return function() {\n          _this.collection.add(_this.model);\n          return _this.$el.modal('hide');\n        };\n      })(this)));\n    }\n  };\n\n  return UserModalView;\n\n})(ModalView);\n\nUsersView = (function(superClass) {\n  extend(UsersView, superClass);\n\n  function UsersView() {\n    return UsersView.__super__.constructor.apply(this, arguments);\n  }\n\n  UsersView.prototype.row = function(model) {\n    return new UserView({\n      model: model\n    });\n  };\n\n  return UsersView;\n\n})(TableView);\n\nmodule.exports = AccountPageView = (function(superClass) {\n  extend(AccountPageView, superClass);\n\n  function AccountPageView() {\n    return AccountPageView.__super__.constructor.apply(this, arguments);\n  }\n\n  AccountPageView.prototype.render = function() {\n    var pageNavView, userModalView, users, usersView;\n    users = new Users;\n    usersView = new UsersView({\n      el: $('.table-container'),\n      collection: users\n    });\n    pageNavView = new PaginationView({\n      collection: users\n    });\n    usersView.$el.after(pageNavView.render().$el);\n    userModalView = new UserModalView({\n      id: 'userModalForm',\n      collection: users\n    });\n    userModalView.render();\n    users.fetch({\n      reset: true\n    });\n    return this;\n  };\n\n  return AccountPageView;\n\n})(Backbone.View);\n\n\n},{\"data/base-collection\":6,\"data/base-model\":7,\"templates/user-modal\":19,\"templates/user-row\":20,\"views/modal-view\":10,\"views/pagination-view\":11,\"views/table-view\":12}],4:[function(require,module,exports){\nvar Activities, ActivitiesView, Activity, ActivityPageView, ActivityView, BaseCollection, BaseModel, DATETIME_FORMAT, ModalView, PaginationView, TableView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseModel = require('data/base-model');\n\nBaseCollection = require('data/base-collection');\n\nTableView = require('views/table-view');\n\nPaginationView = require('views/pagination-view');\n\nModalView = require('views/modal-view');\n\nDATETIME_FORMAT = 'YYYY-MM-DD HH:mm:ss';\n\nActivity = (function(superClass) {\n  extend(Activity, superClass);\n\n  function Activity() {\n    return Activity.__super__.constructor.apply(this, arguments);\n  }\n\n  Activity.prototype.urlRoot = '/api/v1/activity/';\n\n  Activity.prototype.defaults = {\n    \"info_field_1\": \"\",\n    \"info_field_2\": \"\",\n    \"info_field_3\": \"\"\n  };\n\n  return Activity;\n\n})(BaseModel);\n\nActivities = (function(superClass) {\n  extend(Activities, superClass);\n\n  function Activities() {\n    return Activities.__super__.constructor.apply(this, arguments);\n  }\n\n  Activities.prototype.url = '/api/v1/activity/';\n\n  Activities.prototype.model = Activity;\n\n  return Activities;\n\n})(BaseCollection);\n\nActivityView = (function(superClass) {\n  extend(ActivityView, superClass);\n\n  function ActivityView() {\n    return ActivityView.__super__.constructor.apply(this, arguments);\n  }\n\n  ActivityView.prototype.tagName = 'tr';\n\n  ActivityView.prototype.template = require('templates/activity-row');\n\n  ActivityView.prototype.render = function() {\n    var data, end_at, front_host, now, start_at;\n    front_host = window.front_host || '/';\n    data = this.model.toJSON();\n    start_at = new moment(data.start_at, DATETIME_FORMAT);\n    end_at = new moment(data.end_at, DATETIME_FORMAT);\n    now = new moment();\n    data['status'] = (start_at < now && now < end_at) ? '开启' : '关闭';\n    data['url'] = \"http://\" + front_host + \"/index.html#\" + data['code'];\n    data['type'] = (function() {\n      switch (data['type']) {\n        case 0:\n          return '普通';\n        case 1:\n          return '限时';\n        case 2:\n          return '挑战';\n        default:\n          return '未知';\n      }\n    })();\n    this.$el.html(this.template(data));\n    return this;\n  };\n\n  return ActivityView;\n\n})(Backbone.View);\n\nActivitiesView = (function(superClass) {\n  extend(ActivitiesView, superClass);\n\n  function ActivitiesView() {\n    return ActivitiesView.__super__.constructor.apply(this, arguments);\n  }\n\n  ActivitiesView.prototype.row = function(model) {\n    return new ActivityView({\n      model: model\n    });\n  };\n\n  return ActivitiesView;\n\n})(TableView);\n\nmodule.exports = ActivityPageView = (function(superClass) {\n  extend(ActivityPageView, superClass);\n\n  function ActivityPageView() {\n    return ActivityPageView.__super__.constructor.apply(this, arguments);\n  }\n\n  ActivityPageView.prototype.render = function() {\n    var activities, activitiesView, pageNavView;\n    activities = new Activities;\n    activitiesView = new ActivitiesView({\n      el: $('#activity-table-container'),\n      collection: activities\n    });\n    pageNavView = new PaginationView({\n      collection: activities\n    });\n    activitiesView.$el.after(pageNavView.render().$el);\n    activities.fetch({\n      reset: true\n    });\n    return this;\n  };\n\n  return ActivityPageView;\n\n})(Backbone.View);\n\n\n},{\"data/base-collection\":6,\"data/base-model\":7,\"templates/activity-row\":13,\"views/modal-view\":10,\"views/pagination-view\":11,\"views/table-view\":12}],5:[function(require,module,exports){\nvar BaseCollection, BaseModel, BookPageView, ModalView, PaginationView, QuizBook, QuizBookModalView, QuizBookView, QuizBooks, QuizBooksView, TableView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseModel = require('data/base-model');\n\nBaseCollection = require('data/base-collection');\n\nTableView = require('views/table-view');\n\nPaginationView = require('views/pagination-view');\n\nModalView = require('views/modal-view');\n\nQuizBook = (function(superClass) {\n  extend(QuizBook, superClass);\n\n  function QuizBook() {\n    return QuizBook.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBook.prototype.urlRoot = '/api/v1/quizbook';\n\n  QuizBook.prototype.validation = {\n    title: {\n      blank: false,\n      message: '题库名不能为空'\n    }\n  };\n\n  return QuizBook;\n\n})(BaseModel);\n\nQuizBooks = (function(superClass) {\n  extend(QuizBooks, superClass);\n\n  function QuizBooks() {\n    return QuizBooks.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBooks.prototype.url = '/api/v1/quizbook';\n\n  QuizBooks.prototype.model = QuizBook;\n\n  return QuizBooks;\n\n})(BaseCollection);\n\nQuizBookView = (function(superClass) {\n  extend(QuizBookView, superClass);\n\n  function QuizBookView() {\n    return QuizBookView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBookView.prototype.tagName = 'tr';\n\n  QuizBookView.prototype.template = require('templates/book-row');\n\n  QuizBookView.prototype.initialize = function() {\n    return this.listenTo(this.model, \"sync\", this.render);\n  };\n\n  QuizBookView.prototype.render = function() {\n    this.$el.html(this.template(this.model.toJSON()));\n    return this;\n  };\n\n  return QuizBookView;\n\n})(Backbone.View);\n\nQuizBookModalView = (function(superClass) {\n  extend(QuizBookModalView, superClass);\n\n  function QuizBookModalView() {\n    return QuizBookModalView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBookModalView.prototype.template = require('templates/book-modal');\n\n  QuizBookModalView.prototype.bindings = {\n    '#title': 'title'\n  };\n\n  return QuizBookModalView;\n\n})(ModalView);\n\nQuizBooksView = (function(superClass) {\n  extend(QuizBooksView, superClass);\n\n  function QuizBooksView() {\n    return QuizBooksView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBooksView.prototype.row = function(model) {\n    return new QuizBookView({\n      model: model\n    });\n  };\n\n  return QuizBooksView;\n\n})(TableView);\n\nmodule.exports = BookPageView = (function(superClass) {\n  extend(BookPageView, superClass);\n\n  function BookPageView() {\n    return BookPageView.__super__.constructor.apply(this, arguments);\n  }\n\n  BookPageView.prototype.render = function() {\n    var pageNavView, quizBookModalView, quizBooks, quizBooksView;\n    quizBooks = new QuizBooks;\n    quizBooksView = new QuizBooksView({\n      el: $('#quizbook-table-container'),\n      collection: quizBooks\n    });\n    pageNavView = new PaginationView({\n      collection: quizBooks\n    });\n    quizBooksView.$el.after(pageNavView.render().$el);\n    quizBookModalView = new QuizBookModalView({\n      id: 'bookModalForm',\n      collection: quizBooks\n    });\n    quizBookModalView.render();\n    quizBooks.fetch({\n      reset: true\n    });\n    return this;\n  };\n\n  return BookPageView;\n\n})(Backbone.View);\n\n\n},{\"data/base-collection\":6,\"data/base-model\":7,\"templates/book-modal\":14,\"templates/book-row\":15,\"views/modal-view\":10,\"views/pagination-view\":11,\"views/table-view\":12}],6:[function(require,module,exports){\nvar BaseCollection,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseCollection = (function(superClass) {\n  extend(BaseCollection, superClass);\n\n  function BaseCollection() {\n    return BaseCollection.__super__.constructor.apply(this, arguments);\n  }\n\n  BaseCollection.prototype.parse = function(data) {\n    if (data && data.meta) {\n      this.meta = data.meta;\n    }\n    return data && data.objects || data;\n  };\n\n  return BaseCollection;\n\n})(Backbone.Collection);\n\nmodule.exports = BaseCollection;\n\n\n},{}],7:[function(require,module,exports){\nvar BaseModel,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseModel = (function(superClass) {\n  extend(BaseModel, superClass);\n\n  function BaseModel() {\n    return BaseModel.__super__.constructor.apply(this, arguments);\n  }\n\n  BaseModel.prototype.url = function() {\n    var origUrl;\n    origUrl = BaseModel.__super__.url.call(this);\n    return origUrl + (origUrl.length > 0 && origUrl.charAt(origUrl.length - 1) === '/' ? '' : '/');\n  };\n\n  BaseModel.prototype.parse = function(data) {\n    if (data && data.objects && _.isArray(data.objects)) {\n      return data.objects[0] || {};\n    }\n    return data;\n  };\n\n  return BaseModel;\n\n})(Backbone.Model);\n\nmodule.exports = BaseModel;\n\n\n},{}],8:[function(require,module,exports){\nvar BaseCollection, BaseModel, ModalView, PaginationView, Question, QuestionListPanelView, QuestionModalView, QuestionPageView, QuestionView, Questions, QuestionsView, TableView, char2Int, int2Char,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseModel = require('data/base-model');\n\nBaseCollection = require('data/base-collection');\n\nTableView = require('views/table-view');\n\nPaginationView = require('views/pagination-view');\n\nModalView = require('views/modal-view');\n\nint2Char = function(i) {\n  return String.fromCharCode(64 + parseInt(i));\n};\n\nchar2Int = function(c) {\n  if (!!c) {\n    return c.charCodeAt(0);\n  } else {\n    return c;\n  }\n};\n\nQuestion = (function(superClass) {\n  extend(Question, superClass);\n\n  function Question() {\n    return Question.__super__.constructor.apply(this, arguments);\n  }\n\n  Question.prototype.urlRoot = '/api/v1/question/';\n\n  Question.prototype.defaults = {\n    \"type\": 1,\n    \"correct_option\": \"1\",\n    \"option_A\": \"\",\n    \"option_B\": \"\",\n    \"option_C\": \"\",\n    \"option_D\": \"\",\n    \"option_E\": \"\",\n    \"option_F\": \"\"\n  };\n\n  Question.prototype.validation = {\n    content: {\n      blank: false,\n      message: '题目内容不能为空'\n    },\n    type: {\n      blank: false,\n      fn: function(value) {\n        return value === 1 || value === 2;\n      },\n      message: '题目类型必须是多选或单选'\n    },\n    correct_option: {\n      blank: false,\n      fn: function(value) {\n        value = (function() {\n          switch (false) {\n            case !_.isArray(value):\n              return value;\n            case !_.isString(value):\n              return value.split(',');\n            default:\n              return false;\n          }\n        })();\n        return !(_.isEmpty(value)) && _.every(value, (function(i) {\n          return this.get('option_' + int2Char(i));\n        }), this);\n      },\n      message: '正确答案设置出错，注意对应的选项是否设置了答案'\n    }\n  };\n\n  return Question;\n\n})(BaseModel);\n\nQuestions = (function(superClass) {\n  extend(Questions, superClass);\n\n  function Questions() {\n    return Questions.__super__.constructor.apply(this, arguments);\n  }\n\n  Questions.prototype.url = '/api/v1/question/';\n\n  Questions.prototype.model = Question;\n\n  Questions.prototype.state = {};\n\n  Questions.prototype.fetch = function(options) {\n    var data;\n    options = _.extend({}, options);\n    data = options.data;\n    options.data = _.extend({}, this.state, data);\n    return Questions.__super__.fetch.call(this, options);\n  };\n\n  return Questions;\n\n})(BaseCollection);\n\nQuestionView = (function(superClass) {\n  extend(QuestionView, superClass);\n\n  function QuestionView() {\n    return QuestionView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionView.prototype.tagName = 'tr';\n\n  QuestionView.prototype.template = require('templates/question-row');\n\n  QuestionView.prototype.events = {\n    'click #delete': function() {\n      return this.model.destroy();\n    }\n  };\n\n  QuestionView.prototype.initialize = function() {\n    this.listenTo(this.model, \"sync\", this.render);\n    return this.listenTo(this.model, \"destroy\", this.remove);\n  };\n\n  QuestionView.prototype.render = function() {\n    var correct, data;\n    data = this.model.toJSON();\n    correct = data['correct_option'].split(',');\n    data['correct_option'] = _.map(correct, int2Char).join();\n    data['type'] = (function() {\n      switch (data['type']) {\n        case 1:\n          return '单选';\n        case 2:\n          return '多选';\n        default:\n          return '多选';\n      }\n    })();\n    this.$el.html(this.template(data));\n    return this;\n  };\n\n  return QuestionView;\n\n})(Backbone.View);\n\nQuestionsView = (function(superClass) {\n  extend(QuestionsView, superClass);\n\n  function QuestionsView() {\n    return QuestionsView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionsView.prototype.row = function(model) {\n    return new QuestionView({\n      model: model\n    });\n  };\n\n  return QuestionsView;\n\n})(TableView);\n\nQuestionModalView = (function(superClass) {\n  extend(QuestionModalView, superClass);\n\n  function QuestionModalView() {\n    return QuestionModalView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionModalView.prototype.template = require('templates/question-modal');\n\n  QuestionModalView.prototype.bindings = function() {\n    var _bindings, code, j, len, ref;\n    _bindings = {\n      '[name=content]': 'content',\n      '[name=type]': {\n        observe: 'type',\n        selectOptions: {\n          collection: function() {\n            return [\n              {\n                label: '单选',\n                value: 1\n              }, {\n                label: '多选',\n                value: 2\n              }\n            ];\n          }\n        },\n        setOptions: {\n          silent: false\n        }\n      },\n      '[name=correct_option]': {\n        observe: 'correct_option',\n        onGet: function(value) {\n          return value.split(',');\n        },\n        onSet: function(value) {\n          if (_.isArray(value)) {\n            return value.join(',');\n          } else {\n            return value;\n          }\n        }\n      }\n    };\n    ref = ['A', 'B', 'C', 'D', 'E', 'F'];\n    for (j = 0, len = ref.length; j < len; j++) {\n      code = ref[j];\n      _bindings[\"[name=option_\" + code + \"]\"] = 'option_' + code;\n    }\n    return _bindings;\n  };\n\n  QuestionModalView.prototype.show = function(e) {\n    QuestionModalView.__super__.show.call(this, e);\n    if (this.model.isNew()) {\n      this.model.set('book', this.collection.state.book);\n    }\n    this.changeType(this.model, this.model.get('type'));\n    return this.listenTo(this.model, \"change:type\", this.changeType);\n  };\n\n  QuestionModalView.prototype.changeType = function(model, value, options) {\n    var curVal, type;\n    type = value === 1 ? 'radio' : 'checkbox';\n    curVal = model.get('correct_option');\n    if (type === 'radio' && curVal) {\n      model.set('correct_option', curVal[0]);\n    }\n    this.$('input[name=correct_option]').prop('type', type);\n    return this.stickit();\n  };\n\n  QuestionModalView.prototype.onInvalidField = function(name, value, errors, model) {\n    var error, field, group, j, len;\n    if (name !== 'correct_option') {\n      return QuestionModalView.__super__.onInvalidField.call(this, name, value, errors, model);\n    } else {\n      field = this.$(\"[name=\" + name + \"]\");\n      group = field.closest('.form-group');\n      group.find('.help-block').remove();\n      for (j = 0, len = errors.length; j < len; j++) {\n        error = errors[j];\n        group.append(\"<div class='help-block col-sm-offset-2'>\" + error + \"</div>\");\n      }\n      return group.addClass('has-error');\n    }\n  };\n\n  return QuestionModalView;\n\n})(ModalView);\n\nQuestionListPanelView = (function(superClass) {\n  extend(QuestionListPanelView, superClass);\n\n  function QuestionListPanelView() {\n    return QuestionListPanelView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionListPanelView.prototype.events = {\n    'change #book': function() {\n      return this.collection.state.book = this.$('#book').val();\n    },\n    'click #loadBook': function() {\n      return this.collection.fetch({\n        reset: true\n      });\n    }\n  };\n\n  return QuestionListPanelView;\n\n})(Backbone.View);\n\nmodule.exports = QuestionPageView = (function(superClass) {\n  extend(QuestionPageView, superClass);\n\n  function QuestionPageView() {\n    return QuestionPageView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionPageView.prototype.render = function(bookId) {\n    var pageNavView, panelView, questionModalView, questions, questionsView;\n    if (!bookId) {\n      bookId = $('form select[name=book]').val();\n    }\n    questions = new Questions;\n    questions.state.book = bookId;\n    panelView = new QuestionListPanelView({\n      el: $('.table-control'),\n      collection: questions\n    });\n    questionsView = new QuestionsView({\n      el: $('#question-table-container'),\n      collection: questions\n    });\n    pageNavView = new PaginationView({\n      collection: questions\n    });\n    questionsView.$el.after(pageNavView.render().$el);\n    questionModalView = new QuestionModalView({\n      id: 'questionModalForm',\n      collection: questions\n    });\n    questionModalView.render();\n    questions.fetch({\n      reset: true\n    });\n    return QuestionPageView.__super__.render.call(this);\n  };\n\n  return QuestionPageView;\n\n})(Backbone.View);\n\n\n},{\"data/base-collection\":6,\"data/base-model\":7,\"templates/question-modal\":17,\"templates/question-row\":18,\"views/modal-view\":10,\"views/pagination-view\":11,\"views/table-view\":12}],9:[function(require,module,exports){\nmodule.exports = {\n  layout: {\n    activate: function() {\n      var self;\n      self = this;\n      self.fix();\n      return $(window, \".wrapper\").resize(function() {\n        return self.fix();\n      });\n    },\n    fix: function() {\n      var neg, sidebar_height, window_height;\n      neg = $(\".main-header\").outerHeight() + $(\".main-footer\").outerHeight();\n      window_height = $(window).height();\n      sidebar_height = $(\".sidebar\").height();\n      if (window_height >= sidebar_height) {\n        return $(\".content-wrapper\").css(\"min-height\", window_height - neg);\n      } else {\n        return $(\".content-wrapper\").css(\"min-height\", sidebar_height);\n      }\n    }\n  },\n  pushMenu: {\n    activate: function() {\n      $('#collapseToggle').on(\"click\", function(e) {\n        e.preventDefault();\n        if ($(window).width() > (768 - 1)) {\n          if ($(\"body\").hasClass(\"sidebar-collapse\")) {\n            return $(\"body\").removeClass(\"sidebar-collapse\");\n          } else {\n            return $(\"body\").addClass(\"sidebar-collapse\");\n          }\n        } else {\n          if ($(\"body\").hasClass(\"sidebar-open\")) {\n            return $(\"body\").removeClass(\"sidebar-open\").removeClass(\"sidebar-collapse\");\n          } else {\n            return $(\"body\").addClass(\"sidebar-open\");\n          }\n        }\n      });\n      return $(\".content-wrapper\").click(function() {\n        if ($(window).width() <= (768 - 1) && $(\"body\").hasClass(\"sidebar-open\")) {\n          return $(\"body\").removeClass(\"sidebar-open\");\n        }\n      });\n    }\n  },\n  tree: function() {\n    var animationSpeed, self;\n    self = this;\n    animationSpeed = 500;\n    return $('body').on(\"click\", \".sidebar li a\", function(e) {\n      var $this, checkElement, parent, parent_li, ul;\n      $this = $(this);\n      checkElement = $this.next();\n      if ((checkElement.is(\".treeview-menu\")) && (checkElement.is(\":visible\"))) {\n        checkElement.slideUp(animationSpeed, function() {\n          return checkElement.removeClass(\"menu-open\");\n        });\n        self.layout.fix();\n        checkElement.parent(\"li\").removeClass(\"active\");\n      } else if (checkElement.is(\".treeview-menu\")) {\n        parent = $this.parents(\"ul\").first();\n        ul = parent.find(\"ul:visible\").slideUp(animationSpeed);\n        ul.removeClass(\"menu-open\");\n        parent_li = $this.parent(\"li\");\n        checkElement.slideDown(animationSpeed, function() {\n          checkElement.addClass(\"menu-open\");\n          parent.find(\"li.active\").removeClass(\"active\");\n          parent_li.addClass(\"active\");\n          return self.layout.fix();\n        });\n      }\n      if (checkElement.is(\".treeview-menu\")) {\n        return e.preventDefault();\n      }\n    });\n  }\n};\n\n\n},{}],10:[function(require,module,exports){\nvar ModalView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nmodule.exports = ModalView = (function(superClass) {\n  extend(ModalView, superClass);\n\n  function ModalView() {\n    return ModalView.__super__.constructor.apply(this, arguments);\n  }\n\n  ModalView.prototype.render = function() {\n    $('#' + this.id).remove();\n    $('body').append(this.template({\n      id: this.id\n    }));\n    this.setElement($('#' + this.id));\n    return this;\n  };\n\n  ModalView.prototype.events = {\n    'show.bs.modal': 'show',\n    'hidden.bs.modal': 'hidden',\n    'click [type=submit]': 'save'\n  };\n\n  ModalView.prototype.show = function(e) {\n    var data;\n    data = $(e.relatedTarget).data();\n    this.model = data.id ? this.collection.get(data.id) : new this.collection.model;\n    this.stickit();\n    this.bindValidation();\n    if (!this.model.isNew()) {\n      return this.model.validate();\n    }\n  };\n\n  ModalView.prototype.hidden = function() {\n    this.unstickit();\n    this.stopListening();\n    return delete this.model;\n  };\n\n  ModalView.prototype.save = function(e) {\n    var xhr;\n    e.preventDefault();\n    xhr = this.model.save();\n    if (xhr) {\n      return xhr.then(((function(_this) {\n        return function() {\n          _this.collection.add(_this.model);\n          return _this.$el.modal('hide');\n        };\n      })(this)));\n    }\n  };\n\n  ModalView.prototype.onValidField = function(name, value, model) {\n    var field, group;\n    field = this.$(\"[name=\" + name + \"]\");\n    group = field.closest('.form-group');\n    group.removeClass('has-error');\n    return group.find('.help-block').remove();\n  };\n\n  ModalView.prototype.onInvalidField = function(name, value, errors, model) {\n    var error, field, group, i, len;\n    field = this.$(\"[name=\" + name + \"]\");\n    group = field.closest('.form-group');\n    group.find('.help-block').remove();\n    for (i = 0, len = errors.length; i < len; i++) {\n      error = errors[i];\n      field.after(\"<div class='help-block'>\" + error + \"</div>\");\n    }\n    return group.addClass('has-error');\n  };\n\n  return ModalView;\n\n})(Backbone.View);\n\n\n},{}],11:[function(require,module,exports){\nvar PaginationView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nmodule.exports = PaginationView = (function(superClass) {\n  extend(PaginationView, superClass);\n\n  function PaginationView() {\n    return PaginationView.__super__.constructor.apply(this, arguments);\n  }\n\n  PaginationView.prototype.tagName = 'nav';\n\n  PaginationView.prototype.className = 'page-nav';\n\n  PaginationView.prototype.template = require('templates/page-nav');\n\n  PaginationView.prototype.events = {\n    'click a[data-id]': 'loadPage'\n  };\n\n  PaginationView.prototype.initialize = function() {\n    return this.listenTo(this.collection, 'reset', this.render);\n  };\n\n  PaginationView.prototype.render = function() {\n    if (this.collection.meta) {\n      this.$el.html(this.template(this.collection.meta));\n    }\n    return this;\n  };\n\n  PaginationView.prototype.loadPage = function(e) {\n    var data;\n    e.preventDefault();\n    data = $(e.currentTarget).data();\n    return this.collection.fetch({\n      data: {\n        page: data.id\n      },\n      reset: true\n    });\n  };\n\n  return PaginationView;\n\n})(Backbone.View);\n\n\n},{\"templates/page-nav\":16}],12:[function(require,module,exports){\nvar TableView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nmodule.exports = TableView = (function(superClass) {\n  extend(TableView, superClass);\n\n  function TableView() {\n    return TableView.__super__.constructor.apply(this, arguments);\n  }\n\n  TableView.prototype.initialize = function() {\n    this.listenTo(this.collection, 'add', this.add);\n    return this.listenTo(this.collection, 'reset', this.render);\n  };\n\n  TableView.prototype.row = function(model) {\n    throw new Error('Not implemented');\n  };\n\n  TableView.prototype.add = function(model) {\n    var row;\n    row = this.row(model);\n    row.$el.addClass('success');\n    return this.$('table tbody').prepend(row.render().$el);\n  };\n\n  TableView.prototype.render = function(collection) {\n    var tbody;\n    tbody = this.$('table tbody');\n    tbody.empty();\n    collection.each((function(model) {\n      return tbody.append(this.row(model).render().$el);\n    }), this);\n    return this;\n  };\n\n  return TableView;\n\n})(Backbone.View);\n\n\n},{}],13:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (book, chances, end_at, id, info_field_2, info_field_3, multi, multi_points, name, single, single_points, start_at, status, time_limit, type, url, user, welcome) {\nbuf.push(\"<td>\" + (jade.escape(null == (jade_interp = id) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = name) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = book.title) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = type) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = chances) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = time_limit) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = single) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = multi) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = single_points) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = multi_points) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = status) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = start_at) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = end_at) ? \"\" : jade_interp)) + \"</td><td>\" + (null == (jade_interp = welcome) ? \"\" : jade_interp) + \"</td><td>\" + (jade.escape(null == (jade_interp = info_field_3) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = info_field_2) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = info_field_3) ? \"\" : jade_interp)) + \"</td><td><a\" + (jade.attr(\"href\", url, true, false)) + \">\" + (jade.escape(null == (jade_interp = url) ? \"\" : jade_interp)) + \"</a></td><td><a\" + (jade.attr(\"href\", \"/activities/edit/\" + (id) + \"\", true, false)) + \" class=\\\"btn btn-primary btn-xs\\\">编辑</a></td><td>\" + (jade.escape(null == (jade_interp = user.username) ? \"\" : jade_interp)) + \"</td>\");}.call(this,\"book\" in locals_for_with?locals_for_with.book:typeof book!==\"undefined\"?book:undefined,\"chances\" in locals_for_with?locals_for_with.chances:typeof chances!==\"undefined\"?chances:undefined,\"end_at\" in locals_for_with?locals_for_with.end_at:typeof end_at!==\"undefined\"?end_at:undefined,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined,\"info_field_2\" in locals_for_with?locals_for_with.info_field_2:typeof info_field_2!==\"undefined\"?info_field_2:undefined,\"info_field_3\" in locals_for_with?locals_for_with.info_field_3:typeof info_field_3!==\"undefined\"?info_field_3:undefined,\"multi\" in locals_for_with?locals_for_with.multi:typeof multi!==\"undefined\"?multi:undefined,\"multi_points\" in locals_for_with?locals_for_with.multi_points:typeof multi_points!==\"undefined\"?multi_points:undefined,\"name\" in locals_for_with?locals_for_with.name:typeof name!==\"undefined\"?name:undefined,\"single\" in locals_for_with?locals_for_with.single:typeof single!==\"undefined\"?single:undefined,\"single_points\" in locals_for_with?locals_for_with.single_points:typeof single_points!==\"undefined\"?single_points:undefined,\"start_at\" in locals_for_with?locals_for_with.start_at:typeof start_at!==\"undefined\"?start_at:undefined,\"status\" in locals_for_with?locals_for_with.status:typeof status!==\"undefined\"?status:undefined,\"time_limit\" in locals_for_with?locals_for_with.time_limit:typeof time_limit!==\"undefined\"?time_limit:undefined,\"type\" in locals_for_with?locals_for_with.type:typeof type!==\"undefined\"?type:undefined,\"url\" in locals_for_with?locals_for_with.url:typeof url!==\"undefined\"?url:undefined,\"user\" in locals_for_with?locals_for_with.user:typeof user!==\"undefined\"?user:undefined,\"welcome\" in locals_for_with?locals_for_with.welcome:typeof welcome!==\"undefined\"?welcome:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":21}],14:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (id) {\nbuf.push(\"<div\" + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + \" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"bookFormLabel\\\" aria-hidden=\\\"true\\\" class=\\\"modal fade\\\"><div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"close\\\"><span aria-hidden=\\\"true\\\">&times;</span><span class=\\\"sr-only\\\">关闭</span></button><h4 id=\\\"bookFormLabel\\\" class=\\\"modal-title\\\">输入题库信息</h4></div><div class=\\\"modal-body\\\"><form><div class=\\\"form-group\\\"><label for=\\\"title\\\" class=\\\"control-label\\\">题库名</label><input type=\\\"text\\\" id=\\\"title\\\" placeholder=\\\"题库名\\\" name=\\\"title\\\" class=\\\"form-control\\\"/></div></form></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">取消</button><button id=\\\"save\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\">保存</button></div></div></div></div>\");}.call(this,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":21}],15:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (button, id, title, user) {\nbuf.push(\"<td>\" + (jade.escape(null == (jade_interp = title) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = user.username) ? \"\" : jade_interp)) + \"</td><td><a\" + (jade.attr(\"href\", '/quizbooks/' + (id) + '/questions', true, false)) + \" class=\\\"btn btn-default btn-xs\\\">查看</a><a\" + (jade.attr(\"type\", button, true, false)) + (jade.attr(\"data-id\", id, true, false)) + \" data-toggle=\\\"modal\\\" data-target=\\\"#bookModalForm\\\" class=\\\"btn btn-primary btn-xs\\\">编辑</a></td>\");}.call(this,\"button\" in locals_for_with?locals_for_with.button:typeof button!==\"undefined\"?button:undefined,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined,\"title\" in locals_for_with?locals_for_with.title:typeof title!==\"undefined\"?title:undefined,\"user\" in locals_for_with?locals_for_with.user:typeof user!==\"undefined\"?user:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":21}],16:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (Math, end, page, pages, start) {\nstart = Math.max(1, page - 5)\nend = Math.min(pages, page + 5)\nbuf.push(\"<ul class=\\\"pagination\\\"><li\" + (jade.cls([(page == 1) ? 'disabled' : ''], [true])) + \"><a href=\\\"#\\\" aria-label=\\\"Start\\\" data-id='1'><span aria-hidden=\\\"aria-hidden\\\">&laquo;</span></a></li>\");\nvar i = start\nwhile (i < page)\n{\nbuf.push(\"<li><a href=\\\"#\\\"\" + (jade.attr(\"data-id\", i, true, false)) + \">\" + (jade.escape(null == (jade_interp = i++) ? \"\" : jade_interp)) + \"</a></li>\");\n}\nbuf.push(\"<li\" + (jade.attr(\"data-id\", page, true, false)) + \" class=\\\"active\\\"><a href=\\\"#\\\">\" + (jade.escape(null == (jade_interp = page) ? \"\" : jade_interp)) + \"</a></li>\");\nvar i = page + 1\nwhile (i <= end)\n{\nbuf.push(\"<li><a href=\\\"#\\\"\" + (jade.attr(\"data-id\", i, true, false)) + \">\" + (jade.escape(null == (jade_interp = i++) ? \"\" : jade_interp)) + \"</a></li>\");\n}\nbuf.push(\"<li\" + (jade.cls([(page == pages) ? 'disabled' : ''], [true])) + \"><a href=\\\"#\\\" aria-label=\\\"End\\\"\" + (jade.attr(\"data-id\", pages, true, false)) + \"><span aria-hidden=\\\"aria-hidden\\\">&raquo;</span></a></li></ul>\");}.call(this,\"Math\" in locals_for_with?locals_for_with.Math:typeof Math!==\"undefined\"?Math:undefined,\"end\" in locals_for_with?locals_for_with.end:typeof end!==\"undefined\"?end:undefined,\"page\" in locals_for_with?locals_for_with.page:typeof page!==\"undefined\"?page:undefined,\"pages\" in locals_for_with?locals_for_with.pages:typeof pages!==\"undefined\"?pages:undefined,\"start\" in locals_for_with?locals_for_with.start:typeof start!==\"undefined\"?start:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":21}],17:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (id, undefined) {\njade_mixins[\"textarea\"] = jade_interp = function(id,label,name){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\nbuf.push(\"<div class=\\\"form-group\\\"><label\" + (jade.attr(\"for\", \"\" + (id) + \"\", true, false)) + \" class=\\\"col-sm-2 control-label\\\">\" + (jade.escape((jade_interp = label) == null ? '' : jade_interp)) + \"</label><div class=\\\"col-sm-10\\\"><textarea\" + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + (jade.attr(\"name\", \"\" + (name) + \"\", true, false)) + \" row=\\\"4\\\" class=\\\"form-control\\\"></textarea></div></div>\");\n};\nbuf.push(\"<div\" + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + \" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"questionFormLabel\\\" aria-hidden=\\\"true\\\" class=\\\"modal fade\\\"><div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"close\\\"><span aria-hidden=\\\"true\\\">&times;</span><span class=\\\"sr-only\\\">关闭</span></button><h4 id=\\\"questionFormLabel\\\" class=\\\"modal-title\\\">输入问题详细信息</h4></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal\\\">\");\njade_mixins[\"textarea\"]('content', '问题内容', 'content');\nbuf.push(\"<div class=\\\"form-group\\\"><label for=\\\"type\\\" class=\\\"col-sm-2 control-label\\\">问题内容</label><div class=\\\"col-sm-10\\\"><select id=\\\"type\\\" row=\\\"4\\\" name=\\\"type\\\" class=\\\"form-control textarea\\\"></select></div></div>\");\nvar options = ['A', 'B', 'C', 'D', 'E', 'F']\n// iterate options\n;(function(){\n  var $$obj = options;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var option = $$obj[$index];\n\njade_mixins[\"textarea\"]('option_' + option, \"选项\" + option, 'option_' + option);\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var option = $$obj[$index];\n\njade_mixins[\"textarea\"]('option_' + option, \"选项\" + option, 'option_' + option);\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"<div class=\\\"form-group\\\"><label class=\\\"col-sm-2 control-label\\\">正确答案</label><div class=\\\"col-sm-10\\\">\");\n// iterate options\n;(function(){\n  var $$obj = options;\n  if ('number' == typeof $$obj.length) {\n\n    for (var i = 0, $$l = $$obj.length; i < $$l; i++) {\n      var option = $$obj[i];\n\nbuf.push(\"<div class=\\\"checkbox col-xs-6 col-sm-4\\\"><label><input type=\\\"checkbox\\\" name=\\\"correct_option\\\"\" + (jade.attr(\"value\", i+1, true, false)) + \"/>选项\" + (jade.escape((jade_interp = option) == null ? '' : jade_interp)) + \"</label></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var i in $$obj) {\n      $$l++;      var option = $$obj[i];\n\nbuf.push(\"<div class=\\\"checkbox col-xs-6 col-sm-4\\\"><label><input type=\\\"checkbox\\\" name=\\\"correct_option\\\"\" + (jade.attr(\"value\", i+1, true, false)) + \"/>选项\" + (jade.escape((jade_interp = option) == null ? '' : jade_interp)) + \"</label></div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div></div></form></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">取消</button><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">保存</button></div></div></div></div>\");}.call(this,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined,\"undefined\" in locals_for_with?locals_for_with.undefined:typeof undefined!==\"undefined\"?undefined:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":21}],18:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (button, content, correct_option, id, option_A, option_B, option_C, option_D, option_E, option_F, type) {\nbuf.push(\"<td class=\\\"content\\\">\" + (jade.escape(null == (jade_interp = content) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = type) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = correct_option) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_A) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_B) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_C) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_D) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_E) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_F) ? \"\" : jade_interp)) + \"</td><td><a\" + (jade.attr(\"type\", button, true, false)) + (jade.attr(\"data-id\", id, true, false)) + \" data-toggle=\\\"modal\\\" data-target=\\\"#questionModalForm\\\" class=\\\"btn btn-primary btn-xs\\\">编辑</a><a id=\\\"delete\\\"\" + (jade.attr(\"type\", button, true, false)) + \" class=\\\"btn btn-danger btn-xs\\\">删除</a></td>\");}.call(this,\"button\" in locals_for_with?locals_for_with.button:typeof button!==\"undefined\"?button:undefined,\"content\" in locals_for_with?locals_for_with.content:typeof content!==\"undefined\"?content:undefined,\"correct_option\" in locals_for_with?locals_for_with.correct_option:typeof correct_option!==\"undefined\"?correct_option:undefined,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined,\"option_A\" in locals_for_with?locals_for_with.option_A:typeof option_A!==\"undefined\"?option_A:undefined,\"option_B\" in locals_for_with?locals_for_with.option_B:typeof option_B!==\"undefined\"?option_B:undefined,\"option_C\" in locals_for_with?locals_for_with.option_C:typeof option_C!==\"undefined\"?option_C:undefined,\"option_D\" in locals_for_with?locals_for_with.option_D:typeof option_D!==\"undefined\"?option_D:undefined,\"option_E\" in locals_for_with?locals_for_with.option_E:typeof option_E!==\"undefined\"?option_E:undefined,\"option_F\" in locals_for_with?locals_for_with.option_F:typeof option_F!==\"undefined\"?option_F:undefined,\"type\" in locals_for_with?locals_for_with.type:typeof type!==\"undefined\"?type:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":21}],19:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (id) {\njade_mixins[\"input\"] = jade_interp = function(type,id,placeholder,label,name){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\nbuf.push(\"<div class=\\\"form-group\\\"><label\" + (jade.attr(\"for\", \"\" + (id) + \"\", true, false)) + \" class=\\\"col-xs-2 control-label\\\">\" + (jade.escape((jade_interp = label) == null ? '' : jade_interp)) + \"</label><div class=\\\"col-xs-10\\\"><input\" + (jade.attr(\"type\", \"\" + (type) + \"\", true, false)) + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + (jade.attr(\"placeholder\", \"\" + (placeholder) + \"\", true, false)) + (jade.attr(\"name\", \"\" + (name) + \"\", true, false)) + \" class=\\\"form-control\\\"/></div></div>\");\n};\nbuf.push(\"<div\" + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + \" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"userFormLabel\\\" aria-hidden=\\\"true\\\" class=\\\"modal fade\\\"><div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"close\\\"><span aria-hidden=\\\"true\\\">&times;</span><span class=\\\"sr-only\\\">关闭</span></button><h4 id=\\\"userFormLabel\\\" class=\\\"modal-title\\\">输入用户信息</h4></div><div class=\\\"modal-body\\\"><row><form class=\\\"form-horizontal\\\">\");\njade_mixins[\"input\"]('text', 'username', '用户名', '用户名', 'username');\njade_mixins[\"input\"]('password', 'password', '密码', '密码', 'password');\nbuf.push(\"</form></row></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">取消</button><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">保存</button></div></div></div></div>\");}.call(this,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":21}],20:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (active, admin, id, username) {\nbuf.push(\"<td>\" + (jade.escape(null == (jade_interp = id) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = username) ? \"\" : jade_interp)) + \"</td><td>\");\nif ( !admin)\n{\nbuf.push(\"<a type=\\\"button\\\"\" + (jade.attr(\"data-id\", id, true, false)) + \" data-toggle=\\\"modal\\\" data-target=\\\"#userModalForm\\\" class=\\\"btn btn-default btn-xs\\\">修改密码\");\nif ( active)\n{\nbuf.push(\"<a id=\\\"deactivate\\\" type=\\\"button\\\" class=\\\"btn btn-danger btn-xs\\\">冻结帐号</a>\");\n}\nelse\n{\nbuf.push(\"<a id=\\\"activate\\\" type=\\\"button\\\" class=\\\"btn btn-success btn-xs\\\">激活帐号</a>\");\n}\nbuf.push(\"</a>\");\n}\nbuf.push(\"</td>\");}.call(this,\"active\" in locals_for_with?locals_for_with.active:typeof active!==\"undefined\"?active:undefined,\"admin\" in locals_for_with?locals_for_with.admin:typeof admin!==\"undefined\"?admin:undefined,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined,\"username\" in locals_for_with?locals_for_with.username:typeof username!==\"undefined\"?username:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":21}],21:[function(require,module,exports){\n(function (global){\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.jade = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/**\n * Merge two attribute objects giving precedence\n * to values in object `b`. Classes are special-cased\n * allowing for arrays and merging/joining appropriately\n * resulting in a string.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api private\n */\n\nexports.merge = function merge(a, b) {\n  if (arguments.length === 1) {\n    var attrs = a[0];\n    for (var i = 1; i < a.length; i++) {\n      attrs = merge(attrs, a[i]);\n    }\n    return attrs;\n  }\n  var ac = a['class'];\n  var bc = b['class'];\n\n  if (ac || bc) {\n    ac = ac || [];\n    bc = bc || [];\n    if (!Array.isArray(ac)) ac = [ac];\n    if (!Array.isArray(bc)) bc = [bc];\n    a['class'] = ac.concat(bc).filter(nulls);\n  }\n\n  for (var key in b) {\n    if (key != 'class') {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n};\n\n/**\n * Filter null `val`s.\n *\n * @param {*} val\n * @return {Boolean}\n * @api private\n */\n\nfunction nulls(val) {\n  return val != null && val !== '';\n}\n\n/**\n * join array as classes.\n *\n * @param {*} val\n * @return {String}\n */\nexports.joinClasses = joinClasses;\nfunction joinClasses(val) {\n  return (Array.isArray(val) ? val.map(joinClasses) :\n    (val && typeof val === 'object') ? Object.keys(val).filter(function (key) { return val[key]; }) :\n    [val]).filter(nulls).join(' ');\n}\n\n/**\n * Render the given classes.\n *\n * @param {Array} classes\n * @param {Array.<Boolean>} escaped\n * @return {String}\n */\nexports.cls = function cls(classes, escaped) {\n  var buf = [];\n  for (var i = 0; i < classes.length; i++) {\n    if (escaped && escaped[i]) {\n      buf.push(exports.escape(joinClasses([classes[i]])));\n    } else {\n      buf.push(joinClasses(classes[i]));\n    }\n  }\n  var text = joinClasses(buf);\n  if (text.length) {\n    return ' class=\"' + text + '\"';\n  } else {\n    return '';\n  }\n};\n\n\nexports.style = function (val) {\n  if (val && typeof val === 'object') {\n    return Object.keys(val).map(function (style) {\n      return style + ':' + val[style];\n    }).join(';');\n  } else {\n    return val;\n  }\n};\n/**\n * Render the given attribute.\n *\n * @param {String} key\n * @param {String} val\n * @param {Boolean} escaped\n * @param {Boolean} terse\n * @return {String}\n */\nexports.attr = function attr(key, val, escaped, terse) {\n  if (key === 'style') {\n    val = exports.style(val);\n  }\n  if ('boolean' == typeof val || null == val) {\n    if (val) {\n      return ' ' + (terse ? key : key + '=\"' + key + '\"');\n    } else {\n      return '';\n    }\n  } else if (0 == key.indexOf('data') && 'string' != typeof val) {\n    if (JSON.stringify(val).indexOf('&') !== -1) {\n      console.warn('Since Jade 2.0.0, ampersands (`&`) in data attributes ' +\n                   'will be escaped to `&amp;`');\n    };\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will eliminate the double quotes around dates in ' +\n                   'ISO form after 2.0.0');\n    }\n    return ' ' + key + \"='\" + JSON.stringify(val).replace(/'/g, '&apos;') + \"'\";\n  } else if (escaped) {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + exports.escape(val) + '\"';\n  } else {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + val + '\"';\n  }\n};\n\n/**\n * Render the given attributes object.\n *\n * @param {Object} obj\n * @param {Object} escaped\n * @return {String}\n */\nexports.attrs = function attrs(obj, terse){\n  var buf = [];\n\n  var keys = Object.keys(obj);\n\n  if (keys.length) {\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i]\n        , val = obj[key];\n\n      if ('class' == key) {\n        if (val = joinClasses(val)) {\n          buf.push(' ' + key + '=\"' + val + '\"');\n        }\n      } else {\n        buf.push(exports.attr(key, val, false, terse));\n      }\n    }\n  }\n\n  return buf.join('');\n};\n\n/**\n * Escape the given string of `html`.\n *\n * @param {String} html\n * @return {String}\n * @api private\n */\n\nvar jade_encode_html_rules = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\nvar jade_match_html = /[&<>\"]/g;\n\nfunction jade_encode_char(c) {\n  return jade_encode_html_rules[c] || c;\n}\n\nexports.escape = jade_escape;\nfunction jade_escape(html){\n  var result = String(html).replace(jade_match_html, jade_encode_char);\n  if (result === '' + html) return html;\n  else return result;\n};\n\n/**\n * Re-throw the given `err` in context to the\n * the jade in `filename` at the given `lineno`.\n *\n * @param {Error} err\n * @param {String} filename\n * @param {String} lineno\n * @api private\n */\n\nexports.rethrow = function rethrow(err, filename, lineno, str){\n  if (!(err instanceof Error)) throw err;\n  if ((typeof window != 'undefined' || !filename) && !str) {\n    err.message += ' on line ' + lineno;\n    throw err;\n  }\n  try {\n    str = str || require('fs').readFileSync(filename, 'utf8')\n  } catch (ex) {\n    rethrow(err, null, lineno)\n  }\n  var context = 3\n    , lines = str.split('\\n')\n    , start = Math.max(lineno - context, 0)\n    , end = Math.min(lines.length, lineno + context);\n\n  // Error context\n  var context = lines.slice(start, end).map(function(line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? '  > ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'Jade') + ':' + lineno\n    + '\\n' + context + '\\n\\n' + err.message;\n  throw err;\n};\n\nexports.DebugItem = function DebugItem(lineno, filename) {\n  this.lineno = lineno;\n  this.filename = filename;\n}\n\n},{\"fs\":2}],2:[function(require,module,exports){\n\n},{}]},{},[1])(1)\n});\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"fs\":2}]},{},[1])\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2VsbWVyeS9QeWNoYXJtUHJvamVjdHMvSW50UXVpei93ZWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9ob21lL2VsbWVyeS9QeWNoYXJtUHJvamVjdHMvSW50UXVpei93ZWIvYXBwL3NjcmlwdHMvYXBwLmNvZmZlZSIsIi9ob21lL2VsbWVyeS9QeWNoYXJtUHJvamVjdHMvSW50UXVpei93ZWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbGliL19lbXB0eS5qcyIsImFwcC9zY3JpcHRzL2FjY291bnQtcGFnZS5jb2ZmZWUiLCJhcHAvc2NyaXB0cy9hY3Rpdml0eS1wYWdlLmNvZmZlZSIsImFwcC9zY3JpcHRzL2Jvb2stcGFnZS5jb2ZmZWUiLCJhcHAvc2NyaXB0cy9kYXRhL2Jhc2UtY29sbGVjdGlvbi5jb2ZmZWUiLCJhcHAvc2NyaXB0cy9kYXRhL2Jhc2UtbW9kZWwuY29mZmVlIiwiYXBwL3NjcmlwdHMvcXVlc3Rpb24tcGFnZS5jb2ZmZWUiLCJhcHAvc2NyaXB0cy91aS1taXhpbi5jb2ZmZWUiLCJhcHAvc2NyaXB0cy92aWV3cy9tb2RhbC12aWV3LmNvZmZlZSIsImFwcC9zY3JpcHRzL3ZpZXdzL3BhZ2luYXRpb24tdmlldy5jb2ZmZWUiLCJhcHAvc2NyaXB0cy92aWV3cy90YWJsZS12aWV3LmNvZmZlZSIsImFwcC90ZW1wbGF0ZXMvYWN0aXZpdHktcm93LmphZGUiLCJhcHAvdGVtcGxhdGVzL2Jvb2stbW9kYWwuamFkZSIsImFwcC90ZW1wbGF0ZXMvYm9vay1yb3cuamFkZSIsImFwcC90ZW1wbGF0ZXMvcGFnZS1uYXYuamFkZSIsImFwcC90ZW1wbGF0ZXMvcXVlc3Rpb24tbW9kYWwuamFkZSIsImFwcC90ZW1wbGF0ZXMvcXVlc3Rpb24tcm93LmphZGUiLCJhcHAvdGVtcGxhdGVzL3VzZXItbW9kYWwuamFkZSIsImFwcC90ZW1wbGF0ZXMvdXNlci1yb3cuamFkZSIsIm5vZGVfbW9kdWxlcy9qYWRlL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdlVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciBJbnRBcHAsIFVJTWl4aW47XG5cblVJTWl4aW4gPSByZXF1aXJlKCd1aS1taXhpbicpO1xuXG53aW5kb3cuSW50QXBwID0gSW50QXBwID0ge1xuICBBY2NvdW50UGFnZVZpZXc6IHJlcXVpcmUoJ2FjY291bnQtcGFnZScpLFxuICBCb29rUGFnZVZpZXc6IHJlcXVpcmUoJ2Jvb2stcGFnZScpLFxuICBRdWVzdGlvblBhZ2VWaWV3OiByZXF1aXJlKCdxdWVzdGlvbi1wYWdlJyksXG4gIEFjdGl2aXR5UGFnZVZpZXc6IHJlcXVpcmUoJ2FjdGl2aXR5LXBhZ2UnKVxufTtcblxuXy5leHRlbmQoSW50QXBwLCBVSU1peGluKTtcblxuSW50QXBwLmluaXRVSSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmxheW91dC5hY3RpdmF0ZSgpO1xuICB0aGlzLnB1c2hNZW51LmFjdGl2YXRlKCk7XG4gIHJldHVybiB0aGlzLnRyZWUoKTtcbn07XG5cbiQoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBJbnRBcHAuaW5pdFVJKCk7XG59KTtcblxuIixudWxsLCJ2YXIgQWNjb3VudFBhZ2VWaWV3LCBCYXNlQ29sbGVjdGlvbiwgQmFzZU1vZGVsLCBNb2RhbFZpZXcsIFBhZ2luYXRpb25WaWV3LCBUYWJsZVZpZXcsIFVzZXIsIFVzZXJNb2RhbFZpZXcsIFVzZXJWaWV3LCBVc2VycywgVXNlcnNWaWV3LFxuICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuQmFzZU1vZGVsID0gcmVxdWlyZSgnZGF0YS9iYXNlLW1vZGVsJyk7XG5cbkJhc2VDb2xsZWN0aW9uID0gcmVxdWlyZSgnZGF0YS9iYXNlLWNvbGxlY3Rpb24nKTtcblxuVGFibGVWaWV3ID0gcmVxdWlyZSgndmlld3MvdGFibGUtdmlldycpO1xuXG5QYWdpbmF0aW9uVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3BhZ2luYXRpb24tdmlldycpO1xuXG5Nb2RhbFZpZXcgPSByZXF1aXJlKCd2aWV3cy9tb2RhbC12aWV3Jyk7XG5cblVzZXIgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoVXNlciwgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gVXNlcigpIHtcbiAgICByZXR1cm4gVXNlci5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFVzZXIucHJvdG90eXBlLnVybFJvb3QgPSAnL2FwaS92MS91c2VyJztcblxuICBVc2VyLnByb3RvdHlwZS5kZWZhdWx0cyA9IHtcbiAgICB1c2VybmFtZTogJycsXG4gICAgcGFzc3dvcmQ6ICcnXG4gIH07XG5cbiAgVXNlci5wcm90b3R5cGUudmFsaWRhdGlvbiA9IHtcbiAgICB1c2VybmFtZToge1xuICAgICAgYmxhbms6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogJ+eUqOaIt+WQjeS4jeiDveS4uuepuidcbiAgICB9LFxuICAgIHBhc3N3b3JkOiB7XG4gICAgICBibGFuazogZmFsc2UsXG4gICAgICBtaW5MZW5ndGg6IDYsXG4gICAgICBtZXNzYWdlOiAn5a+G56CB5LiN6IO95bCR5LqONuS9jSdcbiAgICB9XG4gIH07XG5cbiAgVXNlci5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXR0cnMsIHVybDtcbiAgICBhdHRycyA9IHtcbiAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgIH07XG4gICAgdXJsID0gXCIvYWNjb3VudHMvXCIgKyB0aGlzLmlkICsgXCIvdG9nZ2xlXCI7XG4gICAgcmV0dXJuIHRoaXMuc2F2ZShhdHRycywge1xuICAgICAgYXR0cnM6IGF0dHJzLFxuICAgICAgdXJsOiB1cmxcbiAgICB9KTtcbiAgfTtcblxuICBVc2VyLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGF0dHJzLCB1cmw7XG4gICAgYXR0cnMgPSB7XG4gICAgICBhY3RpdmU6IGZhbHNlXG4gICAgfTtcbiAgICB1cmwgPSBcIi9hY2NvdW50cy9cIiArIHRoaXMuaWQgKyBcIi90b2dnbGVcIjtcbiAgICByZXR1cm4gdGhpcy5zYXZlKGF0dHJzLCB7XG4gICAgICBhdHRyczogYXR0cnMsXG4gICAgICB1cmw6IHVybFxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBVc2VyO1xuXG59KShCYXNlTW9kZWwpO1xuXG5Vc2VycyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChVc2Vycywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gVXNlcnMoKSB7XG4gICAgcmV0dXJuIFVzZXJzLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgVXNlcnMucHJvdG90eXBlLnVybCA9ICcvYXBpL3YxL3VzZXInO1xuXG4gIFVzZXJzLnByb3RvdHlwZS5tb2RlbCA9IFVzZXI7XG5cbiAgcmV0dXJuIFVzZXJzO1xuXG59KShCYXNlQ29sbGVjdGlvbik7XG5cblVzZXJWaWV3ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKFVzZXJWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBVc2VyVmlldygpIHtcbiAgICByZXR1cm4gVXNlclZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBVc2VyVmlldy5wcm90b3R5cGUudGFnTmFtZSA9ICd0cic7XG5cbiAgVXNlclZpZXcucHJvdG90eXBlLnRlbXBsYXRlID0gcmVxdWlyZSgndGVtcGxhdGVzL3VzZXItcm93Jyk7XG5cbiAgVXNlclZpZXcucHJvdG90eXBlLmV2ZW50cyA9IHtcbiAgICAnY2xpY2sgI2RlYWN0aXZhdGUnOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLm1vZGVsLmRlYWN0aXZhdGUoKTtcbiAgICB9LFxuICAgICdjbGljayAjYWN0aXZhdGUnOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLm1vZGVsLmFjdGl2YXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIFVzZXJWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCBcInN5bmNcIiwgdGhpcy5yZW5kZXIpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsIFwiZGVzdHJveVwiLCB0aGlzLnJlbW92ZSk7XG4gIH07XG5cbiAgVXNlclZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSh0aGlzLm1vZGVsLnRvSlNPTigpKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgcmV0dXJuIFVzZXJWaWV3O1xuXG59KShCYWNrYm9uZS5WaWV3KTtcblxuVXNlck1vZGFsVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChVc2VyTW9kYWxWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBVc2VyTW9kYWxWaWV3KCkge1xuICAgIHJldHVybiBVc2VyTW9kYWxWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgVXNlck1vZGFsVmlldy5wcm90b3R5cGUudGVtcGxhdGUgPSByZXF1aXJlKCd0ZW1wbGF0ZXMvdXNlci1tb2RhbCcpO1xuXG4gIFVzZXJNb2RhbFZpZXcucHJvdG90eXBlLmJpbmRpbmdzID0ge1xuICAgICcjdXNlcm5hbWUnOiAndXNlcm5hbWUnLFxuICAgICcjcGFzc3dvcmQnOiAncGFzc3dvcmQnXG4gIH07XG5cbiAgVXNlck1vZGFsVmlldy5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgdXJsLCB4aHI7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHVybCA9IHRoaXMubW9kZWwuaXNOZXcoKSA/IFwiL2FjY291bnRzL2NyZWF0ZVwiIDogXCIvYWNjb3VudHMvXCIgKyB0aGlzLm1vZGVsLmlkICsgXCIvY2hhbmdlUHdkXCI7XG4gICAgeGhyID0gdGhpcy5tb2RlbC5zYXZlKG51bGwsIHtcbiAgICAgIHVybDogdXJsXG4gICAgfSk7XG4gICAgaWYgKHhocikge1xuICAgICAgcmV0dXJuIHhoci50aGVuKCgoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIF90aGlzLmNvbGxlY3Rpb24uYWRkKF90aGlzLm1vZGVsKTtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuJGVsLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSkpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVXNlck1vZGFsVmlldztcblxufSkoTW9kYWxWaWV3KTtcblxuVXNlcnNWaWV3ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKFVzZXJzVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gVXNlcnNWaWV3KCkge1xuICAgIHJldHVybiBVc2Vyc1ZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBVc2Vyc1ZpZXcucHJvdG90eXBlLnJvdyA9IGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgcmV0dXJuIG5ldyBVc2VyVmlldyh7XG4gICAgICBtb2RlbDogbW9kZWxcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gVXNlcnNWaWV3O1xuXG59KShUYWJsZVZpZXcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFjY291bnRQYWdlVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChBY2NvdW50UGFnZVZpZXcsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIEFjY291bnRQYWdlVmlldygpIHtcbiAgICByZXR1cm4gQWNjb3VudFBhZ2VWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgQWNjb3VudFBhZ2VWaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFnZU5hdlZpZXcsIHVzZXJNb2RhbFZpZXcsIHVzZXJzLCB1c2Vyc1ZpZXc7XG4gICAgdXNlcnMgPSBuZXcgVXNlcnM7XG4gICAgdXNlcnNWaWV3ID0gbmV3IFVzZXJzVmlldyh7XG4gICAgICBlbDogJCgnLnRhYmxlLWNvbnRhaW5lcicpLFxuICAgICAgY29sbGVjdGlvbjogdXNlcnNcbiAgICB9KTtcbiAgICBwYWdlTmF2VmlldyA9IG5ldyBQYWdpbmF0aW9uVmlldyh7XG4gICAgICBjb2xsZWN0aW9uOiB1c2Vyc1xuICAgIH0pO1xuICAgIHVzZXJzVmlldy4kZWwuYWZ0ZXIocGFnZU5hdlZpZXcucmVuZGVyKCkuJGVsKTtcbiAgICB1c2VyTW9kYWxWaWV3ID0gbmV3IFVzZXJNb2RhbFZpZXcoe1xuICAgICAgaWQ6ICd1c2VyTW9kYWxGb3JtJyxcbiAgICAgIGNvbGxlY3Rpb246IHVzZXJzXG4gICAgfSk7XG4gICAgdXNlck1vZGFsVmlldy5yZW5kZXIoKTtcbiAgICB1c2Vycy5mZXRjaCh7XG4gICAgICByZXNldDogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBBY2NvdW50UGFnZVZpZXc7XG5cbn0pKEJhY2tib25lLlZpZXcpO1xuXG4iLCJ2YXIgQWN0aXZpdGllcywgQWN0aXZpdGllc1ZpZXcsIEFjdGl2aXR5LCBBY3Rpdml0eVBhZ2VWaWV3LCBBY3Rpdml0eVZpZXcsIEJhc2VDb2xsZWN0aW9uLCBCYXNlTW9kZWwsIERBVEVUSU1FX0ZPUk1BVCwgTW9kYWxWaWV3LCBQYWdpbmF0aW9uVmlldywgVGFibGVWaWV3LFxuICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuQmFzZU1vZGVsID0gcmVxdWlyZSgnZGF0YS9iYXNlLW1vZGVsJyk7XG5cbkJhc2VDb2xsZWN0aW9uID0gcmVxdWlyZSgnZGF0YS9iYXNlLWNvbGxlY3Rpb24nKTtcblxuVGFibGVWaWV3ID0gcmVxdWlyZSgndmlld3MvdGFibGUtdmlldycpO1xuXG5QYWdpbmF0aW9uVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3BhZ2luYXRpb24tdmlldycpO1xuXG5Nb2RhbFZpZXcgPSByZXF1aXJlKCd2aWV3cy9tb2RhbC12aWV3Jyk7XG5cbkRBVEVUSU1FX0ZPUk1BVCA9ICdZWVlZLU1NLUREIEhIOm1tOnNzJztcblxuQWN0aXZpdHkgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoQWN0aXZpdHksIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIEFjdGl2aXR5KCkge1xuICAgIHJldHVybiBBY3Rpdml0eS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIEFjdGl2aXR5LnByb3RvdHlwZS51cmxSb290ID0gJy9hcGkvdjEvYWN0aXZpdHkvJztcblxuICBBY3Rpdml0eS5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XG4gICAgXCJpbmZvX2ZpZWxkXzFcIjogXCJcIixcbiAgICBcImluZm9fZmllbGRfMlwiOiBcIlwiLFxuICAgIFwiaW5mb19maWVsZF8zXCI6IFwiXCJcbiAgfTtcblxuICByZXR1cm4gQWN0aXZpdHk7XG5cbn0pKEJhc2VNb2RlbCk7XG5cbkFjdGl2aXRpZXMgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoQWN0aXZpdGllcywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gQWN0aXZpdGllcygpIHtcbiAgICByZXR1cm4gQWN0aXZpdGllcy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIEFjdGl2aXRpZXMucHJvdG90eXBlLnVybCA9ICcvYXBpL3YxL2FjdGl2aXR5Lyc7XG5cbiAgQWN0aXZpdGllcy5wcm90b3R5cGUubW9kZWwgPSBBY3Rpdml0eTtcblxuICByZXR1cm4gQWN0aXZpdGllcztcblxufSkoQmFzZUNvbGxlY3Rpb24pO1xuXG5BY3Rpdml0eVZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoQWN0aXZpdHlWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBBY3Rpdml0eVZpZXcoKSB7XG4gICAgcmV0dXJuIEFjdGl2aXR5Vmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIEFjdGl2aXR5Vmlldy5wcm90b3R5cGUudGFnTmFtZSA9ICd0cic7XG5cbiAgQWN0aXZpdHlWaWV3LnByb3RvdHlwZS50ZW1wbGF0ZSA9IHJlcXVpcmUoJ3RlbXBsYXRlcy9hY3Rpdml0eS1yb3cnKTtcblxuICBBY3Rpdml0eVZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBlbmRfYXQsIGZyb250X2hvc3QsIG5vdywgc3RhcnRfYXQ7XG4gICAgZnJvbnRfaG9zdCA9IHdpbmRvdy5mcm9udF9ob3N0IHx8ICcvJztcbiAgICBkYXRhID0gdGhpcy5tb2RlbC50b0pTT04oKTtcbiAgICBzdGFydF9hdCA9IG5ldyBtb21lbnQoZGF0YS5zdGFydF9hdCwgREFURVRJTUVfRk9STUFUKTtcbiAgICBlbmRfYXQgPSBuZXcgbW9tZW50KGRhdGEuZW5kX2F0LCBEQVRFVElNRV9GT1JNQVQpO1xuICAgIG5vdyA9IG5ldyBtb21lbnQoKTtcbiAgICBkYXRhWydzdGF0dXMnXSA9IChzdGFydF9hdCA8IG5vdyAmJiBub3cgPCBlbmRfYXQpID8gJ+W8gOWQrycgOiAn5YWz6ZetJztcbiAgICBkYXRhWyd1cmwnXSA9IFwiaHR0cDovL1wiICsgZnJvbnRfaG9zdCArIFwiL2luZGV4Lmh0bWwjXCIgKyBkYXRhWydjb2RlJ107XG4gICAgZGF0YVsndHlwZSddID0gKGZ1bmN0aW9uKCkge1xuICAgICAgc3dpdGNoIChkYXRhWyd0eXBlJ10pIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiAn5pmu6YCaJztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAn6ZmQ5pe2JztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiAn5oyR5oiYJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ+acquefpSc7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUoZGF0YSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBBY3Rpdml0eVZpZXc7XG5cbn0pKEJhY2tib25lLlZpZXcpO1xuXG5BY3Rpdml0aWVzVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChBY3Rpdml0aWVzVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gQWN0aXZpdGllc1ZpZXcoKSB7XG4gICAgcmV0dXJuIEFjdGl2aXRpZXNWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgQWN0aXZpdGllc1ZpZXcucHJvdG90eXBlLnJvdyA9IGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgcmV0dXJuIG5ldyBBY3Rpdml0eVZpZXcoe1xuICAgICAgbW9kZWw6IG1vZGVsXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEFjdGl2aXRpZXNWaWV3O1xuXG59KShUYWJsZVZpZXcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFjdGl2aXR5UGFnZVZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoQWN0aXZpdHlQYWdlVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gQWN0aXZpdHlQYWdlVmlldygpIHtcbiAgICByZXR1cm4gQWN0aXZpdHlQYWdlVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIEFjdGl2aXR5UGFnZVZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhY3Rpdml0aWVzLCBhY3Rpdml0aWVzVmlldywgcGFnZU5hdlZpZXc7XG4gICAgYWN0aXZpdGllcyA9IG5ldyBBY3Rpdml0aWVzO1xuICAgIGFjdGl2aXRpZXNWaWV3ID0gbmV3IEFjdGl2aXRpZXNWaWV3KHtcbiAgICAgIGVsOiAkKCcjYWN0aXZpdHktdGFibGUtY29udGFpbmVyJyksXG4gICAgICBjb2xsZWN0aW9uOiBhY3Rpdml0aWVzXG4gICAgfSk7XG4gICAgcGFnZU5hdlZpZXcgPSBuZXcgUGFnaW5hdGlvblZpZXcoe1xuICAgICAgY29sbGVjdGlvbjogYWN0aXZpdGllc1xuICAgIH0pO1xuICAgIGFjdGl2aXRpZXNWaWV3LiRlbC5hZnRlcihwYWdlTmF2Vmlldy5yZW5kZXIoKS4kZWwpO1xuICAgIGFjdGl2aXRpZXMuZmV0Y2goe1xuICAgICAgcmVzZXQ6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICByZXR1cm4gQWN0aXZpdHlQYWdlVmlldztcblxufSkoQmFja2JvbmUuVmlldyk7XG5cbiIsInZhciBCYXNlQ29sbGVjdGlvbiwgQmFzZU1vZGVsLCBCb29rUGFnZVZpZXcsIE1vZGFsVmlldywgUGFnaW5hdGlvblZpZXcsIFF1aXpCb29rLCBRdWl6Qm9va01vZGFsVmlldywgUXVpekJvb2tWaWV3LCBRdWl6Qm9va3MsIFF1aXpCb29rc1ZpZXcsIFRhYmxlVmlldyxcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbkJhc2VNb2RlbCA9IHJlcXVpcmUoJ2RhdGEvYmFzZS1tb2RlbCcpO1xuXG5CYXNlQ29sbGVjdGlvbiA9IHJlcXVpcmUoJ2RhdGEvYmFzZS1jb2xsZWN0aW9uJyk7XG5cblRhYmxlVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3RhYmxlLXZpZXcnKTtcblxuUGFnaW5hdGlvblZpZXcgPSByZXF1aXJlKCd2aWV3cy9wYWdpbmF0aW9uLXZpZXcnKTtcblxuTW9kYWxWaWV3ID0gcmVxdWlyZSgndmlld3MvbW9kYWwtdmlldycpO1xuXG5RdWl6Qm9vayA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWl6Qm9vaywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVpekJvb2soKSB7XG4gICAgcmV0dXJuIFF1aXpCb29rLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVpekJvb2sucHJvdG90eXBlLnVybFJvb3QgPSAnL2FwaS92MS9xdWl6Ym9vayc7XG5cbiAgUXVpekJvb2sucHJvdG90eXBlLnZhbGlkYXRpb24gPSB7XG4gICAgdGl0bGU6IHtcbiAgICAgIGJsYW5rOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6ICfpopjlupPlkI3kuI3og73kuLrnqbonXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBRdWl6Qm9vaztcblxufSkoQmFzZU1vZGVsKTtcblxuUXVpekJvb2tzID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKFF1aXpCb29rcywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVpekJvb2tzKCkge1xuICAgIHJldHVybiBRdWl6Qm9va3MuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBRdWl6Qm9va3MucHJvdG90eXBlLnVybCA9ICcvYXBpL3YxL3F1aXpib29rJztcblxuICBRdWl6Qm9va3MucHJvdG90eXBlLm1vZGVsID0gUXVpekJvb2s7XG5cbiAgcmV0dXJuIFF1aXpCb29rcztcblxufSkoQmFzZUNvbGxlY3Rpb24pO1xuXG5RdWl6Qm9va1ZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoUXVpekJvb2tWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBRdWl6Qm9va1ZpZXcoKSB7XG4gICAgcmV0dXJuIFF1aXpCb29rVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFF1aXpCb29rVmlldy5wcm90b3R5cGUudGFnTmFtZSA9ICd0cic7XG5cbiAgUXVpekJvb2tWaWV3LnByb3RvdHlwZS50ZW1wbGF0ZSA9IHJlcXVpcmUoJ3RlbXBsYXRlcy9ib29rLXJvdycpO1xuXG4gIFF1aXpCb29rVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsIFwic3luY1wiLCB0aGlzLnJlbmRlcik7XG4gIH07XG5cbiAgUXVpekJvb2tWaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5tb2RlbC50b0pTT04oKSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBRdWl6Qm9va1ZpZXc7XG5cbn0pKEJhY2tib25lLlZpZXcpO1xuXG5RdWl6Qm9va01vZGFsVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWl6Qm9va01vZGFsVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVpekJvb2tNb2RhbFZpZXcoKSB7XG4gICAgcmV0dXJuIFF1aXpCb29rTW9kYWxWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVpekJvb2tNb2RhbFZpZXcucHJvdG90eXBlLnRlbXBsYXRlID0gcmVxdWlyZSgndGVtcGxhdGVzL2Jvb2stbW9kYWwnKTtcblxuICBRdWl6Qm9va01vZGFsVmlldy5wcm90b3R5cGUuYmluZGluZ3MgPSB7XG4gICAgJyN0aXRsZSc6ICd0aXRsZSdcbiAgfTtcblxuICByZXR1cm4gUXVpekJvb2tNb2RhbFZpZXc7XG5cbn0pKE1vZGFsVmlldyk7XG5cblF1aXpCb29rc1ZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoUXVpekJvb2tzVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVpekJvb2tzVmlldygpIHtcbiAgICByZXR1cm4gUXVpekJvb2tzVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFF1aXpCb29rc1ZpZXcucHJvdG90eXBlLnJvdyA9IGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgcmV0dXJuIG5ldyBRdWl6Qm9va1ZpZXcoe1xuICAgICAgbW9kZWw6IG1vZGVsXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFF1aXpCb29rc1ZpZXc7XG5cbn0pKFRhYmxlVmlldyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQm9va1BhZ2VWaWV3ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKEJvb2tQYWdlVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gQm9va1BhZ2VWaWV3KCkge1xuICAgIHJldHVybiBCb29rUGFnZVZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBCb29rUGFnZVZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYWdlTmF2VmlldywgcXVpekJvb2tNb2RhbFZpZXcsIHF1aXpCb29rcywgcXVpekJvb2tzVmlldztcbiAgICBxdWl6Qm9va3MgPSBuZXcgUXVpekJvb2tzO1xuICAgIHF1aXpCb29rc1ZpZXcgPSBuZXcgUXVpekJvb2tzVmlldyh7XG4gICAgICBlbDogJCgnI3F1aXpib29rLXRhYmxlLWNvbnRhaW5lcicpLFxuICAgICAgY29sbGVjdGlvbjogcXVpekJvb2tzXG4gICAgfSk7XG4gICAgcGFnZU5hdlZpZXcgPSBuZXcgUGFnaW5hdGlvblZpZXcoe1xuICAgICAgY29sbGVjdGlvbjogcXVpekJvb2tzXG4gICAgfSk7XG4gICAgcXVpekJvb2tzVmlldy4kZWwuYWZ0ZXIocGFnZU5hdlZpZXcucmVuZGVyKCkuJGVsKTtcbiAgICBxdWl6Qm9va01vZGFsVmlldyA9IG5ldyBRdWl6Qm9va01vZGFsVmlldyh7XG4gICAgICBpZDogJ2Jvb2tNb2RhbEZvcm0nLFxuICAgICAgY29sbGVjdGlvbjogcXVpekJvb2tzXG4gICAgfSk7XG4gICAgcXVpekJvb2tNb2RhbFZpZXcucmVuZGVyKCk7XG4gICAgcXVpekJvb2tzLmZldGNoKHtcbiAgICAgIHJlc2V0OiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgcmV0dXJuIEJvb2tQYWdlVmlldztcblxufSkoQmFja2JvbmUuVmlldyk7XG5cbiIsInZhciBCYXNlQ29sbGVjdGlvbixcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbkJhc2VDb2xsZWN0aW9uID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKEJhc2VDb2xsZWN0aW9uLCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBCYXNlQ29sbGVjdGlvbigpIHtcbiAgICByZXR1cm4gQmFzZUNvbGxlY3Rpb24uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBCYXNlQ29sbGVjdGlvbi5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgaWYgKGRhdGEgJiYgZGF0YS5tZXRhKSB7XG4gICAgICB0aGlzLm1ldGEgPSBkYXRhLm1ldGE7XG4gICAgfVxuICAgIHJldHVybiBkYXRhICYmIGRhdGEub2JqZWN0cyB8fCBkYXRhO1xuICB9O1xuXG4gIHJldHVybiBCYXNlQ29sbGVjdGlvbjtcblxufSkoQmFja2JvbmUuQ29sbGVjdGlvbik7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFzZUNvbGxlY3Rpb247XG5cbiIsInZhciBCYXNlTW9kZWwsXG4gIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5CYXNlTW9kZWwgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoQmFzZU1vZGVsLCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBCYXNlTW9kZWwoKSB7XG4gICAgcmV0dXJuIEJhc2VNb2RlbC5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIEJhc2VNb2RlbC5wcm90b3R5cGUudXJsID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9yaWdVcmw7XG4gICAgb3JpZ1VybCA9IEJhc2VNb2RlbC5fX3N1cGVyX18udXJsLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIG9yaWdVcmwgKyAob3JpZ1VybC5sZW5ndGggPiAwICYmIG9yaWdVcmwuY2hhckF0KG9yaWdVcmwubGVuZ3RoIC0gMSkgPT09ICcvJyA/ICcnIDogJy8nKTtcbiAgfTtcblxuICBCYXNlTW9kZWwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIGlmIChkYXRhICYmIGRhdGEub2JqZWN0cyAmJiBfLmlzQXJyYXkoZGF0YS5vYmplY3RzKSkge1xuICAgICAgcmV0dXJuIGRhdGEub2JqZWN0c1swXSB8fCB7fTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgcmV0dXJuIEJhc2VNb2RlbDtcblxufSkoQmFja2JvbmUuTW9kZWwpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VNb2RlbDtcblxuIiwidmFyIEJhc2VDb2xsZWN0aW9uLCBCYXNlTW9kZWwsIE1vZGFsVmlldywgUGFnaW5hdGlvblZpZXcsIFF1ZXN0aW9uLCBRdWVzdGlvbkxpc3RQYW5lbFZpZXcsIFF1ZXN0aW9uTW9kYWxWaWV3LCBRdWVzdGlvblBhZ2VWaWV3LCBRdWVzdGlvblZpZXcsIFF1ZXN0aW9ucywgUXVlc3Rpb25zVmlldywgVGFibGVWaWV3LCBjaGFyMkludCwgaW50MkNoYXIsXG4gIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5CYXNlTW9kZWwgPSByZXF1aXJlKCdkYXRhL2Jhc2UtbW9kZWwnKTtcblxuQmFzZUNvbGxlY3Rpb24gPSByZXF1aXJlKCdkYXRhL2Jhc2UtY29sbGVjdGlvbicpO1xuXG5UYWJsZVZpZXcgPSByZXF1aXJlKCd2aWV3cy90YWJsZS12aWV3Jyk7XG5cblBhZ2luYXRpb25WaWV3ID0gcmVxdWlyZSgndmlld3MvcGFnaW5hdGlvbi12aWV3Jyk7XG5cbk1vZGFsVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL21vZGFsLXZpZXcnKTtcblxuaW50MkNoYXIgPSBmdW5jdGlvbihpKSB7XG4gIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDY0ICsgcGFyc2VJbnQoaSkpO1xufTtcblxuY2hhcjJJbnQgPSBmdW5jdGlvbihjKSB7XG4gIGlmICghIWMpIHtcbiAgICByZXR1cm4gYy5jaGFyQ29kZUF0KDApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjO1xuICB9XG59O1xuXG5RdWVzdGlvbiA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWVzdGlvbiwgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVlc3Rpb24oKSB7XG4gICAgcmV0dXJuIFF1ZXN0aW9uLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVlc3Rpb24ucHJvdG90eXBlLnVybFJvb3QgPSAnL2FwaS92MS9xdWVzdGlvbi8nO1xuXG4gIFF1ZXN0aW9uLnByb3RvdHlwZS5kZWZhdWx0cyA9IHtcbiAgICBcInR5cGVcIjogMSxcbiAgICBcImNvcnJlY3Rfb3B0aW9uXCI6IFwiMVwiLFxuICAgIFwib3B0aW9uX0FcIjogXCJcIixcbiAgICBcIm9wdGlvbl9CXCI6IFwiXCIsXG4gICAgXCJvcHRpb25fQ1wiOiBcIlwiLFxuICAgIFwib3B0aW9uX0RcIjogXCJcIixcbiAgICBcIm9wdGlvbl9FXCI6IFwiXCIsXG4gICAgXCJvcHRpb25fRlwiOiBcIlwiXG4gIH07XG5cbiAgUXVlc3Rpb24ucHJvdG90eXBlLnZhbGlkYXRpb24gPSB7XG4gICAgY29udGVudDoge1xuICAgICAgYmxhbms6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogJ+mimOebruWGheWuueS4jeiDveS4uuepuidcbiAgICB9LFxuICAgIHR5cGU6IHtcbiAgICAgIGJsYW5rOiBmYWxzZSxcbiAgICAgIGZuOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDEgfHwgdmFsdWUgPT09IDI7XG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ+mimOebruexu+Wei+W/hemhu+aYr+WkmumAieaIluWNlemAiSdcbiAgICB9LFxuICAgIGNvcnJlY3Rfb3B0aW9uOiB7XG4gICAgICBibGFuazogZmFsc2UsXG4gICAgICBmbjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc3dpdGNoIChmYWxzZSkge1xuICAgICAgICAgICAgY2FzZSAhXy5pc0FycmF5KHZhbHVlKTpcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgY2FzZSAhXy5pc1N0cmluZyh2YWx1ZSk6XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICAgICAgcmV0dXJuICEoXy5pc0VtcHR5KHZhbHVlKSkgJiYgXy5ldmVyeSh2YWx1ZSwgKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ29wdGlvbl8nICsgaW50MkNoYXIoaSkpO1xuICAgICAgICB9KSwgdGhpcyk7XG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ+ato+ehruetlOahiOiuvue9ruWHuumUme+8jOazqOaEj+WvueW6lOeahOmAiemhueaYr+WQpuiuvue9ruS6huetlOahiCdcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFF1ZXN0aW9uO1xuXG59KShCYXNlTW9kZWwpO1xuXG5RdWVzdGlvbnMgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoUXVlc3Rpb25zLCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBRdWVzdGlvbnMoKSB7XG4gICAgcmV0dXJuIFF1ZXN0aW9ucy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFF1ZXN0aW9ucy5wcm90b3R5cGUudXJsID0gJy9hcGkvdjEvcXVlc3Rpb24vJztcblxuICBRdWVzdGlvbnMucHJvdG90eXBlLm1vZGVsID0gUXVlc3Rpb247XG5cbiAgUXVlc3Rpb25zLnByb3RvdHlwZS5zdGF0ZSA9IHt9O1xuXG4gIFF1ZXN0aW9ucy5wcm90b3R5cGUuZmV0Y2ggPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIGRhdGE7XG4gICAgb3B0aW9ucyA9IF8uZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICBkYXRhID0gb3B0aW9ucy5kYXRhO1xuICAgIG9wdGlvbnMuZGF0YSA9IF8uZXh0ZW5kKHt9LCB0aGlzLnN0YXRlLCBkYXRhKTtcbiAgICByZXR1cm4gUXVlc3Rpb25zLl9fc3VwZXJfXy5mZXRjaC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICB9O1xuXG4gIHJldHVybiBRdWVzdGlvbnM7XG5cbn0pKEJhc2VDb2xsZWN0aW9uKTtcblxuUXVlc3Rpb25WaWV3ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKFF1ZXN0aW9uVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVlc3Rpb25WaWV3KCkge1xuICAgIHJldHVybiBRdWVzdGlvblZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBRdWVzdGlvblZpZXcucHJvdG90eXBlLnRhZ05hbWUgPSAndHInO1xuXG4gIFF1ZXN0aW9uVmlldy5wcm90b3R5cGUudGVtcGxhdGUgPSByZXF1aXJlKCd0ZW1wbGF0ZXMvcXVlc3Rpb24tcm93Jyk7XG5cbiAgUXVlc3Rpb25WaWV3LnByb3RvdHlwZS5ldmVudHMgPSB7XG4gICAgJ2NsaWNrICNkZWxldGUnOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLm1vZGVsLmRlc3Ryb3koKTtcbiAgICB9XG4gIH07XG5cbiAgUXVlc3Rpb25WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCBcInN5bmNcIiwgdGhpcy5yZW5kZXIpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsIFwiZGVzdHJveVwiLCB0aGlzLnJlbW92ZSk7XG4gIH07XG5cbiAgUXVlc3Rpb25WaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29ycmVjdCwgZGF0YTtcbiAgICBkYXRhID0gdGhpcy5tb2RlbC50b0pTT04oKTtcbiAgICBjb3JyZWN0ID0gZGF0YVsnY29ycmVjdF9vcHRpb24nXS5zcGxpdCgnLCcpO1xuICAgIGRhdGFbJ2NvcnJlY3Rfb3B0aW9uJ10gPSBfLm1hcChjb3JyZWN0LCBpbnQyQ2hhcikuam9pbigpO1xuICAgIGRhdGFbJ3R5cGUnXSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHN3aXRjaCAoZGF0YVsndHlwZSddKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gJ+WNlemAiSc7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gJ+WkmumAiSc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICflpJrpgIknO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgdGhpcy4kZWwuaHRtbCh0aGlzLnRlbXBsYXRlKGRhdGEpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICByZXR1cm4gUXVlc3Rpb25WaWV3O1xuXG59KShCYWNrYm9uZS5WaWV3KTtcblxuUXVlc3Rpb25zVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWVzdGlvbnNWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBRdWVzdGlvbnNWaWV3KCkge1xuICAgIHJldHVybiBRdWVzdGlvbnNWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVlc3Rpb25zVmlldy5wcm90b3R5cGUucm93ID0gZnVuY3Rpb24obW9kZWwpIHtcbiAgICByZXR1cm4gbmV3IFF1ZXN0aW9uVmlldyh7XG4gICAgICBtb2RlbDogbW9kZWxcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gUXVlc3Rpb25zVmlldztcblxufSkoVGFibGVWaWV3KTtcblxuUXVlc3Rpb25Nb2RhbFZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoUXVlc3Rpb25Nb2RhbFZpZXcsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIFF1ZXN0aW9uTW9kYWxWaWV3KCkge1xuICAgIHJldHVybiBRdWVzdGlvbk1vZGFsVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFF1ZXN0aW9uTW9kYWxWaWV3LnByb3RvdHlwZS50ZW1wbGF0ZSA9IHJlcXVpcmUoJ3RlbXBsYXRlcy9xdWVzdGlvbi1tb2RhbCcpO1xuXG4gIFF1ZXN0aW9uTW9kYWxWaWV3LnByb3RvdHlwZS5iaW5kaW5ncyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBfYmluZGluZ3MsIGNvZGUsIGosIGxlbiwgcmVmO1xuICAgIF9iaW5kaW5ncyA9IHtcbiAgICAgICdbbmFtZT1jb250ZW50XSc6ICdjb250ZW50JyxcbiAgICAgICdbbmFtZT10eXBlXSc6IHtcbiAgICAgICAgb2JzZXJ2ZTogJ3R5cGUnLFxuICAgICAgICBzZWxlY3RPcHRpb25zOiB7XG4gICAgICAgICAgY29sbGVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICfljZXpgIknLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAxXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ+WkmumAiScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldE9wdGlvbnM6IHtcbiAgICAgICAgICBzaWxlbnQ6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAnW25hbWU9Y29ycmVjdF9vcHRpb25dJzoge1xuICAgICAgICBvYnNlcnZlOiAnY29ycmVjdF9vcHRpb24nLFxuICAgICAgICBvbkdldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUuc3BsaXQoJywnKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25TZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKF8uaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5qb2luKCcsJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHJlZiA9IFsnQScsICdCJywgJ0MnLCAnRCcsICdFJywgJ0YnXTtcbiAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgIGNvZGUgPSByZWZbal07XG4gICAgICBfYmluZGluZ3NbXCJbbmFtZT1vcHRpb25fXCIgKyBjb2RlICsgXCJdXCJdID0gJ29wdGlvbl8nICsgY29kZTtcbiAgICB9XG4gICAgcmV0dXJuIF9iaW5kaW5ncztcbiAgfTtcblxuICBRdWVzdGlvbk1vZGFsVmlldy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKGUpIHtcbiAgICBRdWVzdGlvbk1vZGFsVmlldy5fX3N1cGVyX18uc2hvdy5jYWxsKHRoaXMsIGUpO1xuICAgIGlmICh0aGlzLm1vZGVsLmlzTmV3KCkpIHtcbiAgICAgIHRoaXMubW9kZWwuc2V0KCdib29rJywgdGhpcy5jb2xsZWN0aW9uLnN0YXRlLmJvb2spO1xuICAgIH1cbiAgICB0aGlzLmNoYW5nZVR5cGUodGhpcy5tb2RlbCwgdGhpcy5tb2RlbC5nZXQoJ3R5cGUnKSk7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCwgXCJjaGFuZ2U6dHlwZVwiLCB0aGlzLmNoYW5nZVR5cGUpO1xuICB9O1xuXG4gIFF1ZXN0aW9uTW9kYWxWaWV3LnByb3RvdHlwZS5jaGFuZ2VUeXBlID0gZnVuY3Rpb24obW9kZWwsIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgdmFyIGN1clZhbCwgdHlwZTtcbiAgICB0eXBlID0gdmFsdWUgPT09IDEgPyAncmFkaW8nIDogJ2NoZWNrYm94JztcbiAgICBjdXJWYWwgPSBtb2RlbC5nZXQoJ2NvcnJlY3Rfb3B0aW9uJyk7XG4gICAgaWYgKHR5cGUgPT09ICdyYWRpbycgJiYgY3VyVmFsKSB7XG4gICAgICBtb2RlbC5zZXQoJ2NvcnJlY3Rfb3B0aW9uJywgY3VyVmFsWzBdKTtcbiAgICB9XG4gICAgdGhpcy4kKCdpbnB1dFtuYW1lPWNvcnJlY3Rfb3B0aW9uXScpLnByb3AoJ3R5cGUnLCB0eXBlKTtcbiAgICByZXR1cm4gdGhpcy5zdGlja2l0KCk7XG4gIH07XG5cbiAgUXVlc3Rpb25Nb2RhbFZpZXcucHJvdG90eXBlLm9uSW52YWxpZEZpZWxkID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGVycm9ycywgbW9kZWwpIHtcbiAgICB2YXIgZXJyb3IsIGZpZWxkLCBncm91cCwgaiwgbGVuO1xuICAgIGlmIChuYW1lICE9PSAnY29ycmVjdF9vcHRpb24nKSB7XG4gICAgICByZXR1cm4gUXVlc3Rpb25Nb2RhbFZpZXcuX19zdXBlcl9fLm9uSW52YWxpZEZpZWxkLmNhbGwodGhpcywgbmFtZSwgdmFsdWUsIGVycm9ycywgbW9kZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaWVsZCA9IHRoaXMuJChcIltuYW1lPVwiICsgbmFtZSArIFwiXVwiKTtcbiAgICAgIGdyb3VwID0gZmllbGQuY2xvc2VzdCgnLmZvcm0tZ3JvdXAnKTtcbiAgICAgIGdyb3VwLmZpbmQoJy5oZWxwLWJsb2NrJykucmVtb3ZlKCk7XG4gICAgICBmb3IgKGogPSAwLCBsZW4gPSBlcnJvcnMubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgZXJyb3IgPSBlcnJvcnNbal07XG4gICAgICAgIGdyb3VwLmFwcGVuZChcIjxkaXYgY2xhc3M9J2hlbHAtYmxvY2sgY29sLXNtLW9mZnNldC0yJz5cIiArIGVycm9yICsgXCI8L2Rpdj5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ3JvdXAuYWRkQ2xhc3MoJ2hhcy1lcnJvcicpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUXVlc3Rpb25Nb2RhbFZpZXc7XG5cbn0pKE1vZGFsVmlldyk7XG5cblF1ZXN0aW9uTGlzdFBhbmVsVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWVzdGlvbkxpc3RQYW5lbFZpZXcsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIFF1ZXN0aW9uTGlzdFBhbmVsVmlldygpIHtcbiAgICByZXR1cm4gUXVlc3Rpb25MaXN0UGFuZWxWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVlc3Rpb25MaXN0UGFuZWxWaWV3LnByb3RvdHlwZS5ldmVudHMgPSB7XG4gICAgJ2NoYW5nZSAjYm9vayc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbi5zdGF0ZS5ib29rID0gdGhpcy4kKCcjYm9vaycpLnZhbCgpO1xuICAgIH0sXG4gICAgJ2NsaWNrICNsb2FkQm9vayc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbi5mZXRjaCh7XG4gICAgICAgIHJlc2V0OiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFF1ZXN0aW9uTGlzdFBhbmVsVmlldztcblxufSkoQmFja2JvbmUuVmlldyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUXVlc3Rpb25QYWdlVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWVzdGlvblBhZ2VWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBRdWVzdGlvblBhZ2VWaWV3KCkge1xuICAgIHJldHVybiBRdWVzdGlvblBhZ2VWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVlc3Rpb25QYWdlVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oYm9va0lkKSB7XG4gICAgdmFyIHBhZ2VOYXZWaWV3LCBwYW5lbFZpZXcsIHF1ZXN0aW9uTW9kYWxWaWV3LCBxdWVzdGlvbnMsIHF1ZXN0aW9uc1ZpZXc7XG4gICAgaWYgKCFib29rSWQpIHtcbiAgICAgIGJvb2tJZCA9ICQoJ2Zvcm0gc2VsZWN0W25hbWU9Ym9va10nKS52YWwoKTtcbiAgICB9XG4gICAgcXVlc3Rpb25zID0gbmV3IFF1ZXN0aW9ucztcbiAgICBxdWVzdGlvbnMuc3RhdGUuYm9vayA9IGJvb2tJZDtcbiAgICBwYW5lbFZpZXcgPSBuZXcgUXVlc3Rpb25MaXN0UGFuZWxWaWV3KHtcbiAgICAgIGVsOiAkKCcudGFibGUtY29udHJvbCcpLFxuICAgICAgY29sbGVjdGlvbjogcXVlc3Rpb25zXG4gICAgfSk7XG4gICAgcXVlc3Rpb25zVmlldyA9IG5ldyBRdWVzdGlvbnNWaWV3KHtcbiAgICAgIGVsOiAkKCcjcXVlc3Rpb24tdGFibGUtY29udGFpbmVyJyksXG4gICAgICBjb2xsZWN0aW9uOiBxdWVzdGlvbnNcbiAgICB9KTtcbiAgICBwYWdlTmF2VmlldyA9IG5ldyBQYWdpbmF0aW9uVmlldyh7XG4gICAgICBjb2xsZWN0aW9uOiBxdWVzdGlvbnNcbiAgICB9KTtcbiAgICBxdWVzdGlvbnNWaWV3LiRlbC5hZnRlcihwYWdlTmF2Vmlldy5yZW5kZXIoKS4kZWwpO1xuICAgIHF1ZXN0aW9uTW9kYWxWaWV3ID0gbmV3IFF1ZXN0aW9uTW9kYWxWaWV3KHtcbiAgICAgIGlkOiAncXVlc3Rpb25Nb2RhbEZvcm0nLFxuICAgICAgY29sbGVjdGlvbjogcXVlc3Rpb25zXG4gICAgfSk7XG4gICAgcXVlc3Rpb25Nb2RhbFZpZXcucmVuZGVyKCk7XG4gICAgcXVlc3Rpb25zLmZldGNoKHtcbiAgICAgIHJlc2V0OiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFF1ZXN0aW9uUGFnZVZpZXcuX19zdXBlcl9fLnJlbmRlci5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIHJldHVybiBRdWVzdGlvblBhZ2VWaWV3O1xuXG59KShCYWNrYm9uZS5WaWV3KTtcblxuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGxheW91dDoge1xuICAgIGFjdGl2YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmO1xuICAgICAgc2VsZiA9IHRoaXM7XG4gICAgICBzZWxmLmZpeCgpO1xuICAgICAgcmV0dXJuICQod2luZG93LCBcIi53cmFwcGVyXCIpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuZml4KCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGZpeDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbmVnLCBzaWRlYmFyX2hlaWdodCwgd2luZG93X2hlaWdodDtcbiAgICAgIG5lZyA9ICQoXCIubWFpbi1oZWFkZXJcIikub3V0ZXJIZWlnaHQoKSArICQoXCIubWFpbi1mb290ZXJcIikub3V0ZXJIZWlnaHQoKTtcbiAgICAgIHdpbmRvd19oZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG4gICAgICBzaWRlYmFyX2hlaWdodCA9ICQoXCIuc2lkZWJhclwiKS5oZWlnaHQoKTtcbiAgICAgIGlmICh3aW5kb3dfaGVpZ2h0ID49IHNpZGViYXJfaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiAkKFwiLmNvbnRlbnQtd3JhcHBlclwiKS5jc3MoXCJtaW4taGVpZ2h0XCIsIHdpbmRvd19oZWlnaHQgLSBuZWcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICQoXCIuY29udGVudC13cmFwcGVyXCIpLmNzcyhcIm1pbi1oZWlnaHRcIiwgc2lkZWJhcl9oZWlnaHQpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgcHVzaE1lbnU6IHtcbiAgICBhY3RpdmF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAkKCcjY29sbGFwc2VUb2dnbGUnKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiAoNzY4IC0gMSkpIHtcbiAgICAgICAgICBpZiAoJChcImJvZHlcIikuaGFzQ2xhc3MoXCJzaWRlYmFyLWNvbGxhcHNlXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJzaWRlYmFyLWNvbGxhcHNlXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJChcImJvZHlcIikuYWRkQ2xhc3MoXCJzaWRlYmFyLWNvbGxhcHNlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoJChcImJvZHlcIikuaGFzQ2xhc3MoXCJzaWRlYmFyLW9wZW5cIikpIHtcbiAgICAgICAgICAgIHJldHVybiAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcInNpZGViYXItb3BlblwiKS5yZW1vdmVDbGFzcyhcInNpZGViYXItY29sbGFwc2VcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAkKFwiYm9keVwiKS5hZGRDbGFzcyhcInNpZGViYXItb3BlblwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICQoXCIuY29udGVudC13cmFwcGVyXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPD0gKDc2OCAtIDEpICYmICQoXCJib2R5XCIpLmhhc0NsYXNzKFwic2lkZWJhci1vcGVuXCIpKSB7XG4gICAgICAgICAgcmV0dXJuICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwic2lkZWJhci1vcGVuXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHRyZWU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhbmltYXRpb25TcGVlZCwgc2VsZjtcbiAgICBzZWxmID0gdGhpcztcbiAgICBhbmltYXRpb25TcGVlZCA9IDUwMDtcbiAgICByZXR1cm4gJCgnYm9keScpLm9uKFwiY2xpY2tcIiwgXCIuc2lkZWJhciBsaSBhXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciAkdGhpcywgY2hlY2tFbGVtZW50LCBwYXJlbnQsIHBhcmVudF9saSwgdWw7XG4gICAgICAkdGhpcyA9ICQodGhpcyk7XG4gICAgICBjaGVja0VsZW1lbnQgPSAkdGhpcy5uZXh0KCk7XG4gICAgICBpZiAoKGNoZWNrRWxlbWVudC5pcyhcIi50cmVldmlldy1tZW51XCIpKSAmJiAoY2hlY2tFbGVtZW50LmlzKFwiOnZpc2libGVcIikpKSB7XG4gICAgICAgIGNoZWNrRWxlbWVudC5zbGlkZVVwKGFuaW1hdGlvblNwZWVkLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gY2hlY2tFbGVtZW50LnJlbW92ZUNsYXNzKFwibWVudS1vcGVuXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZi5sYXlvdXQuZml4KCk7XG4gICAgICAgIGNoZWNrRWxlbWVudC5wYXJlbnQoXCJsaVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hlY2tFbGVtZW50LmlzKFwiLnRyZWV2aWV3LW1lbnVcIikpIHtcbiAgICAgICAgcGFyZW50ID0gJHRoaXMucGFyZW50cyhcInVsXCIpLmZpcnN0KCk7XG4gICAgICAgIHVsID0gcGFyZW50LmZpbmQoXCJ1bDp2aXNpYmxlXCIpLnNsaWRlVXAoYW5pbWF0aW9uU3BlZWQpO1xuICAgICAgICB1bC5yZW1vdmVDbGFzcyhcIm1lbnUtb3BlblwiKTtcbiAgICAgICAgcGFyZW50X2xpID0gJHRoaXMucGFyZW50KFwibGlcIik7XG4gICAgICAgIGNoZWNrRWxlbWVudC5zbGlkZURvd24oYW5pbWF0aW9uU3BlZWQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNoZWNrRWxlbWVudC5hZGRDbGFzcyhcIm1lbnUtb3BlblwiKTtcbiAgICAgICAgICBwYXJlbnQuZmluZChcImxpLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICBwYXJlbnRfbGkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgcmV0dXJuIHNlbGYubGF5b3V0LmZpeCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChjaGVja0VsZW1lbnQuaXMoXCIudHJlZXZpZXctbWVudVwiKSkge1xuICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG4iLCJ2YXIgTW9kYWxWaWV3LFxuICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb2RhbFZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoTW9kYWxWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBNb2RhbFZpZXcoKSB7XG4gICAgcmV0dXJuIE1vZGFsVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIE1vZGFsVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgJCgnIycgKyB0aGlzLmlkKS5yZW1vdmUoKTtcbiAgICAkKCdib2R5JykuYXBwZW5kKHRoaXMudGVtcGxhdGUoe1xuICAgICAgaWQ6IHRoaXMuaWRcbiAgICB9KSk7XG4gICAgdGhpcy5zZXRFbGVtZW50KCQoJyMnICsgdGhpcy5pZCkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIE1vZGFsVmlldy5wcm90b3R5cGUuZXZlbnRzID0ge1xuICAgICdzaG93LmJzLm1vZGFsJzogJ3Nob3cnLFxuICAgICdoaWRkZW4uYnMubW9kYWwnOiAnaGlkZGVuJyxcbiAgICAnY2xpY2sgW3R5cGU9c3VibWl0XSc6ICdzYXZlJ1xuICB9O1xuXG4gIE1vZGFsVmlldy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZGF0YTtcbiAgICBkYXRhID0gJChlLnJlbGF0ZWRUYXJnZXQpLmRhdGEoKTtcbiAgICB0aGlzLm1vZGVsID0gZGF0YS5pZCA/IHRoaXMuY29sbGVjdGlvbi5nZXQoZGF0YS5pZCkgOiBuZXcgdGhpcy5jb2xsZWN0aW9uLm1vZGVsO1xuICAgIHRoaXMuc3RpY2tpdCgpO1xuICAgIHRoaXMuYmluZFZhbGlkYXRpb24oKTtcbiAgICBpZiAoIXRoaXMubW9kZWwuaXNOZXcoKSkge1xuICAgICAgcmV0dXJuIHRoaXMubW9kZWwudmFsaWRhdGUoKTtcbiAgICB9XG4gIH07XG5cbiAgTW9kYWxWaWV3LnByb3RvdHlwZS5oaWRkZW4gPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnVuc3RpY2tpdCgpO1xuICAgIHRoaXMuc3RvcExpc3RlbmluZygpO1xuICAgIHJldHVybiBkZWxldGUgdGhpcy5tb2RlbDtcbiAgfTtcblxuICBNb2RhbFZpZXcucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHhocjtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgeGhyID0gdGhpcy5tb2RlbC5zYXZlKCk7XG4gICAgaWYgKHhocikge1xuICAgICAgcmV0dXJuIHhoci50aGVuKCgoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIF90aGlzLmNvbGxlY3Rpb24uYWRkKF90aGlzLm1vZGVsKTtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuJGVsLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSkpO1xuICAgIH1cbiAgfTtcblxuICBNb2RhbFZpZXcucHJvdG90eXBlLm9uVmFsaWRGaWVsZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBtb2RlbCkge1xuICAgIHZhciBmaWVsZCwgZ3JvdXA7XG4gICAgZmllbGQgPSB0aGlzLiQoXCJbbmFtZT1cIiArIG5hbWUgKyBcIl1cIik7XG4gICAgZ3JvdXAgPSBmaWVsZC5jbG9zZXN0KCcuZm9ybS1ncm91cCcpO1xuICAgIGdyb3VwLnJlbW92ZUNsYXNzKCdoYXMtZXJyb3InKTtcbiAgICByZXR1cm4gZ3JvdXAuZmluZCgnLmhlbHAtYmxvY2snKS5yZW1vdmUoKTtcbiAgfTtcblxuICBNb2RhbFZpZXcucHJvdG90eXBlLm9uSW52YWxpZEZpZWxkID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGVycm9ycywgbW9kZWwpIHtcbiAgICB2YXIgZXJyb3IsIGZpZWxkLCBncm91cCwgaSwgbGVuO1xuICAgIGZpZWxkID0gdGhpcy4kKFwiW25hbWU9XCIgKyBuYW1lICsgXCJdXCIpO1xuICAgIGdyb3VwID0gZmllbGQuY2xvc2VzdCgnLmZvcm0tZ3JvdXAnKTtcbiAgICBncm91cC5maW5kKCcuaGVscC1ibG9jaycpLnJlbW92ZSgpO1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IGVycm9ycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgZXJyb3IgPSBlcnJvcnNbaV07XG4gICAgICBmaWVsZC5hZnRlcihcIjxkaXYgY2xhc3M9J2hlbHAtYmxvY2snPlwiICsgZXJyb3IgKyBcIjwvZGl2PlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGdyb3VwLmFkZENsYXNzKCdoYXMtZXJyb3InKTtcbiAgfTtcblxuICByZXR1cm4gTW9kYWxWaWV3O1xuXG59KShCYWNrYm9uZS5WaWV3KTtcblxuIiwidmFyIFBhZ2luYXRpb25WaWV3LFxuICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxubW9kdWxlLmV4cG9ydHMgPSBQYWdpbmF0aW9uVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChQYWdpbmF0aW9uVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUGFnaW5hdGlvblZpZXcoKSB7XG4gICAgcmV0dXJuIFBhZ2luYXRpb25WaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUGFnaW5hdGlvblZpZXcucHJvdG90eXBlLnRhZ05hbWUgPSAnbmF2JztcblxuICBQYWdpbmF0aW9uVmlldy5wcm90b3R5cGUuY2xhc3NOYW1lID0gJ3BhZ2UtbmF2JztcblxuICBQYWdpbmF0aW9uVmlldy5wcm90b3R5cGUudGVtcGxhdGUgPSByZXF1aXJlKCd0ZW1wbGF0ZXMvcGFnZS1uYXYnKTtcblxuICBQYWdpbmF0aW9uVmlldy5wcm90b3R5cGUuZXZlbnRzID0ge1xuICAgICdjbGljayBhW2RhdGEtaWRdJzogJ2xvYWRQYWdlJ1xuICB9O1xuXG4gIFBhZ2luYXRpb25WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuVG8odGhpcy5jb2xsZWN0aW9uLCAncmVzZXQnLCB0aGlzLnJlbmRlcik7XG4gIH07XG5cbiAgUGFnaW5hdGlvblZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmNvbGxlY3Rpb24ubWV0YSkge1xuICAgICAgdGhpcy4kZWwuaHRtbCh0aGlzLnRlbXBsYXRlKHRoaXMuY29sbGVjdGlvbi5tZXRhKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIFBhZ2luYXRpb25WaWV3LnByb3RvdHlwZS5sb2FkUGFnZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZGF0YTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZGF0YSA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCk7XG4gICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbi5mZXRjaCh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHBhZ2U6IGRhdGEuaWRcbiAgICAgIH0sXG4gICAgICByZXNldDogdHJ1ZVxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBQYWdpbmF0aW9uVmlldztcblxufSkoQmFja2JvbmUuVmlldyk7XG5cbiIsInZhciBUYWJsZVZpZXcsXG4gIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRhYmxlVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChUYWJsZVZpZXcsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIFRhYmxlVmlldygpIHtcbiAgICByZXR1cm4gVGFibGVWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgVGFibGVWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5saXN0ZW5Ubyh0aGlzLmNvbGxlY3Rpb24sICdhZGQnLCB0aGlzLmFkZCk7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuVG8odGhpcy5jb2xsZWN0aW9uLCAncmVzZXQnLCB0aGlzLnJlbmRlcik7XG4gIH07XG5cbiAgVGFibGVWaWV3LnByb3RvdHlwZS5yb3cgPSBmdW5jdGlvbihtb2RlbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gIH07XG5cbiAgVGFibGVWaWV3LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihtb2RlbCkge1xuICAgIHZhciByb3c7XG4gICAgcm93ID0gdGhpcy5yb3cobW9kZWwpO1xuICAgIHJvdy4kZWwuYWRkQ2xhc3MoJ3N1Y2Nlc3MnKTtcbiAgICByZXR1cm4gdGhpcy4kKCd0YWJsZSB0Ym9keScpLnByZXBlbmQocm93LnJlbmRlcigpLiRlbCk7XG4gIH07XG5cbiAgVGFibGVWaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbihjb2xsZWN0aW9uKSB7XG4gICAgdmFyIHRib2R5O1xuICAgIHRib2R5ID0gdGhpcy4kKCd0YWJsZSB0Ym9keScpO1xuICAgIHRib2R5LmVtcHR5KCk7XG4gICAgY29sbGVjdGlvbi5lYWNoKChmdW5jdGlvbihtb2RlbCkge1xuICAgICAgcmV0dXJuIHRib2R5LmFwcGVuZCh0aGlzLnJvdyhtb2RlbCkucmVuZGVyKCkuJGVsKTtcbiAgICB9KSwgdGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgcmV0dXJuIFRhYmxlVmlldztcblxufSkoQmFja2JvbmUuVmlldyk7XG5cbiIsInZhciBqYWRlID0gcmVxdWlyZShcImphZGUvcnVudGltZVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0ZW1wbGF0ZShsb2NhbHMpIHtcbnZhciBidWYgPSBbXTtcbnZhciBqYWRlX21peGlucyA9IHt9O1xudmFyIGphZGVfaW50ZXJwO1xuO3ZhciBsb2NhbHNfZm9yX3dpdGggPSAobG9jYWxzIHx8IHt9KTsoZnVuY3Rpb24gKGJvb2ssIGNoYW5jZXMsIGVuZF9hdCwgaWQsIGluZm9fZmllbGRfMiwgaW5mb19maWVsZF8zLCBtdWx0aSwgbXVsdGlfcG9pbnRzLCBuYW1lLCBzaW5nbGUsIHNpbmdsZV9wb2ludHMsIHN0YXJ0X2F0LCBzdGF0dXMsIHRpbWVfbGltaXQsIHR5cGUsIHVybCwgdXNlciwgd2VsY29tZSkge1xuYnVmLnB1c2goXCI8dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBpZCkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBuYW1lKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IGJvb2sudGl0bGUpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gdHlwZSkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBjaGFuY2VzKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IHRpbWVfbGltaXQpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gc2luZ2xlKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IG11bHRpKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IHNpbmdsZV9wb2ludHMpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gbXVsdGlfcG9pbnRzKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IHN0YXR1cykgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBzdGFydF9hdCkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBlbmRfYXQpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKG51bGwgPT0gKGphZGVfaW50ZXJwID0gd2VsY29tZSkgPyBcIlwiIDogamFkZV9pbnRlcnApICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IGluZm9fZmllbGRfMykgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBpbmZvX2ZpZWxkXzIpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gaW5mb19maWVsZF8zKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD48YVwiICsgKGphZGUuYXR0cihcImhyZWZcIiwgdXJsLCB0cnVlLCBmYWxzZSkpICsgXCI+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSB1cmwpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvYT48L3RkPjx0ZD48YVwiICsgKGphZGUuYXR0cihcImhyZWZcIiwgXCIvYWN0aXZpdGllcy9lZGl0L1wiICsgKGlkKSArIFwiXCIsIHRydWUsIGZhbHNlKSkgKyBcIiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14c1xcXCI+57yW6L6RPC9hPjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gdXNlci51c2VybmFtZSkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD5cIik7fS5jYWxsKHRoaXMsXCJib29rXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5ib29rOnR5cGVvZiBib29rIT09XCJ1bmRlZmluZWRcIj9ib29rOnVuZGVmaW5lZCxcImNoYW5jZXNcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmNoYW5jZXM6dHlwZW9mIGNoYW5jZXMhPT1cInVuZGVmaW5lZFwiP2NoYW5jZXM6dW5kZWZpbmVkLFwiZW5kX2F0XCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5lbmRfYXQ6dHlwZW9mIGVuZF9hdCE9PVwidW5kZWZpbmVkXCI/ZW5kX2F0OnVuZGVmaW5lZCxcImlkXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5pZDp0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiP2lkOnVuZGVmaW5lZCxcImluZm9fZmllbGRfMlwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguaW5mb19maWVsZF8yOnR5cGVvZiBpbmZvX2ZpZWxkXzIhPT1cInVuZGVmaW5lZFwiP2luZm9fZmllbGRfMjp1bmRlZmluZWQsXCJpbmZvX2ZpZWxkXzNcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmluZm9fZmllbGRfMzp0eXBlb2YgaW5mb19maWVsZF8zIT09XCJ1bmRlZmluZWRcIj9pbmZvX2ZpZWxkXzM6dW5kZWZpbmVkLFwibXVsdGlcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLm11bHRpOnR5cGVvZiBtdWx0aSE9PVwidW5kZWZpbmVkXCI/bXVsdGk6dW5kZWZpbmVkLFwibXVsdGlfcG9pbnRzXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5tdWx0aV9wb2ludHM6dHlwZW9mIG11bHRpX3BvaW50cyE9PVwidW5kZWZpbmVkXCI/bXVsdGlfcG9pbnRzOnVuZGVmaW5lZCxcIm5hbWVcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLm5hbWU6dHlwZW9mIG5hbWUhPT1cInVuZGVmaW5lZFwiP25hbWU6dW5kZWZpbmVkLFwic2luZ2xlXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5zaW5nbGU6dHlwZW9mIHNpbmdsZSE9PVwidW5kZWZpbmVkXCI/c2luZ2xlOnVuZGVmaW5lZCxcInNpbmdsZV9wb2ludHNcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLnNpbmdsZV9wb2ludHM6dHlwZW9mIHNpbmdsZV9wb2ludHMhPT1cInVuZGVmaW5lZFwiP3NpbmdsZV9wb2ludHM6dW5kZWZpbmVkLFwic3RhcnRfYXRcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLnN0YXJ0X2F0OnR5cGVvZiBzdGFydF9hdCE9PVwidW5kZWZpbmVkXCI/c3RhcnRfYXQ6dW5kZWZpbmVkLFwic3RhdHVzXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5zdGF0dXM6dHlwZW9mIHN0YXR1cyE9PVwidW5kZWZpbmVkXCI/c3RhdHVzOnVuZGVmaW5lZCxcInRpbWVfbGltaXRcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLnRpbWVfbGltaXQ6dHlwZW9mIHRpbWVfbGltaXQhPT1cInVuZGVmaW5lZFwiP3RpbWVfbGltaXQ6dW5kZWZpbmVkLFwidHlwZVwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgudHlwZTp0eXBlb2YgdHlwZSE9PVwidW5kZWZpbmVkXCI/dHlwZTp1bmRlZmluZWQsXCJ1cmxcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLnVybDp0eXBlb2YgdXJsIT09XCJ1bmRlZmluZWRcIj91cmw6dW5kZWZpbmVkLFwidXNlclwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgudXNlcjp0eXBlb2YgdXNlciE9PVwidW5kZWZpbmVkXCI/dXNlcjp1bmRlZmluZWQsXCJ3ZWxjb21lXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC53ZWxjb21lOnR5cGVvZiB3ZWxjb21lIT09XCJ1bmRlZmluZWRcIj93ZWxjb21lOnVuZGVmaW5lZCkpOztyZXR1cm4gYnVmLmpvaW4oXCJcIik7XG59OyIsInZhciBqYWRlID0gcmVxdWlyZShcImphZGUvcnVudGltZVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0ZW1wbGF0ZShsb2NhbHMpIHtcbnZhciBidWYgPSBbXTtcbnZhciBqYWRlX21peGlucyA9IHt9O1xudmFyIGphZGVfaW50ZXJwO1xuO3ZhciBsb2NhbHNfZm9yX3dpdGggPSAobG9jYWxzIHx8IHt9KTsoZnVuY3Rpb24gKGlkKSB7XG5idWYucHVzaChcIjxkaXZcIiArIChqYWRlLmF0dHIoXCJpZFwiLCBcIlwiICsgKGlkKSArIFwiXCIsIHRydWUsIGZhbHNlKSkgKyBcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHJvbGU9XFxcImRpYWxvZ1xcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJib29rRm9ybUxhYmVsXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcIm1vZGFsIGZhZGVcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWRpYWxvZ1xcXCI+PGRpdiBjbGFzcz1cXFwibW9kYWwtY29udGVudFxcXCI+PGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIj48c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+JnRpbWVzOzwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic3Itb25seVxcXCI+5YWz6ZetPC9zcGFuPjwvYnV0dG9uPjxoNCBpZD1cXFwiYm9va0Zvcm1MYWJlbFxcXCIgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj7ovpPlhaXpopjlupPkv6Hmga88L2g0PjwvZGl2PjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPjxmb3JtPjxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPjxsYWJlbCBmb3I9XFxcInRpdGxlXFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+6aKY5bqT5ZCNPC9sYWJlbD48aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgaWQ9XFxcInRpdGxlXFxcIiBwbGFjZWhvbGRlcj1cXFwi6aKY5bqT5ZCNXFxcIiBuYW1lPVxcXCJ0aXRsZVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIvPjwvZGl2PjwvZm9ybT48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIj7lj5bmtog8L2J1dHRvbj48YnV0dG9uIGlkPVxcXCJzYXZlXFxcIiB0eXBlPVxcXCJzdWJtaXRcXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnlcXFwiPuS/neWtmDwvYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PlwiKTt9LmNhbGwodGhpcyxcImlkXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5pZDp0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiP2lkOnVuZGVmaW5lZCkpOztyZXR1cm4gYnVmLmpvaW4oXCJcIik7XG59OyIsInZhciBqYWRlID0gcmVxdWlyZShcImphZGUvcnVudGltZVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0ZW1wbGF0ZShsb2NhbHMpIHtcbnZhciBidWYgPSBbXTtcbnZhciBqYWRlX21peGlucyA9IHt9O1xudmFyIGphZGVfaW50ZXJwO1xuO3ZhciBsb2NhbHNfZm9yX3dpdGggPSAobG9jYWxzIHx8IHt9KTsoZnVuY3Rpb24gKGJ1dHRvbiwgaWQsIHRpdGxlLCB1c2VyKSB7XG5idWYucHVzaChcIjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IHRpdGxlKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IHVzZXIudXNlcm5hbWUpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPjxhXCIgKyAoamFkZS5hdHRyKFwiaHJlZlwiLCAnL3F1aXpib29rcy8nICsgKGlkKSArICcvcXVlc3Rpb25zJywgdHJ1ZSwgZmFsc2UpKSArIFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXhzXFxcIj7mn6XnnIs8L2E+PGFcIiArIChqYWRlLmF0dHIoXCJ0eXBlXCIsIGJ1dHRvbiwgdHJ1ZSwgZmFsc2UpKSArIChqYWRlLmF0dHIoXCJkYXRhLWlkXCIsIGlkLCB0cnVlLCBmYWxzZSkpICsgXCIgZGF0YS10b2dnbGU9XFxcIm1vZGFsXFxcIiBkYXRhLXRhcmdldD1cXFwiI2Jvb2tNb2RhbEZvcm1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnkgYnRuLXhzXFxcIj7nvJbovpE8L2E+PC90ZD5cIik7fS5jYWxsKHRoaXMsXCJidXR0b25cIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmJ1dHRvbjp0eXBlb2YgYnV0dG9uIT09XCJ1bmRlZmluZWRcIj9idXR0b246dW5kZWZpbmVkLFwiaWRcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmlkOnR5cGVvZiBpZCE9PVwidW5kZWZpbmVkXCI/aWQ6dW5kZWZpbmVkLFwidGl0bGVcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLnRpdGxlOnR5cGVvZiB0aXRsZSE9PVwidW5kZWZpbmVkXCI/dGl0bGU6dW5kZWZpbmVkLFwidXNlclwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgudXNlcjp0eXBlb2YgdXNlciE9PVwidW5kZWZpbmVkXCI/dXNlcjp1bmRlZmluZWQpKTs7cmV0dXJuIGJ1Zi5qb2luKFwiXCIpO1xufTsiLCJ2YXIgamFkZSA9IHJlcXVpcmUoXCJqYWRlL3J1bnRpbWVcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7XG52YXIgYnVmID0gW107XG52YXIgamFkZV9taXhpbnMgPSB7fTtcbnZhciBqYWRlX2ludGVycDtcbjt2YXIgbG9jYWxzX2Zvcl93aXRoID0gKGxvY2FscyB8fCB7fSk7KGZ1bmN0aW9uIChNYXRoLCBlbmQsIHBhZ2UsIHBhZ2VzLCBzdGFydCkge1xuc3RhcnQgPSBNYXRoLm1heCgxLCBwYWdlIC0gNSlcbmVuZCA9IE1hdGgubWluKHBhZ2VzLCBwYWdlICsgNSlcbmJ1Zi5wdXNoKFwiPHVsIGNsYXNzPVxcXCJwYWdpbmF0aW9uXFxcIj48bGlcIiArIChqYWRlLmNscyhbKHBhZ2UgPT0gMSkgPyAnZGlzYWJsZWQnIDogJyddLCBbdHJ1ZV0pKSArIFwiPjxhIGhyZWY9XFxcIiNcXFwiIGFyaWEtbGFiZWw9XFxcIlN0YXJ0XFxcIiBkYXRhLWlkPScxJz48c3BhbiBhcmlhLWhpZGRlbj1cXFwiYXJpYS1oaWRkZW5cXFwiPiZsYXF1bzs8L3NwYW4+PC9hPjwvbGk+XCIpO1xudmFyIGkgPSBzdGFydFxud2hpbGUgKGkgPCBwYWdlKVxue1xuYnVmLnB1c2goXCI8bGk+PGEgaHJlZj1cXFwiI1xcXCJcIiArIChqYWRlLmF0dHIoXCJkYXRhLWlkXCIsIGksIHRydWUsIGZhbHNlKSkgKyBcIj5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IGkrKykgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC9hPjwvbGk+XCIpO1xufVxuYnVmLnB1c2goXCI8bGlcIiArIChqYWRlLmF0dHIoXCJkYXRhLWlkXCIsIHBhZ2UsIHRydWUsIGZhbHNlKSkgKyBcIiBjbGFzcz1cXFwiYWN0aXZlXFxcIj48YSBocmVmPVxcXCIjXFxcIj5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IHBhZ2UpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvYT48L2xpPlwiKTtcbnZhciBpID0gcGFnZSArIDFcbndoaWxlIChpIDw9IGVuZClcbntcbmJ1Zi5wdXNoKFwiPGxpPjxhIGhyZWY9XFxcIiNcXFwiXCIgKyAoamFkZS5hdHRyKFwiZGF0YS1pZFwiLCBpLCB0cnVlLCBmYWxzZSkpICsgXCI+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBpKyspID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvYT48L2xpPlwiKTtcbn1cbmJ1Zi5wdXNoKFwiPGxpXCIgKyAoamFkZS5jbHMoWyhwYWdlID09IHBhZ2VzKSA/ICdkaXNhYmxlZCcgOiAnJ10sIFt0cnVlXSkpICsgXCI+PGEgaHJlZj1cXFwiI1xcXCIgYXJpYS1sYWJlbD1cXFwiRW5kXFxcIlwiICsgKGphZGUuYXR0cihcImRhdGEtaWRcIiwgcGFnZXMsIHRydWUsIGZhbHNlKSkgKyBcIj48c3BhbiBhcmlhLWhpZGRlbj1cXFwiYXJpYS1oaWRkZW5cXFwiPiZyYXF1bzs8L3NwYW4+PC9hPjwvbGk+PC91bD5cIik7fS5jYWxsKHRoaXMsXCJNYXRoXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5NYXRoOnR5cGVvZiBNYXRoIT09XCJ1bmRlZmluZWRcIj9NYXRoOnVuZGVmaW5lZCxcImVuZFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguZW5kOnR5cGVvZiBlbmQhPT1cInVuZGVmaW5lZFwiP2VuZDp1bmRlZmluZWQsXCJwYWdlXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5wYWdlOnR5cGVvZiBwYWdlIT09XCJ1bmRlZmluZWRcIj9wYWdlOnVuZGVmaW5lZCxcInBhZ2VzXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5wYWdlczp0eXBlb2YgcGFnZXMhPT1cInVuZGVmaW5lZFwiP3BhZ2VzOnVuZGVmaW5lZCxcInN0YXJ0XCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5zdGFydDp0eXBlb2Ygc3RhcnQhPT1cInVuZGVmaW5lZFwiP3N0YXJ0OnVuZGVmaW5lZCkpOztyZXR1cm4gYnVmLmpvaW4oXCJcIik7XG59OyIsInZhciBqYWRlID0gcmVxdWlyZShcImphZGUvcnVudGltZVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0ZW1wbGF0ZShsb2NhbHMpIHtcbnZhciBidWYgPSBbXTtcbnZhciBqYWRlX21peGlucyA9IHt9O1xudmFyIGphZGVfaW50ZXJwO1xuO3ZhciBsb2NhbHNfZm9yX3dpdGggPSAobG9jYWxzIHx8IHt9KTsoZnVuY3Rpb24gKGlkLCB1bmRlZmluZWQpIHtcbmphZGVfbWl4aW5zW1widGV4dGFyZWFcIl0gPSBqYWRlX2ludGVycCA9IGZ1bmN0aW9uKGlkLGxhYmVsLG5hbWUpe1xudmFyIGJsb2NrID0gKHRoaXMgJiYgdGhpcy5ibG9jayksIGF0dHJpYnV0ZXMgPSAodGhpcyAmJiB0aGlzLmF0dHJpYnV0ZXMpIHx8IHt9O1xuYnVmLnB1c2goXCI8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj48bGFiZWxcIiArIChqYWRlLmF0dHIoXCJmb3JcIiwgXCJcIiArIChpZCkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgXCIgY2xhc3M9XFxcImNvbC1zbS0yIGNvbnRyb2wtbGFiZWxcXFwiPlwiICsgKGphZGUuZXNjYXBlKChqYWRlX2ludGVycCA9IGxhYmVsKSA9PSBudWxsID8gJycgOiBqYWRlX2ludGVycCkpICsgXCI8L2xhYmVsPjxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMFxcXCI+PHRleHRhcmVhXCIgKyAoamFkZS5hdHRyKFwiaWRcIiwgXCJcIiArIChpZCkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcIm5hbWVcIiwgXCJcIiArIChuYW1lKSArIFwiXCIsIHRydWUsIGZhbHNlKSkgKyBcIiByb3c9XFxcIjRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPjwvdGV4dGFyZWE+PC9kaXY+PC9kaXY+XCIpO1xufTtcbmJ1Zi5wdXNoKFwiPGRpdlwiICsgKGphZGUuYXR0cihcImlkXCIsIFwiXCIgKyAoaWQpICsgXCJcIiwgdHJ1ZSwgZmFsc2UpKSArIFwiIHRhYmluZGV4PVxcXCItMVxcXCIgcm9sZT1cXFwiZGlhbG9nXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInF1ZXN0aW9uRm9ybUxhYmVsXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcIm1vZGFsIGZhZGVcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWRpYWxvZ1xcXCI+PGRpdiBjbGFzcz1cXFwibW9kYWwtY29udGVudFxcXCI+PGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIj48c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+JnRpbWVzOzwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic3Itb25seVxcXCI+5YWz6ZetPC9zcGFuPjwvYnV0dG9uPjxoNCBpZD1cXFwicXVlc3Rpb25Gb3JtTGFiZWxcXFwiIGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+6L6T5YWl6Zeu6aKY6K+m57uG5L+h5oGvPC9oND48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj48Zm9ybSBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIj5cIik7XG5qYWRlX21peGluc1tcInRleHRhcmVhXCJdKCdjb250ZW50JywgJ+mXrumimOWGheWuuScsICdjb250ZW50Jyk7XG5idWYucHVzaChcIjxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPjxsYWJlbCBmb3I9XFxcInR5cGVcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7pl67popjlhoXlrrk8L2xhYmVsPjxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMFxcXCI+PHNlbGVjdCBpZD1cXFwidHlwZVxcXCIgcm93PVxcXCI0XFxcIiBuYW1lPVxcXCJ0eXBlXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sIHRleHRhcmVhXFxcIj48L3NlbGVjdD48L2Rpdj48L2Rpdj5cIik7XG52YXIgb3B0aW9ucyA9IFsnQScsICdCJywgJ0MnLCAnRCcsICdFJywgJ0YnXVxuLy8gaXRlcmF0ZSBvcHRpb25zXG47KGZ1bmN0aW9uKCl7XG4gIHZhciAkJG9iaiA9IG9wdGlvbnM7XG4gIGlmICgnbnVtYmVyJyA9PSB0eXBlb2YgJCRvYmoubGVuZ3RoKSB7XG5cbiAgICBmb3IgKHZhciAkaW5kZXggPSAwLCAkJGwgPSAkJG9iai5sZW5ndGg7ICRpbmRleCA8ICQkbDsgJGluZGV4KyspIHtcbiAgICAgIHZhciBvcHRpb24gPSAkJG9ialskaW5kZXhdO1xuXG5qYWRlX21peGluc1tcInRleHRhcmVhXCJdKCdvcHRpb25fJyArIG9wdGlvbiwgXCLpgInpoblcIiArIG9wdGlvbiwgJ29wdGlvbl8nICsgb3B0aW9uKTtcbiAgICB9XG5cbiAgfSBlbHNlIHtcbiAgICB2YXIgJCRsID0gMDtcbiAgICBmb3IgKHZhciAkaW5kZXggaW4gJCRvYmopIHtcbiAgICAgICQkbCsrOyAgICAgIHZhciBvcHRpb24gPSAkJG9ialskaW5kZXhdO1xuXG5qYWRlX21peGluc1tcInRleHRhcmVhXCJdKCdvcHRpb25fJyArIG9wdGlvbiwgXCLpgInpoblcIiArIG9wdGlvbiwgJ29wdGlvbl8nICsgb3B0aW9uKTtcbiAgICB9XG5cbiAgfVxufSkuY2FsbCh0aGlzKTtcblxuYnVmLnB1c2goXCI8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj48bGFiZWwgY2xhc3M9XFxcImNvbC1zbS0yIGNvbnRyb2wtbGFiZWxcXFwiPuato+ehruetlOahiDwvbGFiZWw+PGRpdiBjbGFzcz1cXFwiY29sLXNtLTEwXFxcIj5cIik7XG4vLyBpdGVyYXRlIG9wdGlvbnNcbjsoZnVuY3Rpb24oKXtcbiAgdmFyICQkb2JqID0gb3B0aW9ucztcbiAgaWYgKCdudW1iZXInID09IHR5cGVvZiAkJG9iai5sZW5ndGgpIHtcblxuICAgIGZvciAodmFyIGkgPSAwLCAkJGwgPSAkJG9iai5sZW5ndGg7IGkgPCAkJGw7IGkrKykge1xuICAgICAgdmFyIG9wdGlvbiA9ICQkb2JqW2ldO1xuXG5idWYucHVzaChcIjxkaXYgY2xhc3M9XFxcImNoZWNrYm94IGNvbC14cy02IGNvbC1zbS00XFxcIj48bGFiZWw+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJjb3JyZWN0X29wdGlvblxcXCJcIiArIChqYWRlLmF0dHIoXCJ2YWx1ZVwiLCBpKzEsIHRydWUsIGZhbHNlKSkgKyBcIi8+6YCJ6aG5XCIgKyAoamFkZS5lc2NhcGUoKGphZGVfaW50ZXJwID0gb3B0aW9uKSA9PSBudWxsID8gJycgOiBqYWRlX2ludGVycCkpICsgXCI8L2xhYmVsPjwvZGl2PlwiKTtcbiAgICB9XG5cbiAgfSBlbHNlIHtcbiAgICB2YXIgJCRsID0gMDtcbiAgICBmb3IgKHZhciBpIGluICQkb2JqKSB7XG4gICAgICAkJGwrKzsgICAgICB2YXIgb3B0aW9uID0gJCRvYmpbaV07XG5cbmJ1Zi5wdXNoKFwiPGRpdiBjbGFzcz1cXFwiY2hlY2tib3ggY29sLXhzLTYgY29sLXNtLTRcXFwiPjxsYWJlbD48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcImNvcnJlY3Rfb3B0aW9uXFxcIlwiICsgKGphZGUuYXR0cihcInZhbHVlXCIsIGkrMSwgdHJ1ZSwgZmFsc2UpKSArIFwiLz7pgInpoblcIiArIChqYWRlLmVzY2FwZSgoamFkZV9pbnRlcnAgPSBvcHRpb24pID09IG51bGwgPyAnJyA6IGphZGVfaW50ZXJwKSkgKyBcIjwvbGFiZWw+PC9kaXY+XCIpO1xuICAgIH1cblxuICB9XG59KS5jYWxsKHRoaXMpO1xuXG5idWYucHVzaChcIjwvZGl2PjwvZGl2PjwvZm9ybT48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIj7lj5bmtog8L2J1dHRvbj48YnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCI+5L+d5a2YPC9idXR0b24+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+XCIpO30uY2FsbCh0aGlzLFwiaWRcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmlkOnR5cGVvZiBpZCE9PVwidW5kZWZpbmVkXCI/aWQ6dW5kZWZpbmVkLFwidW5kZWZpbmVkXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC51bmRlZmluZWQ6dHlwZW9mIHVuZGVmaW5lZCE9PVwidW5kZWZpbmVkXCI/dW5kZWZpbmVkOnVuZGVmaW5lZCkpOztyZXR1cm4gYnVmLmpvaW4oXCJcIik7XG59OyIsInZhciBqYWRlID0gcmVxdWlyZShcImphZGUvcnVudGltZVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0ZW1wbGF0ZShsb2NhbHMpIHtcbnZhciBidWYgPSBbXTtcbnZhciBqYWRlX21peGlucyA9IHt9O1xudmFyIGphZGVfaW50ZXJwO1xuO3ZhciBsb2NhbHNfZm9yX3dpdGggPSAobG9jYWxzIHx8IHt9KTsoZnVuY3Rpb24gKGJ1dHRvbiwgY29udGVudCwgY29ycmVjdF9vcHRpb24sIGlkLCBvcHRpb25fQSwgb3B0aW9uX0IsIG9wdGlvbl9DLCBvcHRpb25fRCwgb3B0aW9uX0UsIG9wdGlvbl9GLCB0eXBlKSB7XG5idWYucHVzaChcIjx0ZCBjbGFzcz1cXFwiY29udGVudFxcXCI+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBjb250ZW50KSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IHR5cGUpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gY29ycmVjdF9vcHRpb24pID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gb3B0aW9uX0EpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gb3B0aW9uX0IpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gb3B0aW9uX0MpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gb3B0aW9uX0QpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gb3B0aW9uX0UpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gb3B0aW9uX0YpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPjxhXCIgKyAoamFkZS5hdHRyKFwidHlwZVwiLCBidXR0b24sIHRydWUsIGZhbHNlKSkgKyAoamFkZS5hdHRyKFwiZGF0YS1pZFwiLCBpZCwgdHJ1ZSwgZmFsc2UpKSArIFwiIGRhdGEtdG9nZ2xlPVxcXCJtb2RhbFxcXCIgZGF0YS10YXJnZXQ9XFxcIiNxdWVzdGlvbk1vZGFsRm9ybVxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeSBidG4teHNcXFwiPue8lui+kTwvYT48YSBpZD1cXFwiZGVsZXRlXFxcIlwiICsgKGphZGUuYXR0cihcInR5cGVcIiwgYnV0dG9uLCB0cnVlLCBmYWxzZSkpICsgXCIgY2xhc3M9XFxcImJ0biBidG4tZGFuZ2VyIGJ0bi14c1xcXCI+5Yig6ZmkPC9hPjwvdGQ+XCIpO30uY2FsbCh0aGlzLFwiYnV0dG9uXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5idXR0b246dHlwZW9mIGJ1dHRvbiE9PVwidW5kZWZpbmVkXCI/YnV0dG9uOnVuZGVmaW5lZCxcImNvbnRlbnRcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmNvbnRlbnQ6dHlwZW9mIGNvbnRlbnQhPT1cInVuZGVmaW5lZFwiP2NvbnRlbnQ6dW5kZWZpbmVkLFwiY29ycmVjdF9vcHRpb25cIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmNvcnJlY3Rfb3B0aW9uOnR5cGVvZiBjb3JyZWN0X29wdGlvbiE9PVwidW5kZWZpbmVkXCI/Y29ycmVjdF9vcHRpb246dW5kZWZpbmVkLFwiaWRcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmlkOnR5cGVvZiBpZCE9PVwidW5kZWZpbmVkXCI/aWQ6dW5kZWZpbmVkLFwib3B0aW9uX0FcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLm9wdGlvbl9BOnR5cGVvZiBvcHRpb25fQSE9PVwidW5kZWZpbmVkXCI/b3B0aW9uX0E6dW5kZWZpbmVkLFwib3B0aW9uX0JcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLm9wdGlvbl9COnR5cGVvZiBvcHRpb25fQiE9PVwidW5kZWZpbmVkXCI/b3B0aW9uX0I6dW5kZWZpbmVkLFwib3B0aW9uX0NcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLm9wdGlvbl9DOnR5cGVvZiBvcHRpb25fQyE9PVwidW5kZWZpbmVkXCI/b3B0aW9uX0M6dW5kZWZpbmVkLFwib3B0aW9uX0RcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLm9wdGlvbl9EOnR5cGVvZiBvcHRpb25fRCE9PVwidW5kZWZpbmVkXCI/b3B0aW9uX0Q6dW5kZWZpbmVkLFwib3B0aW9uX0VcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLm9wdGlvbl9FOnR5cGVvZiBvcHRpb25fRSE9PVwidW5kZWZpbmVkXCI/b3B0aW9uX0U6dW5kZWZpbmVkLFwib3B0aW9uX0ZcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLm9wdGlvbl9GOnR5cGVvZiBvcHRpb25fRiE9PVwidW5kZWZpbmVkXCI/b3B0aW9uX0Y6dW5kZWZpbmVkLFwidHlwZVwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgudHlwZTp0eXBlb2YgdHlwZSE9PVwidW5kZWZpbmVkXCI/dHlwZTp1bmRlZmluZWQpKTs7cmV0dXJuIGJ1Zi5qb2luKFwiXCIpO1xufTsiLCJ2YXIgamFkZSA9IHJlcXVpcmUoXCJqYWRlL3J1bnRpbWVcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7XG52YXIgYnVmID0gW107XG52YXIgamFkZV9taXhpbnMgPSB7fTtcbnZhciBqYWRlX2ludGVycDtcbjt2YXIgbG9jYWxzX2Zvcl93aXRoID0gKGxvY2FscyB8fCB7fSk7KGZ1bmN0aW9uIChpZCkge1xuamFkZV9taXhpbnNbXCJpbnB1dFwiXSA9IGphZGVfaW50ZXJwID0gZnVuY3Rpb24odHlwZSxpZCxwbGFjZWhvbGRlcixsYWJlbCxuYW1lKXtcbnZhciBibG9jayA9ICh0aGlzICYmIHRoaXMuYmxvY2spLCBhdHRyaWJ1dGVzID0gKHRoaXMgJiYgdGhpcy5hdHRyaWJ1dGVzKSB8fCB7fTtcbmJ1Zi5wdXNoKFwiPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+PGxhYmVsXCIgKyAoamFkZS5hdHRyKFwiZm9yXCIsIFwiXCIgKyAoaWQpICsgXCJcIiwgdHJ1ZSwgZmFsc2UpKSArIFwiIGNsYXNzPVxcXCJjb2wteHMtMiBjb250cm9sLWxhYmVsXFxcIj5cIiArIChqYWRlLmVzY2FwZSgoamFkZV9pbnRlcnAgPSBsYWJlbCkgPT0gbnVsbCA/ICcnIDogamFkZV9pbnRlcnApKSArIFwiPC9sYWJlbD48ZGl2IGNsYXNzPVxcXCJjb2wteHMtMTBcXFwiPjxpbnB1dFwiICsgKGphZGUuYXR0cihcInR5cGVcIiwgXCJcIiArICh0eXBlKSArIFwiXCIsIHRydWUsIGZhbHNlKSkgKyAoamFkZS5hdHRyKFwiaWRcIiwgXCJcIiArIChpZCkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcInBsYWNlaG9sZGVyXCIsIFwiXCIgKyAocGxhY2Vob2xkZXIpICsgXCJcIiwgdHJ1ZSwgZmFsc2UpKSArIChqYWRlLmF0dHIoXCJuYW1lXCIsIFwiXCIgKyAobmFtZSkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIvPjwvZGl2PjwvZGl2PlwiKTtcbn07XG5idWYucHVzaChcIjxkaXZcIiArIChqYWRlLmF0dHIoXCJpZFwiLCBcIlwiICsgKGlkKSArIFwiXCIsIHRydWUsIGZhbHNlKSkgKyBcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHJvbGU9XFxcImRpYWxvZ1xcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJ1c2VyRm9ybUxhYmVsXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcIm1vZGFsIGZhZGVcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWRpYWxvZ1xcXCI+PGRpdiBjbGFzcz1cXFwibW9kYWwtY29udGVudFxcXCI+PGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIj48c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+JnRpbWVzOzwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic3Itb25seVxcXCI+5YWz6ZetPC9zcGFuPjwvYnV0dG9uPjxoNCBpZD1cXFwidXNlckZvcm1MYWJlbFxcXCIgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj7ovpPlhaXnlKjmiLfkv6Hmga88L2g0PjwvZGl2PjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPjxyb3c+PGZvcm0gY2xhc3M9XFxcImZvcm0taG9yaXpvbnRhbFxcXCI+XCIpO1xuamFkZV9taXhpbnNbXCJpbnB1dFwiXSgndGV4dCcsICd1c2VybmFtZScsICfnlKjmiLflkI0nLCAn55So5oi35ZCNJywgJ3VzZXJuYW1lJyk7XG5qYWRlX21peGluc1tcImlucHV0XCJdKCdwYXNzd29yZCcsICdwYXNzd29yZCcsICflr4bnoIEnLCAn5a+G56CBJywgJ3Bhc3N3b3JkJyk7XG5idWYucHVzaChcIjwvZm9ybT48L3Jvdz48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIj7lj5bmtog8L2J1dHRvbj48YnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCI+5L+d5a2YPC9idXR0b24+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+XCIpO30uY2FsbCh0aGlzLFwiaWRcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmlkOnR5cGVvZiBpZCE9PVwidW5kZWZpbmVkXCI/aWQ6dW5kZWZpbmVkKSk7O3JldHVybiBidWYuam9pbihcIlwiKTtcbn07IiwidmFyIGphZGUgPSByZXF1aXJlKFwiamFkZS9ydW50aW1lXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRlbXBsYXRlKGxvY2Fscykge1xudmFyIGJ1ZiA9IFtdO1xudmFyIGphZGVfbWl4aW5zID0ge307XG52YXIgamFkZV9pbnRlcnA7XG47dmFyIGxvY2Fsc19mb3Jfd2l0aCA9IChsb2NhbHMgfHwge30pOyhmdW5jdGlvbiAoYWN0aXZlLCBhZG1pbiwgaWQsIHVzZXJuYW1lKSB7XG5idWYucHVzaChcIjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IGlkKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IHVzZXJuYW1lKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIik7XG5pZiAoICFhZG1pbilcbntcbmJ1Zi5wdXNoKFwiPGEgdHlwZT1cXFwiYnV0dG9uXFxcIlwiICsgKGphZGUuYXR0cihcImRhdGEtaWRcIiwgaWQsIHRydWUsIGZhbHNlKSkgKyBcIiBkYXRhLXRvZ2dsZT1cXFwibW9kYWxcXFwiIGRhdGEtdGFyZ2V0PVxcXCIjdXNlck1vZGFsRm9ybVxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4teHNcXFwiPuS/ruaUueWvhueggVwiKTtcbmlmICggYWN0aXZlKVxue1xuYnVmLnB1c2goXCI8YSBpZD1cXFwiZGVhY3RpdmF0ZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXIgYnRuLXhzXFxcIj7lhrvnu5PluJDlj7c8L2E+XCIpO1xufVxuZWxzZVxue1xuYnVmLnB1c2goXCI8YSBpZD1cXFwiYWN0aXZhdGVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4teHNcXFwiPua/gOa0u+W4kOWPtzwvYT5cIik7XG59XG5idWYucHVzaChcIjwvYT5cIik7XG59XG5idWYucHVzaChcIjwvdGQ+XCIpO30uY2FsbCh0aGlzLFwiYWN0aXZlXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5hY3RpdmU6dHlwZW9mIGFjdGl2ZSE9PVwidW5kZWZpbmVkXCI/YWN0aXZlOnVuZGVmaW5lZCxcImFkbWluXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5hZG1pbjp0eXBlb2YgYWRtaW4hPT1cInVuZGVmaW5lZFwiP2FkbWluOnVuZGVmaW5lZCxcImlkXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5pZDp0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiP2lkOnVuZGVmaW5lZCxcInVzZXJuYW1lXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC51c2VybmFtZTp0eXBlb2YgdXNlcm5hbWUhPT1cInVuZGVmaW5lZFwiP3VzZXJuYW1lOnVuZGVmaW5lZCkpOztyZXR1cm4gYnVmLmpvaW4oXCJcIik7XG59OyIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcbihmdW5jdGlvbihmKXtpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCImJnR5cGVvZiBtb2R1bGUhPT1cInVuZGVmaW5lZFwiKXttb2R1bGUuZXhwb3J0cz1mKCl9ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoW10sZil9ZWxzZXt2YXIgZztpZih0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09XCJ1bmRlZmluZWRcIil7Zz1nbG9iYWx9ZWxzZSBpZih0eXBlb2Ygc2VsZiE9PVwidW5kZWZpbmVkXCIpe2c9c2VsZn1lbHNle2c9dGhpc31nLmphZGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogTWVyZ2UgdHdvIGF0dHJpYnV0ZSBvYmplY3RzIGdpdmluZyBwcmVjZWRlbmNlXG4gKiB0byB2YWx1ZXMgaW4gb2JqZWN0IGBiYC4gQ2xhc3NlcyBhcmUgc3BlY2lhbC1jYXNlZFxuICogYWxsb3dpbmcgZm9yIGFycmF5cyBhbmQgbWVyZ2luZy9qb2luaW5nIGFwcHJvcHJpYXRlbHlcbiAqIHJlc3VsdGluZyBpbiBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYVxuICogQHBhcmFtIHtPYmplY3R9IGJcbiAqIEByZXR1cm4ge09iamVjdH0gYVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5tZXJnZSA9IGZ1bmN0aW9uIG1lcmdlKGEsIGIpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICB2YXIgYXR0cnMgPSBhWzBdO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgYXR0cnMgPSBtZXJnZShhdHRycywgYVtpXSk7XG4gICAgfVxuICAgIHJldHVybiBhdHRycztcbiAgfVxuICB2YXIgYWMgPSBhWydjbGFzcyddO1xuICB2YXIgYmMgPSBiWydjbGFzcyddO1xuXG4gIGlmIChhYyB8fCBiYykge1xuICAgIGFjID0gYWMgfHwgW107XG4gICAgYmMgPSBiYyB8fCBbXTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYWMpKSBhYyA9IFthY107XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGJjKSkgYmMgPSBbYmNdO1xuICAgIGFbJ2NsYXNzJ10gPSBhYy5jb25jYXQoYmMpLmZpbHRlcihudWxscyk7XG4gIH1cblxuICBmb3IgKHZhciBrZXkgaW4gYikge1xuICAgIGlmIChrZXkgIT0gJ2NsYXNzJykge1xuICAgICAgYVtrZXldID0gYltrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhO1xufTtcblxuLyoqXG4gKiBGaWx0ZXIgbnVsbCBgdmFsYHMuXG4gKlxuICogQHBhcmFtIHsqfSB2YWxcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBudWxscyh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPSBudWxsICYmIHZhbCAhPT0gJyc7XG59XG5cbi8qKlxuICogam9pbiBhcnJheSBhcyBjbGFzc2VzLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmV4cG9ydHMuam9pbkNsYXNzZXMgPSBqb2luQ2xhc3NlcztcbmZ1bmN0aW9uIGpvaW5DbGFzc2VzKHZhbCkge1xuICByZXR1cm4gKEFycmF5LmlzQXJyYXkodmFsKSA/IHZhbC5tYXAoam9pbkNsYXNzZXMpIDpcbiAgICAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSA/IE9iamVjdC5rZXlzKHZhbCkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHZhbFtrZXldOyB9KSA6XG4gICAgW3ZhbF0pLmZpbHRlcihudWxscykuam9pbignICcpO1xufVxuXG4vKipcbiAqIFJlbmRlciB0aGUgZ2l2ZW4gY2xhc3Nlcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBjbGFzc2VzXG4gKiBAcGFyYW0ge0FycmF5LjxCb29sZWFuPn0gZXNjYXBlZFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnRzLmNscyA9IGZ1bmN0aW9uIGNscyhjbGFzc2VzLCBlc2NhcGVkKSB7XG4gIHZhciBidWYgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGVzY2FwZWQgJiYgZXNjYXBlZFtpXSkge1xuICAgICAgYnVmLnB1c2goZXhwb3J0cy5lc2NhcGUoam9pbkNsYXNzZXMoW2NsYXNzZXNbaV1dKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidWYucHVzaChqb2luQ2xhc3NlcyhjbGFzc2VzW2ldKSk7XG4gICAgfVxuICB9XG4gIHZhciB0ZXh0ID0gam9pbkNsYXNzZXMoYnVmKTtcbiAgaWYgKHRleHQubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcgY2xhc3M9XCInICsgdGV4dCArICdcIic7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5cbmV4cG9ydHMuc3R5bGUgPSBmdW5jdGlvbiAodmFsKSB7XG4gIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModmFsKS5tYXAoZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgICByZXR1cm4gc3R5bGUgKyAnOicgKyB2YWxbc3R5bGVdO1xuICAgIH0pLmpvaW4oJzsnKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG59O1xuLyoqXG4gKiBSZW5kZXIgdGhlIGdpdmVuIGF0dHJpYnV0ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGVzY2FwZWRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdGVyc2VcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZXhwb3J0cy5hdHRyID0gZnVuY3Rpb24gYXR0cihrZXksIHZhbCwgZXNjYXBlZCwgdGVyc2UpIHtcbiAgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgIHZhbCA9IGV4cG9ydHMuc3R5bGUodmFsKTtcbiAgfVxuICBpZiAoJ2Jvb2xlYW4nID09IHR5cGVvZiB2YWwgfHwgbnVsbCA9PSB2YWwpIHtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gJyAnICsgKHRlcnNlID8ga2V5IDoga2V5ICsgJz1cIicgKyBrZXkgKyAnXCInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfSBlbHNlIGlmICgwID09IGtleS5pbmRleE9mKCdkYXRhJykgJiYgJ3N0cmluZycgIT0gdHlwZW9mIHZhbCkge1xuICAgIGlmIChKU09OLnN0cmluZ2lmeSh2YWwpLmluZGV4T2YoJyYnKSAhPT0gLTEpIHtcbiAgICAgIGNvbnNvbGUud2FybignU2luY2UgSmFkZSAyLjAuMCwgYW1wZXJzYW5kcyAoYCZgKSBpbiBkYXRhIGF0dHJpYnV0ZXMgJyArXG4gICAgICAgICAgICAgICAgICAgJ3dpbGwgYmUgZXNjYXBlZCB0byBgJmFtcDtgJyk7XG4gICAgfTtcbiAgICBpZiAodmFsICYmIHR5cGVvZiB2YWwudG9JU09TdHJpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnNvbGUud2FybignSmFkZSB3aWxsIGVsaW1pbmF0ZSB0aGUgZG91YmxlIHF1b3RlcyBhcm91bmQgZGF0ZXMgaW4gJyArXG4gICAgICAgICAgICAgICAgICAgJ0lTTyBmb3JtIGFmdGVyIDIuMC4wJyk7XG4gICAgfVxuICAgIHJldHVybiAnICcgKyBrZXkgKyBcIj0nXCIgKyBKU09OLnN0cmluZ2lmeSh2YWwpLnJlcGxhY2UoLycvZywgJyZhcG9zOycpICsgXCInXCI7XG4gIH0gZWxzZSBpZiAoZXNjYXBlZCkge1xuICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbC50b0lTT1N0cmluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc29sZS53YXJuKCdKYWRlIHdpbGwgc3RyaW5naWZ5IGRhdGVzIGluIElTTyBmb3JtIGFmdGVyIDIuMC4wJyk7XG4gICAgfVxuICAgIHJldHVybiAnICcgKyBrZXkgKyAnPVwiJyArIGV4cG9ydHMuZXNjYXBlKHZhbCkgKyAnXCInO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbC50b0lTT1N0cmluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc29sZS53YXJuKCdKYWRlIHdpbGwgc3RyaW5naWZ5IGRhdGVzIGluIElTTyBmb3JtIGFmdGVyIDIuMC4wJyk7XG4gICAgfVxuICAgIHJldHVybiAnICcgKyBrZXkgKyAnPVwiJyArIHZhbCArICdcIic7XG4gIH1cbn07XG5cbi8qKlxuICogUmVuZGVyIHRoZSBnaXZlbiBhdHRyaWJ1dGVzIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge09iamVjdH0gZXNjYXBlZFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnRzLmF0dHJzID0gZnVuY3Rpb24gYXR0cnMob2JqLCB0ZXJzZSl7XG4gIHZhciBidWYgPSBbXTtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG5cbiAgaWYgKGtleXMubGVuZ3RoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXVxuICAgICAgICAsIHZhbCA9IG9ialtrZXldO1xuXG4gICAgICBpZiAoJ2NsYXNzJyA9PSBrZXkpIHtcbiAgICAgICAgaWYgKHZhbCA9IGpvaW5DbGFzc2VzKHZhbCkpIHtcbiAgICAgICAgICBidWYucHVzaCgnICcgKyBrZXkgKyAnPVwiJyArIHZhbCArICdcIicpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBidWYucHVzaChleHBvcnRzLmF0dHIoa2V5LCB2YWwsIGZhbHNlLCB0ZXJzZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBidWYuam9pbignJyk7XG59O1xuXG4vKipcbiAqIEVzY2FwZSB0aGUgZ2l2ZW4gc3RyaW5nIG9mIGBodG1sYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaHRtbFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxudmFyIGphZGVfZW5jb2RlX2h0bWxfcnVsZXMgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7J1xufTtcbnZhciBqYWRlX21hdGNoX2h0bWwgPSAvWyY8PlwiXS9nO1xuXG5mdW5jdGlvbiBqYWRlX2VuY29kZV9jaGFyKGMpIHtcbiAgcmV0dXJuIGphZGVfZW5jb2RlX2h0bWxfcnVsZXNbY10gfHwgYztcbn1cblxuZXhwb3J0cy5lc2NhcGUgPSBqYWRlX2VzY2FwZTtcbmZ1bmN0aW9uIGphZGVfZXNjYXBlKGh0bWwpe1xuICB2YXIgcmVzdWx0ID0gU3RyaW5nKGh0bWwpLnJlcGxhY2UoamFkZV9tYXRjaF9odG1sLCBqYWRlX2VuY29kZV9jaGFyKTtcbiAgaWYgKHJlc3VsdCA9PT0gJycgKyBodG1sKSByZXR1cm4gaHRtbDtcbiAgZWxzZSByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBSZS10aHJvdyB0aGUgZ2l2ZW4gYGVycmAgaW4gY29udGV4dCB0byB0aGVcbiAqIHRoZSBqYWRlIGluIGBmaWxlbmFtZWAgYXQgdGhlIGdpdmVuIGBsaW5lbm9gLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVyclxuICogQHBhcmFtIHtTdHJpbmd9IGZpbGVuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbGluZW5vXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLnJldGhyb3cgPSBmdW5jdGlvbiByZXRocm93KGVyciwgZmlsZW5hbWUsIGxpbmVubywgc3RyKXtcbiAgaWYgKCEoZXJyIGluc3RhbmNlb2YgRXJyb3IpKSB0aHJvdyBlcnI7XG4gIGlmICgodHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyB8fCAhZmlsZW5hbWUpICYmICFzdHIpIHtcbiAgICBlcnIubWVzc2FnZSArPSAnIG9uIGxpbmUgJyArIGxpbmVubztcbiAgICB0aHJvdyBlcnI7XG4gIH1cbiAgdHJ5IHtcbiAgICBzdHIgPSBzdHIgfHwgcmVxdWlyZSgnZnMnKS5yZWFkRmlsZVN5bmMoZmlsZW5hbWUsICd1dGY4JylcbiAgfSBjYXRjaCAoZXgpIHtcbiAgICByZXRocm93KGVyciwgbnVsbCwgbGluZW5vKVxuICB9XG4gIHZhciBjb250ZXh0ID0gM1xuICAgICwgbGluZXMgPSBzdHIuc3BsaXQoJ1xcbicpXG4gICAgLCBzdGFydCA9IE1hdGgubWF4KGxpbmVubyAtIGNvbnRleHQsIDApXG4gICAgLCBlbmQgPSBNYXRoLm1pbihsaW5lcy5sZW5ndGgsIGxpbmVubyArIGNvbnRleHQpO1xuXG4gIC8vIEVycm9yIGNvbnRleHRcbiAgdmFyIGNvbnRleHQgPSBsaW5lcy5zbGljZShzdGFydCwgZW5kKS5tYXAoZnVuY3Rpb24obGluZSwgaSl7XG4gICAgdmFyIGN1cnIgPSBpICsgc3RhcnQgKyAxO1xuICAgIHJldHVybiAoY3VyciA9PSBsaW5lbm8gPyAnICA+ICcgOiAnICAgICcpXG4gICAgICArIGN1cnJcbiAgICAgICsgJ3wgJ1xuICAgICAgKyBsaW5lO1xuICB9KS5qb2luKCdcXG4nKTtcblxuICAvLyBBbHRlciBleGNlcHRpb24gbWVzc2FnZVxuICBlcnIucGF0aCA9IGZpbGVuYW1lO1xuICBlcnIubWVzc2FnZSA9IChmaWxlbmFtZSB8fCAnSmFkZScpICsgJzonICsgbGluZW5vXG4gICAgKyAnXFxuJyArIGNvbnRleHQgKyAnXFxuXFxuJyArIGVyci5tZXNzYWdlO1xuICB0aHJvdyBlcnI7XG59O1xuXG5leHBvcnRzLkRlYnVnSXRlbSA9IGZ1bmN0aW9uIERlYnVnSXRlbShsaW5lbm8sIGZpbGVuYW1lKSB7XG4gIHRoaXMubGluZW5vID0gbGluZW5vO1xuICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG59XG5cbn0se1wiZnNcIjoyfV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cbn0se31dfSx7fSxbMV0pKDEpXG59KTtcbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIl19\n"],"sourceRoot":"/source/"}