{"version":3,"sources":["app.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","IntApp","window","AccountPageView","BookPageView","QuestionPageView","account-page","book-page","question-page",2,3,"BaseCollection","BaseModel","ModalView","PaginationView","TableView","User","UserModalView","UserView","Users","UsersView","extend","child","parent","ctor","this","constructor","key","hasProp","prototype","__super__","hasOwnProperty","superClass","apply","arguments","urlRoot","defaults","username","password","validation","blank","message","minLength","activate","attrs","active","save","deactivate","url","model","tagName","template","events","click #deactivate","click #activate","initialize","listenTo","render","remove","$el","html","toJSON","Backbone","View","bindings","#username","#password","row","pageNavView","userModalView","users","usersView","el","$","collection","after","id","fetch","reset","data/base-collection","data/base-model","templates/user-modal","templates/user-row","views/modal-view","views/pagination-view","views/table-view",4,"QuizBook","QuizBookModalView","QuizBookView","QuizBooks","QuizBooksView","title","#title","quizBookModalView","quizBooks","quizBooksView","templates/book-modal","templates/book-row",5,"parse","data","meta","objects","Collection",6,"origUrl","charAt","_","isArray","Model",7,"Question","QuestionListPanelView","QuestionModalView","QuestionView","Questions","QuestionsView","char2Int","int2Char","String","fromCharCode","parseInt","c","charCodeAt","type","correct_option","option_A","option_B","option_C","option_D","option_E","option_F","content","fn","value","isString","split","isEmpty","every","get","state","options","click #delete","destroy","correct","map","join","_bindings","code","j","len","ref","[name=content]","[name=type]","observe","selectOptions","label","setOptions","silent","[name=correct_option]","onGet","onSet","show","isNew","set","book","changeType","curVal","prop","stickit","onInvalidField","name","errors","error","field","group","closest","find","append","addClass","change #book","val","click #loadBook","bookId","panelView","questionModalView","questions","questionsView","templates/question-modal","templates/question-row",8,"setElement","show.bs.modal","hidden.bs.modal","click [type=submit]","relatedTarget","bindValidation","validate","hidden","unstickit","stopListening","xhr","preventDefault","then","_this","add","modal","onValidField","removeClass",9,"className","click a[data-id]","loadPage","currentTarget","page","templates/page-nav",10,"prepend","tbody","empty","each",11,"jade","locals","buf","locals_for_with","push","attr","undefined","jade/runtime",12,"jade_interp","button","user","escape",13,"Math","end","pages","start","max","min","cls",14,"jade_mixins","block","attributes","$$obj","$index","$$l","option",15,16,"placeholder",17,"admin",18,"global","define","amd","g","self","l","nulls","joinClasses","Array","Object","keys","filter","jade_encode_char","jade_encode_html_rules","jade_escape","result","replace","jade_match_html","merge","b","ac","bc","concat","classes","escaped","text","style","terse","indexOf","JSON","stringify","console","warn","toISOString","obj","&","<",">","\"","rethrow","err","filename","lineno","str","readFileSync","ex","context","lines","slice","line","curr","path","DebugItem","fs"],"mappings":"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","file":"app.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar IntApp;\n\nwindow.IntApp = IntApp = {\n  AccountPageView: require('account-page'),\n  BookPageView: require('book-page'),\n  QuestionPageView: require('question-page')\n};\n\n\n},{\"account-page\":3,\"book-page\":4,\"question-page\":7}],2:[function(require,module,exports){\n\n},{}],3:[function(require,module,exports){\nvar AccountPageView, BaseCollection, BaseModel, ModalView, PaginationView, TableView, User, UserModalView, UserView, Users, UsersView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseModel = require('data/base-model');\n\nBaseCollection = require('data/base-collection');\n\nTableView = require('views/table-view');\n\nPaginationView = require('views/pagination-view');\n\nModalView = require('views/modal-view');\n\nUser = (function(superClass) {\n  extend(User, superClass);\n\n  function User() {\n    return User.__super__.constructor.apply(this, arguments);\n  }\n\n  User.prototype.urlRoot = '/api/v1/user';\n\n  User.prototype.defaults = {\n    username: '',\n    password: ''\n  };\n\n  User.prototype.validation = {\n    username: {\n      blank: false,\n      message: '用户名不能为空'\n    },\n    password: {\n      blank: false,\n      minLength: 6,\n      message: '密码不能少于6位'\n    }\n  };\n\n  User.prototype.activate = function() {\n    var attrs;\n    attrs = {\n      active: true\n    };\n    return this.save(attrs, {\n      attrs: attrs\n    });\n  };\n\n  User.prototype.deactivate = function() {\n    var attrs;\n    attrs = {\n      active: false\n    };\n    return this.save(attrs, {\n      attrs: attrs\n    });\n  };\n\n  return User;\n\n})(BaseModel);\n\nUsers = (function(superClass) {\n  extend(Users, superClass);\n\n  function Users() {\n    return Users.__super__.constructor.apply(this, arguments);\n  }\n\n  Users.prototype.url = '/api/v1/user';\n\n  Users.prototype.model = User;\n\n  return Users;\n\n})(BaseCollection);\n\nUserView = (function(superClass) {\n  extend(UserView, superClass);\n\n  function UserView() {\n    return UserView.__super__.constructor.apply(this, arguments);\n  }\n\n  UserView.prototype.tagName = 'tr';\n\n  UserView.prototype.template = require('templates/user-row');\n\n  UserView.prototype.events = {\n    'click #deactivate': function() {\n      return this.model.deactivate();\n    },\n    'click #activate': function() {\n      return this.model.activate();\n    }\n  };\n\n  UserView.prototype.initialize = function() {\n    this.listenTo(this.model, \"sync\", this.render);\n    return this.listenTo(this.model, \"destroy\", this.remove);\n  };\n\n  UserView.prototype.render = function() {\n    this.$el.html(this.template(this.model.toJSON()));\n    return this;\n  };\n\n  return UserView;\n\n})(Backbone.View);\n\nUserModalView = (function(superClass) {\n  extend(UserModalView, superClass);\n\n  function UserModalView() {\n    return UserModalView.__super__.constructor.apply(this, arguments);\n  }\n\n  UserModalView.prototype.template = require('templates/user-modal');\n\n  UserModalView.prototype.bindings = {\n    '#username': 'username',\n    '#password': 'password'\n  };\n\n  return UserModalView;\n\n})(ModalView);\n\nUsersView = (function(superClass) {\n  extend(UsersView, superClass);\n\n  function UsersView() {\n    return UsersView.__super__.constructor.apply(this, arguments);\n  }\n\n  UsersView.prototype.row = function(model) {\n    return new UserView({\n      model: model\n    });\n  };\n\n  return UsersView;\n\n})(TableView);\n\nmodule.exports = AccountPageView = (function(superClass) {\n  extend(AccountPageView, superClass);\n\n  function AccountPageView() {\n    return AccountPageView.__super__.constructor.apply(this, arguments);\n  }\n\n  AccountPageView.prototype.render = function() {\n    var pageNavView, userModalView, users, usersView;\n    users = new Users;\n    usersView = new UsersView({\n      el: $('.table-container'),\n      collection: users\n    });\n    pageNavView = new PaginationView({\n      collection: users\n    });\n    usersView.$el.after(pageNavView.render().$el);\n    userModalView = new UserModalView({\n      id: 'userModalForm',\n      collection: users\n    });\n    userModalView.render();\n    users.fetch({\n      reset: true\n    });\n    return this;\n  };\n\n  return AccountPageView;\n\n})(Backbone.View);\n\n\n},{\"data/base-collection\":5,\"data/base-model\":6,\"templates/user-modal\":16,\"templates/user-row\":17,\"views/modal-view\":8,\"views/pagination-view\":9,\"views/table-view\":10}],4:[function(require,module,exports){\nvar BaseCollection, BaseModel, BookPageView, ModalView, PaginationView, QuizBook, QuizBookModalView, QuizBookView, QuizBooks, QuizBooksView, TableView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseModel = require('data/base-model');\n\nBaseCollection = require('data/base-collection');\n\nTableView = require('views/table-view');\n\nPaginationView = require('views/pagination-view');\n\nModalView = require('views/modal-view');\n\nQuizBook = (function(superClass) {\n  extend(QuizBook, superClass);\n\n  function QuizBook() {\n    return QuizBook.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBook.prototype.urlRoot = '/api/v1/quizbook';\n\n  QuizBook.prototype.validation = {\n    title: {\n      blank: false,\n      message: '题库名不能为空'\n    }\n  };\n\n  return QuizBook;\n\n})(BaseModel);\n\nQuizBooks = (function(superClass) {\n  extend(QuizBooks, superClass);\n\n  function QuizBooks() {\n    return QuizBooks.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBooks.prototype.url = '/api/v1/quizbook';\n\n  QuizBooks.prototype.model = QuizBook;\n\n  return QuizBooks;\n\n})(BaseCollection);\n\nQuizBookView = (function(superClass) {\n  extend(QuizBookView, superClass);\n\n  function QuizBookView() {\n    return QuizBookView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBookView.prototype.tagName = 'tr';\n\n  QuizBookView.prototype.template = require('templates/book-row');\n\n  QuizBookView.prototype.initialize = function() {\n    return this.listenTo(this.model, \"sync\", this.render);\n  };\n\n  QuizBookView.prototype.render = function() {\n    this.$el.html(this.template(this.model.toJSON()));\n    return this;\n  };\n\n  return QuizBookView;\n\n})(Backbone.View);\n\nQuizBookModalView = (function(superClass) {\n  extend(QuizBookModalView, superClass);\n\n  function QuizBookModalView() {\n    return QuizBookModalView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBookModalView.prototype.template = require('templates/book-modal');\n\n  QuizBookModalView.prototype.bindings = {\n    '#title': 'title'\n  };\n\n  return QuizBookModalView;\n\n})(ModalView);\n\nQuizBooksView = (function(superClass) {\n  extend(QuizBooksView, superClass);\n\n  function QuizBooksView() {\n    return QuizBooksView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBooksView.prototype.row = function(model) {\n    return new QuizBookView({\n      model: model\n    });\n  };\n\n  return QuizBooksView;\n\n})(TableView);\n\nmodule.exports = BookPageView = (function(superClass) {\n  extend(BookPageView, superClass);\n\n  function BookPageView() {\n    return BookPageView.__super__.constructor.apply(this, arguments);\n  }\n\n  BookPageView.prototype.render = function() {\n    var pageNavView, quizBookModalView, quizBooks, quizBooksView;\n    quizBooks = new QuizBooks;\n    quizBooksView = new QuizBooksView({\n      el: $('#quizbook-table-container'),\n      collection: quizBooks\n    });\n    pageNavView = new PaginationView({\n      collection: quizBooks\n    });\n    quizBooksView.$el.after(pageNavView.render().$el);\n    quizBookModalView = new QuizBookModalView({\n      id: 'bookModalForm',\n      collection: quizBooks\n    });\n    quizBookModalView.render();\n    quizBooks.fetch({\n      reset: true\n    });\n    return this;\n  };\n\n  return BookPageView;\n\n})(Backbone.View);\n\n\n},{\"data/base-collection\":5,\"data/base-model\":6,\"templates/book-modal\":11,\"templates/book-row\":12,\"views/modal-view\":8,\"views/pagination-view\":9,\"views/table-view\":10}],5:[function(require,module,exports){\nvar BaseCollection,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseCollection = (function(superClass) {\n  extend(BaseCollection, superClass);\n\n  function BaseCollection() {\n    return BaseCollection.__super__.constructor.apply(this, arguments);\n  }\n\n  BaseCollection.prototype.parse = function(data) {\n    if (data && data.meta) {\n      this.meta = data.meta;\n    }\n    return data && data.objects || data;\n  };\n\n  return BaseCollection;\n\n})(Backbone.Collection);\n\nmodule.exports = BaseCollection;\n\n\n},{}],6:[function(require,module,exports){\nvar BaseModel,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseModel = (function(superClass) {\n  extend(BaseModel, superClass);\n\n  function BaseModel() {\n    return BaseModel.__super__.constructor.apply(this, arguments);\n  }\n\n  BaseModel.prototype.url = function() {\n    var origUrl;\n    origUrl = BaseModel.__super__.url.call(this);\n    return origUrl + (origUrl.length > 0 && origUrl.charAt(origUrl.length - 1) === '/' ? '' : '/');\n  };\n\n  BaseModel.prototype.parse = function(data) {\n    if (data && data.objects && _.isArray(data.objects)) {\n      return data.objects[0] || {};\n    }\n    return data;\n  };\n\n  return BaseModel;\n\n})(Backbone.Model);\n\nmodule.exports = BaseModel;\n\n\n},{}],7:[function(require,module,exports){\nvar BaseCollection, BaseModel, ModalView, PaginationView, Question, QuestionListPanelView, QuestionModalView, QuestionPageView, QuestionView, Questions, QuestionsView, TableView, char2Int, int2Char,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseModel = require('data/base-model');\n\nBaseCollection = require('data/base-collection');\n\nTableView = require('views/table-view');\n\nPaginationView = require('views/pagination-view');\n\nModalView = require('views/modal-view');\n\nint2Char = function(i) {\n  return String.fromCharCode(64 + parseInt(i));\n};\n\nchar2Int = function(c) {\n  if (!!c) {\n    return c.charCodeAt(0);\n  } else {\n    return c;\n  }\n};\n\nQuestion = (function(superClass) {\n  extend(Question, superClass);\n\n  function Question() {\n    return Question.__super__.constructor.apply(this, arguments);\n  }\n\n  Question.prototype.urlRoot = '/api/v1/question/';\n\n  Question.prototype.defaults = {\n    \"type\": 1,\n    \"correct_option\": \"1\",\n    \"option_A\": \"\",\n    \"option_B\": \"\",\n    \"option_C\": \"\",\n    \"option_D\": \"\",\n    \"option_E\": \"\",\n    \"option_F\": \"\"\n  };\n\n  Question.prototype.validation = {\n    content: {\n      blank: false,\n      message: '题目内容不能为空'\n    },\n    type: {\n      blank: false,\n      fn: function(value) {\n        return value === 1 || value === 2;\n      },\n      message: '题目类型必须是多选或单选'\n    },\n    correct_option: {\n      blank: false,\n      fn: function(value) {\n        value = (function() {\n          switch (false) {\n            case !_.isArray(value):\n              return value;\n            case !_.isString(value):\n              return value.split(',');\n            default:\n              return false;\n          }\n        })();\n        return !(_.isEmpty(value)) && _.every(value, (function(i) {\n          return this.get('option_' + int2Char(i));\n        }), this);\n      },\n      message: '正确答案设置出错，注意对应的选项是否设置了答案'\n    }\n  };\n\n  return Question;\n\n})(BaseModel);\n\nQuestions = (function(superClass) {\n  extend(Questions, superClass);\n\n  function Questions() {\n    return Questions.__super__.constructor.apply(this, arguments);\n  }\n\n  Questions.prototype.url = '/api/v1/question/';\n\n  Questions.prototype.model = Question;\n\n  Questions.prototype.state = {};\n\n  Questions.prototype.fetch = function(options) {\n    var data;\n    options = _.extend({}, options);\n    data = options.data;\n    options.data = _.extend({}, this.state, data);\n    return Questions.__super__.fetch.call(this, options);\n  };\n\n  return Questions;\n\n})(BaseCollection);\n\nQuestionView = (function(superClass) {\n  extend(QuestionView, superClass);\n\n  function QuestionView() {\n    return QuestionView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionView.prototype.tagName = 'tr';\n\n  QuestionView.prototype.template = require('templates/question-row');\n\n  QuestionView.prototype.events = {\n    'click #delete': function() {\n      return this.model.destroy();\n    }\n  };\n\n  QuestionView.prototype.initialize = function() {\n    this.listenTo(this.model, \"sync\", this.render);\n    return this.listenTo(this.model, \"destroy\", this.remove);\n  };\n\n  QuestionView.prototype.render = function() {\n    var correct, data;\n    data = this.model.toJSON();\n    correct = data['correct_option'].split(',');\n    data['correct_option'] = _.map(correct, int2Char).join();\n    data['type'] = (function() {\n      switch (data['type']) {\n        case 1:\n          return '单选';\n        case 2:\n          return '多选';\n        default:\n          return '多选';\n      }\n    })();\n    this.$el.html(this.template(data));\n    return this;\n  };\n\n  return QuestionView;\n\n})(Backbone.View);\n\nQuestionsView = (function(superClass) {\n  extend(QuestionsView, superClass);\n\n  function QuestionsView() {\n    return QuestionsView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionsView.prototype.row = function(model) {\n    return new QuestionView({\n      model: model\n    });\n  };\n\n  return QuestionsView;\n\n})(TableView);\n\nQuestionModalView = (function(superClass) {\n  extend(QuestionModalView, superClass);\n\n  function QuestionModalView() {\n    return QuestionModalView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionModalView.prototype.template = require('templates/question-modal');\n\n  QuestionModalView.prototype.bindings = function() {\n    var _bindings, code, j, len, ref;\n    _bindings = {\n      '[name=content]': 'content',\n      '[name=type]': {\n        observe: 'type',\n        selectOptions: {\n          collection: function() {\n            return [\n              {\n                label: '单选',\n                value: 1\n              }, {\n                label: '多选',\n                value: 2\n              }\n            ];\n          }\n        },\n        setOptions: {\n          silent: false\n        }\n      },\n      '[name=correct_option]': {\n        observe: 'correct_option',\n        onGet: function(value) {\n          return value.split(',');\n        },\n        onSet: function(value) {\n          if (_.isArray(value)) {\n            return value.join(',');\n          } else {\n            return value;\n          }\n        }\n      }\n    };\n    ref = ['A', 'B', 'C', 'D', 'E', 'F'];\n    for (j = 0, len = ref.length; j < len; j++) {\n      code = ref[j];\n      _bindings[\"[name=option_\" + code + \"]\"] = 'option_' + code;\n    }\n    return _bindings;\n  };\n\n  QuestionModalView.prototype.show = function(e) {\n    QuestionModalView.__super__.show.call(this, e);\n    if (this.model.isNew()) {\n      this.model.set('book', this.collection.state.book);\n    }\n    this.changeType(this.model, this.model.get('type'));\n    return this.listenTo(this.model, \"change:type\", this.changeType);\n  };\n\n  QuestionModalView.prototype.changeType = function(model, value, options) {\n    var curVal, type;\n    type = value === 1 ? 'radio' : 'checkbox';\n    curVal = model.get('correct_option');\n    if (type === 'radio' && curVal) {\n      model.set('correct_option', curVal[0]);\n    }\n    this.$('input[name=correct_option]').prop('type', type);\n    return this.stickit();\n  };\n\n  QuestionModalView.prototype.onInvalidField = function(name, value, errors, model) {\n    var error, field, group, j, len;\n    if (name !== 'correct_option') {\n      return QuestionModalView.__super__.onInvalidField.call(this, name, value, errors, model);\n    } else {\n      field = this.$(\"[name=\" + name + \"]\");\n      group = field.closest('.form-group');\n      group.find('.help-block').remove();\n      for (j = 0, len = errors.length; j < len; j++) {\n        error = errors[j];\n        group.append(\"<div class='help-block col-sm-offset-2'>\" + error + \"</div>\");\n      }\n      return group.addClass('has-error');\n    }\n  };\n\n  return QuestionModalView;\n\n})(ModalView);\n\nQuestionListPanelView = (function(superClass) {\n  extend(QuestionListPanelView, superClass);\n\n  function QuestionListPanelView() {\n    return QuestionListPanelView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionListPanelView.prototype.events = {\n    'change #book': function() {\n      return this.collection.state.book = this.$('#book').val();\n    },\n    'click #loadBook': function() {\n      return this.collection.fetch({\n        reset: true\n      });\n    }\n  };\n\n  return QuestionListPanelView;\n\n})(Backbone.View);\n\nmodule.exports = QuestionPageView = (function(superClass) {\n  extend(QuestionPageView, superClass);\n\n  function QuestionPageView() {\n    return QuestionPageView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionPageView.prototype.render = function(bookId) {\n    var pageNavView, panelView, questionModalView, questions, questionsView;\n    if (!bookId) {\n      bookId = $('form select[name=book]').val();\n    }\n    questions = new Questions;\n    questions.state.book = bookId;\n    panelView = new QuestionListPanelView({\n      el: $('.table-control'),\n      collection: questions\n    });\n    questionsView = new QuestionsView({\n      el: $('#question-table-container'),\n      collection: questions\n    });\n    pageNavView = new PaginationView({\n      collection: questions\n    });\n    questionsView.$el.after(pageNavView.render().$el);\n    questionModalView = new QuestionModalView({\n      id: 'questionModalForm',\n      collection: questions\n    });\n    questionModalView.render();\n    questions.fetch({\n      reset: true\n    });\n    return QuestionPageView.__super__.render.call(this);\n  };\n\n  return QuestionPageView;\n\n})(Backbone.View);\n\n\n},{\"data/base-collection\":5,\"data/base-model\":6,\"templates/question-modal\":14,\"templates/question-row\":15,\"views/modal-view\":8,\"views/pagination-view\":9,\"views/table-view\":10}],8:[function(require,module,exports){\nvar ModalView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nmodule.exports = ModalView = (function(superClass) {\n  extend(ModalView, superClass);\n\n  function ModalView() {\n    return ModalView.__super__.constructor.apply(this, arguments);\n  }\n\n  ModalView.prototype.render = function() {\n    $('#' + this.id).remove();\n    $('body').append(this.template({\n      id: this.id\n    }));\n    this.setElement($('#' + this.id));\n    return this;\n  };\n\n  ModalView.prototype.events = {\n    'show.bs.modal': 'show',\n    'hidden.bs.modal': 'hidden',\n    'click [type=submit]': 'save'\n  };\n\n  ModalView.prototype.show = function(e) {\n    var data;\n    data = $(e.relatedTarget).data();\n    this.model = data.id ? this.collection.get(data.id) : new this.collection.model;\n    this.stickit();\n    this.bindValidation();\n    if (!this.model.isNew()) {\n      return this.model.validate();\n    }\n  };\n\n  ModalView.prototype.hidden = function() {\n    this.unstickit();\n    this.stopListening();\n    return delete this.model;\n  };\n\n  ModalView.prototype.save = function(e) {\n    var xhr;\n    e.preventDefault();\n    xhr = this.model.save();\n    if (xhr) {\n      return xhr.then(((function(_this) {\n        return function() {\n          _this.collection.add(_this.model);\n          return _this.$el.modal('hide');\n        };\n      })(this)));\n    }\n  };\n\n  ModalView.prototype.onValidField = function(name, value, model) {\n    var field, group;\n    field = this.$(\"[name=\" + name + \"]\");\n    group = field.closest('.form-group');\n    group.removeClass('has-error');\n    return group.find('.help-block').remove();\n  };\n\n  ModalView.prototype.onInvalidField = function(name, value, errors, model) {\n    var error, field, group, i, len;\n    field = this.$(\"[name=\" + name + \"]\");\n    group = field.closest('.form-group');\n    group.find('.help-block').remove();\n    for (i = 0, len = errors.length; i < len; i++) {\n      error = errors[i];\n      field.after(\"<div class='help-block'>\" + error + \"</div>\");\n    }\n    return group.addClass('has-error');\n  };\n\n  return ModalView;\n\n})(Backbone.View);\n\n\n},{}],9:[function(require,module,exports){\nvar PaginationView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nmodule.exports = PaginationView = (function(superClass) {\n  extend(PaginationView, superClass);\n\n  function PaginationView() {\n    return PaginationView.__super__.constructor.apply(this, arguments);\n  }\n\n  PaginationView.prototype.tagName = 'nav';\n\n  PaginationView.prototype.className = 'page-nav';\n\n  PaginationView.prototype.template = require('templates/page-nav');\n\n  PaginationView.prototype.events = {\n    'click a[data-id]': 'loadPage'\n  };\n\n  PaginationView.prototype.initialize = function() {\n    return this.listenTo(this.collection, 'reset', this.render);\n  };\n\n  PaginationView.prototype.render = function() {\n    if (this.collection.meta) {\n      this.$el.html(this.template(this.collection.meta));\n    }\n    return this;\n  };\n\n  PaginationView.prototype.loadPage = function(e) {\n    var data;\n    e.preventDefault();\n    data = $(e.currentTarget).data();\n    return this.collection.fetch({\n      data: {\n        page: data.id\n      },\n      reset: true\n    });\n  };\n\n  return PaginationView;\n\n})(Backbone.View);\n\n\n},{\"templates/page-nav\":13}],10:[function(require,module,exports){\nvar TableView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nmodule.exports = TableView = (function(superClass) {\n  extend(TableView, superClass);\n\n  function TableView() {\n    return TableView.__super__.constructor.apply(this, arguments);\n  }\n\n  TableView.prototype.initialize = function() {\n    this.listenTo(this.collection, 'add', this.add);\n    return this.listenTo(this.collection, 'reset', this.render);\n  };\n\n  TableView.prototype.row = function(model) {\n    throw new Error('Not implemented');\n  };\n\n  TableView.prototype.add = function(model) {\n    var row;\n    row = this.row(model);\n    row.$el.addClass('success');\n    return this.$('table tbody').prepend(row.render().$el);\n  };\n\n  TableView.prototype.render = function(collection) {\n    var tbody;\n    tbody = this.$('table tbody');\n    tbody.empty();\n    collection.each((function(model) {\n      return tbody.append(this.row(model).render().$el);\n    }), this);\n    return this;\n  };\n\n  return TableView;\n\n})(Backbone.View);\n\n\n},{}],11:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (id) {\nbuf.push(\"<div\" + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + \" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"bookFormLabel\\\" aria-hidden=\\\"true\\\" class=\\\"modal fade\\\"><div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"close\\\"><span aria-hidden=\\\"true\\\">&times;</span><span class=\\\"sr-only\\\">关闭</span></button><h4 id=\\\"bookFormLabel\\\" class=\\\"modal-title\\\">输入题库信息</h4></div><div class=\\\"modal-body\\\"><form><div class=\\\"form-group\\\"><label for=\\\"title\\\" class=\\\"control-label\\\">题库名</label><input type=\\\"text\\\" id=\\\"title\\\" placeholder=\\\"题库名\\\" name=\\\"title\\\" class=\\\"form-control\\\"/></div></form></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">取消</button><button id=\\\"save\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\">保存</button></div></div></div></div>\");}.call(this,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":18}],12:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (button, id, title, user) {\nbuf.push(\"<td>\" + (jade.escape(null == (jade_interp = title) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = user.username) ? \"\" : jade_interp)) + \"</td><td><a\" + (jade.attr(\"href\", '/quizbooks/' + (id) + '/questions', true, false)) + \" class=\\\"btn btn-default btn-xs\\\">查看</a><a\" + (jade.attr(\"type\", button, true, false)) + (jade.attr(\"data-id\", id, true, false)) + \" data-toggle=\\\"modal\\\" data-target=\\\"#bookModalForm\\\" class=\\\"btn btn-primary btn-xs\\\">编辑</a></td>\");}.call(this,\"button\" in locals_for_with?locals_for_with.button:typeof button!==\"undefined\"?button:undefined,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined,\"title\" in locals_for_with?locals_for_with.title:typeof title!==\"undefined\"?title:undefined,\"user\" in locals_for_with?locals_for_with.user:typeof user!==\"undefined\"?user:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":18}],13:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (Math, end, page, pages, start) {\nstart = Math.max(1, page - 5)\nend = Math.min(pages, page + 5)\nbuf.push(\"<ul class=\\\"pagination\\\"><li\" + (jade.cls([(page == 1) ? 'disabled' : ''], [true])) + \"><a href=\\\"#\\\" aria-label=\\\"Start\\\" data-id='1'><span aria-hidden=\\\"aria-hidden\\\">&laquo;</span></a></li>\");\nvar i = start\nwhile (i < page)\n{\nbuf.push(\"<li><a href=\\\"#\\\"\" + (jade.attr(\"data-id\", i, true, false)) + \">\" + (jade.escape(null == (jade_interp = i++) ? \"\" : jade_interp)) + \"</a></li>\");\n}\nbuf.push(\"<li\" + (jade.attr(\"data-id\", page, true, false)) + \" class=\\\"active\\\"><a href=\\\"#\\\">\" + (jade.escape(null == (jade_interp = page) ? \"\" : jade_interp)) + \"</a></li>\");\nvar i = page + 1\nwhile (i <= end)\n{\nbuf.push(\"<li><a href=\\\"#\\\"\" + (jade.attr(\"data-id\", i, true, false)) + \">\" + (jade.escape(null == (jade_interp = i++) ? \"\" : jade_interp)) + \"</a></li>\");\n}\nbuf.push(\"<li\" + (jade.cls([(page == pages) ? 'disabled' : ''], [true])) + \"><a href=\\\"#\\\" aria-label=\\\"End\\\"\" + (jade.attr(\"data-id\", pages, true, false)) + \"><span aria-hidden=\\\"aria-hidden\\\">&raquo;</span></a></li></ul>\");}.call(this,\"Math\" in locals_for_with?locals_for_with.Math:typeof Math!==\"undefined\"?Math:undefined,\"end\" in locals_for_with?locals_for_with.end:typeof end!==\"undefined\"?end:undefined,\"page\" in locals_for_with?locals_for_with.page:typeof page!==\"undefined\"?page:undefined,\"pages\" in locals_for_with?locals_for_with.pages:typeof pages!==\"undefined\"?pages:undefined,\"start\" in locals_for_with?locals_for_with.start:typeof start!==\"undefined\"?start:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":18}],14:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (id, undefined) {\njade_mixins[\"textarea\"] = jade_interp = function(id,label,name){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\nbuf.push(\"<div class=\\\"form-group\\\"><label\" + (jade.attr(\"for\", \"\" + (id) + \"\", true, false)) + \" class=\\\"col-sm-2 control-label\\\">\" + (jade.escape((jade_interp = label) == null ? '' : jade_interp)) + \"</label><div class=\\\"col-sm-10\\\"><textarea\" + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + (jade.attr(\"name\", \"\" + (name) + \"\", true, false)) + \" row=\\\"4\\\" class=\\\"form-control\\\"></textarea></div></div>\");\n};\nbuf.push(\"<div\" + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + \" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"questionFormLabel\\\" aria-hidden=\\\"true\\\" class=\\\"modal fade\\\"><div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"close\\\"><span aria-hidden=\\\"true\\\">&times;</span><span class=\\\"sr-only\\\">关闭</span></button><h4 id=\\\"questionFormLabel\\\" class=\\\"modal-title\\\">输入问题详细信息</h4></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal\\\">\");\njade_mixins[\"textarea\"]('content', '问题内容', 'content');\nbuf.push(\"<div class=\\\"form-group\\\"><label for=\\\"type\\\" class=\\\"col-sm-2 control-label\\\">问题内容</label><div class=\\\"col-sm-10\\\"><select id=\\\"type\\\" row=\\\"4\\\" name=\\\"type\\\" class=\\\"form-control textarea\\\"></select></div></div>\");\nvar options = ['A', 'B', 'C', 'D', 'E', 'F']\n// iterate options\n;(function(){\n  var $$obj = options;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var option = $$obj[$index];\n\njade_mixins[\"textarea\"]('option_' + option, \"选项\" + option, 'option_' + option);\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var option = $$obj[$index];\n\njade_mixins[\"textarea\"]('option_' + option, \"选项\" + option, 'option_' + option);\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"<div class=\\\"form-group\\\"><label class=\\\"col-sm-2 control-label\\\">正确答案</label><div class=\\\"col-sm-10\\\">\");\n// iterate options\n;(function(){\n  var $$obj = options;\n  if ('number' == typeof $$obj.length) {\n\n    for (var i = 0, $$l = $$obj.length; i < $$l; i++) {\n      var option = $$obj[i];\n\nbuf.push(\"<div class=\\\"checkbox col-xs-6 col-sm-4\\\"><label><input type=\\\"checkbox\\\" name=\\\"correct_option\\\"\" + (jade.attr(\"value\", i+1, true, false)) + \"/>选项\" + (jade.escape((jade_interp = option) == null ? '' : jade_interp)) + \"</label></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var i in $$obj) {\n      $$l++;      var option = $$obj[i];\n\nbuf.push(\"<div class=\\\"checkbox col-xs-6 col-sm-4\\\"><label><input type=\\\"checkbox\\\" name=\\\"correct_option\\\"\" + (jade.attr(\"value\", i+1, true, false)) + \"/>选项\" + (jade.escape((jade_interp = option) == null ? '' : jade_interp)) + \"</label></div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div></div></form></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">取消</button><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">保存</button></div></div></div></div>\");}.call(this,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined,\"undefined\" in locals_for_with?locals_for_with.undefined:typeof undefined!==\"undefined\"?undefined:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":18}],15:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (button, content, correct_option, id, option_A, option_B, option_C, option_D, option_E, option_F, type) {\nbuf.push(\"<td class=\\\"content\\\">\" + (jade.escape(null == (jade_interp = content) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = type) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = correct_option) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_A) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_B) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_C) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_D) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_E) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_F) ? \"\" : jade_interp)) + \"</td><td><a\" + (jade.attr(\"type\", button, true, false)) + (jade.attr(\"data-id\", id, true, false)) + \" data-toggle=\\\"modal\\\" data-target=\\\"#questionModalForm\\\" class=\\\"btn btn-primary btn-xs\\\">编辑</a><a id=\\\"delete\\\"\" + (jade.attr(\"type\", button, true, false)) + \" class=\\\"btn btn-danger btn-xs\\\">删除</a></td>\");}.call(this,\"button\" in locals_for_with?locals_for_with.button:typeof button!==\"undefined\"?button:undefined,\"content\" in locals_for_with?locals_for_with.content:typeof content!==\"undefined\"?content:undefined,\"correct_option\" in locals_for_with?locals_for_with.correct_option:typeof correct_option!==\"undefined\"?correct_option:undefined,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined,\"option_A\" in locals_for_with?locals_for_with.option_A:typeof option_A!==\"undefined\"?option_A:undefined,\"option_B\" in locals_for_with?locals_for_with.option_B:typeof option_B!==\"undefined\"?option_B:undefined,\"option_C\" in locals_for_with?locals_for_with.option_C:typeof option_C!==\"undefined\"?option_C:undefined,\"option_D\" in locals_for_with?locals_for_with.option_D:typeof option_D!==\"undefined\"?option_D:undefined,\"option_E\" in locals_for_with?locals_for_with.option_E:typeof option_E!==\"undefined\"?option_E:undefined,\"option_F\" in locals_for_with?locals_for_with.option_F:typeof option_F!==\"undefined\"?option_F:undefined,\"type\" in locals_for_with?locals_for_with.type:typeof type!==\"undefined\"?type:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":18}],16:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (id) {\njade_mixins[\"input\"] = jade_interp = function(type,id,placeholder,label,name){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\nbuf.push(\"<div class=\\\"form-group\\\"><label\" + (jade.attr(\"for\", \"\" + (id) + \"\", true, false)) + \" class=\\\"col-xs-2 control-label\\\">\" + (jade.escape((jade_interp = label) == null ? '' : jade_interp)) + \"</label><div class=\\\"col-xs-10\\\"><input\" + (jade.attr(\"type\", \"\" + (type) + \"\", true, false)) + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + (jade.attr(\"placeholder\", \"\" + (placeholder) + \"\", true, false)) + (jade.attr(\"name\", \"\" + (name) + \"\", true, false)) + \" class=\\\"form-control\\\"/></div></div>\");\n};\nbuf.push(\"<div\" + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + \" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"userFormLabel\\\" aria-hidden=\\\"true\\\" class=\\\"modal fade\\\"><div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"close\\\"><span aria-hidden=\\\"true\\\">&times;</span><span class=\\\"sr-only\\\">关闭</span></button><h4 id=\\\"userFormLabel\\\" class=\\\"modal-title\\\">输入用户信息</h4></div><div class=\\\"modal-body\\\"><row><form class=\\\"form-horizontal\\\">\");\njade_mixins[\"input\"]('text', 'username', '用户名', '用户名', 'username');\njade_mixins[\"input\"]('password', 'password', '密码', '密码', 'password');\nbuf.push(\"</form></row></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">取消</button><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">保存</button></div></div></div></div>\");}.call(this,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":18}],17:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (active, admin, id, username) {\nbuf.push(\"<td>\" + (jade.escape(null == (jade_interp = id) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = username) ? \"\" : jade_interp)) + \"</td><td><a type=\\\"button\\\"\" + (jade.attr(\"data-id\", id, true, false)) + \" data-toggle=\\\"modal\\\" data-target=\\\"#userModalForm\\\" class=\\\"btn btn-default btn-xs\\\">修改密码</a>\");\nif ( !admin)\n{\nif ( active)\n{\nbuf.push(\"<a id=\\\"deactivate\\\" type=\\\"button\\\" class=\\\"btn btn-danger btn-xs\\\">冻结帐号</a>\");\n}\nelse\n{\nbuf.push(\"<a id=\\\"activate\\\" type=\\\"button\\\" class=\\\"btn btn-success btn-xs\\\">激活帐号</a>\");\n}\n}\nbuf.push(\"</td>\");}.call(this,\"active\" in locals_for_with?locals_for_with.active:typeof active!==\"undefined\"?active:undefined,\"admin\" in locals_for_with?locals_for_with.admin:typeof admin!==\"undefined\"?admin:undefined,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined,\"username\" in locals_for_with?locals_for_with.username:typeof username!==\"undefined\"?username:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":18}],18:[function(require,module,exports){\n(function (global){\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.jade = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/**\n * Merge two attribute objects giving precedence\n * to values in object `b`. Classes are special-cased\n * allowing for arrays and merging/joining appropriately\n * resulting in a string.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api private\n */\n\nexports.merge = function merge(a, b) {\n  if (arguments.length === 1) {\n    var attrs = a[0];\n    for (var i = 1; i < a.length; i++) {\n      attrs = merge(attrs, a[i]);\n    }\n    return attrs;\n  }\n  var ac = a['class'];\n  var bc = b['class'];\n\n  if (ac || bc) {\n    ac = ac || [];\n    bc = bc || [];\n    if (!Array.isArray(ac)) ac = [ac];\n    if (!Array.isArray(bc)) bc = [bc];\n    a['class'] = ac.concat(bc).filter(nulls);\n  }\n\n  for (var key in b) {\n    if (key != 'class') {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n};\n\n/**\n * Filter null `val`s.\n *\n * @param {*} val\n * @return {Boolean}\n * @api private\n */\n\nfunction nulls(val) {\n  return val != null && val !== '';\n}\n\n/**\n * join array as classes.\n *\n * @param {*} val\n * @return {String}\n */\nexports.joinClasses = joinClasses;\nfunction joinClasses(val) {\n  return (Array.isArray(val) ? val.map(joinClasses) :\n    (val && typeof val === 'object') ? Object.keys(val).filter(function (key) { return val[key]; }) :\n    [val]).filter(nulls).join(' ');\n}\n\n/**\n * Render the given classes.\n *\n * @param {Array} classes\n * @param {Array.<Boolean>} escaped\n * @return {String}\n */\nexports.cls = function cls(classes, escaped) {\n  var buf = [];\n  for (var i = 0; i < classes.length; i++) {\n    if (escaped && escaped[i]) {\n      buf.push(exports.escape(joinClasses([classes[i]])));\n    } else {\n      buf.push(joinClasses(classes[i]));\n    }\n  }\n  var text = joinClasses(buf);\n  if (text.length) {\n    return ' class=\"' + text + '\"';\n  } else {\n    return '';\n  }\n};\n\n\nexports.style = function (val) {\n  if (val && typeof val === 'object') {\n    return Object.keys(val).map(function (style) {\n      return style + ':' + val[style];\n    }).join(';');\n  } else {\n    return val;\n  }\n};\n/**\n * Render the given attribute.\n *\n * @param {String} key\n * @param {String} val\n * @param {Boolean} escaped\n * @param {Boolean} terse\n * @return {String}\n */\nexports.attr = function attr(key, val, escaped, terse) {\n  if (key === 'style') {\n    val = exports.style(val);\n  }\n  if ('boolean' == typeof val || null == val) {\n    if (val) {\n      return ' ' + (terse ? key : key + '=\"' + key + '\"');\n    } else {\n      return '';\n    }\n  } else if (0 == key.indexOf('data') && 'string' != typeof val) {\n    if (JSON.stringify(val).indexOf('&') !== -1) {\n      console.warn('Since Jade 2.0.0, ampersands (`&`) in data attributes ' +\n                   'will be escaped to `&amp;`');\n    };\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will eliminate the double quotes around dates in ' +\n                   'ISO form after 2.0.0');\n    }\n    return ' ' + key + \"='\" + JSON.stringify(val).replace(/'/g, '&apos;') + \"'\";\n  } else if (escaped) {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + exports.escape(val) + '\"';\n  } else {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + val + '\"';\n  }\n};\n\n/**\n * Render the given attributes object.\n *\n * @param {Object} obj\n * @param {Object} escaped\n * @return {String}\n */\nexports.attrs = function attrs(obj, terse){\n  var buf = [];\n\n  var keys = Object.keys(obj);\n\n  if (keys.length) {\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i]\n        , val = obj[key];\n\n      if ('class' == key) {\n        if (val = joinClasses(val)) {\n          buf.push(' ' + key + '=\"' + val + '\"');\n        }\n      } else {\n        buf.push(exports.attr(key, val, false, terse));\n      }\n    }\n  }\n\n  return buf.join('');\n};\n\n/**\n * Escape the given string of `html`.\n *\n * @param {String} html\n * @return {String}\n * @api private\n */\n\nvar jade_encode_html_rules = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\nvar jade_match_html = /[&<>\"]/g;\n\nfunction jade_encode_char(c) {\n  return jade_encode_html_rules[c] || c;\n}\n\nexports.escape = jade_escape;\nfunction jade_escape(html){\n  var result = String(html).replace(jade_match_html, jade_encode_char);\n  if (result === '' + html) return html;\n  else return result;\n};\n\n/**\n * Re-throw the given `err` in context to the\n * the jade in `filename` at the given `lineno`.\n *\n * @param {Error} err\n * @param {String} filename\n * @param {String} lineno\n * @api private\n */\n\nexports.rethrow = function rethrow(err, filename, lineno, str){\n  if (!(err instanceof Error)) throw err;\n  if ((typeof window != 'undefined' || !filename) && !str) {\n    err.message += ' on line ' + lineno;\n    throw err;\n  }\n  try {\n    str = str || require('fs').readFileSync(filename, 'utf8')\n  } catch (ex) {\n    rethrow(err, null, lineno)\n  }\n  var context = 3\n    , lines = str.split('\\n')\n    , start = Math.max(lineno - context, 0)\n    , end = Math.min(lines.length, lineno + context);\n\n  // Error context\n  var context = lines.slice(start, end).map(function(line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? '  > ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'Jade') + ':' + lineno\n    + '\\n' + context + '\\n\\n' + err.message;\n  throw err;\n};\n\nexports.DebugItem = function DebugItem(lineno, filename) {\n  this.lineno = lineno;\n  this.filename = filename;\n}\n\n},{\"fs\":2}],2:[function(require,module,exports){\n\n},{}]},{},[1])(1)\n});\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"fs\":2}]},{},[1])\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2VsbWVyeS9QeWNoYXJtUHJvamVjdHMvSW50UXVpei93ZWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9ob21lL2VsbWVyeS9QeWNoYXJtUHJvamVjdHMvSW50UXVpei93ZWIvYXBwL3NjcmlwdHMvYXBwLmNvZmZlZSIsIi9ob21lL2VsbWVyeS9QeWNoYXJtUHJvamVjdHMvSW50UXVpei93ZWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbGliL19lbXB0eS5qcyIsImFwcC9zY3JpcHRzL2FjY291bnQtcGFnZS5jb2ZmZWUiLCJhcHAvc2NyaXB0cy9ib29rLXBhZ2UuY29mZmVlIiwiYXBwL3NjcmlwdHMvZGF0YS9iYXNlLWNvbGxlY3Rpb24uY29mZmVlIiwiYXBwL3NjcmlwdHMvZGF0YS9iYXNlLW1vZGVsLmNvZmZlZSIsImFwcC9zY3JpcHRzL3F1ZXN0aW9uLXBhZ2UuY29mZmVlIiwiYXBwL3NjcmlwdHMvdmlld3MvbW9kYWwtdmlldy5jb2ZmZWUiLCJhcHAvc2NyaXB0cy92aWV3cy9wYWdpbmF0aW9uLXZpZXcuY29mZmVlIiwiYXBwL3NjcmlwdHMvdmlld3MvdGFibGUtdmlldy5jb2ZmZWUiLCJhcHAvdGVtcGxhdGVzL2Jvb2stbW9kYWwuamFkZSIsImFwcC90ZW1wbGF0ZXMvYm9vay1yb3cuamFkZSIsImFwcC90ZW1wbGF0ZXMvcGFnZS1uYXYuamFkZSIsImFwcC90ZW1wbGF0ZXMvcXVlc3Rpb24tbW9kYWwuamFkZSIsImFwcC90ZW1wbGF0ZXMvcXVlc3Rpb24tcm93LmphZGUiLCJhcHAvdGVtcGxhdGVzL3VzZXItbW9kYWwuamFkZSIsImFwcC90ZW1wbGF0ZXMvdXNlci1yb3cuamFkZSIsIm5vZGVfbW9kdWxlcy9qYWRlL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciBJbnRBcHA7XG5cbndpbmRvdy5JbnRBcHAgPSBJbnRBcHAgPSB7XG4gIEFjY291bnRQYWdlVmlldzogcmVxdWlyZSgnYWNjb3VudC1wYWdlJyksXG4gIEJvb2tQYWdlVmlldzogcmVxdWlyZSgnYm9vay1wYWdlJyksXG4gIFF1ZXN0aW9uUGFnZVZpZXc6IHJlcXVpcmUoJ3F1ZXN0aW9uLXBhZ2UnKVxufTtcblxuIixudWxsLCJ2YXIgQWNjb3VudFBhZ2VWaWV3LCBCYXNlQ29sbGVjdGlvbiwgQmFzZU1vZGVsLCBNb2RhbFZpZXcsIFBhZ2luYXRpb25WaWV3LCBUYWJsZVZpZXcsIFVzZXIsIFVzZXJNb2RhbFZpZXcsIFVzZXJWaWV3LCBVc2VycywgVXNlcnNWaWV3LFxuICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuQmFzZU1vZGVsID0gcmVxdWlyZSgnZGF0YS9iYXNlLW1vZGVsJyk7XG5cbkJhc2VDb2xsZWN0aW9uID0gcmVxdWlyZSgnZGF0YS9iYXNlLWNvbGxlY3Rpb24nKTtcblxuVGFibGVWaWV3ID0gcmVxdWlyZSgndmlld3MvdGFibGUtdmlldycpO1xuXG5QYWdpbmF0aW9uVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3BhZ2luYXRpb24tdmlldycpO1xuXG5Nb2RhbFZpZXcgPSByZXF1aXJlKCd2aWV3cy9tb2RhbC12aWV3Jyk7XG5cblVzZXIgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoVXNlciwgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gVXNlcigpIHtcbiAgICByZXR1cm4gVXNlci5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFVzZXIucHJvdG90eXBlLnVybFJvb3QgPSAnL2FwaS92MS91c2VyJztcblxuICBVc2VyLnByb3RvdHlwZS5kZWZhdWx0cyA9IHtcbiAgICB1c2VybmFtZTogJycsXG4gICAgcGFzc3dvcmQ6ICcnXG4gIH07XG5cbiAgVXNlci5wcm90b3R5cGUudmFsaWRhdGlvbiA9IHtcbiAgICB1c2VybmFtZToge1xuICAgICAgYmxhbms6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogJ+eUqOaIt+WQjeS4jeiDveS4uuepuidcbiAgICB9LFxuICAgIHBhc3N3b3JkOiB7XG4gICAgICBibGFuazogZmFsc2UsXG4gICAgICBtaW5MZW5ndGg6IDYsXG4gICAgICBtZXNzYWdlOiAn5a+G56CB5LiN6IO95bCR5LqONuS9jSdcbiAgICB9XG4gIH07XG5cbiAgVXNlci5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXR0cnM7XG4gICAgYXR0cnMgPSB7XG4gICAgICBhY3RpdmU6IHRydWVcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLnNhdmUoYXR0cnMsIHtcbiAgICAgIGF0dHJzOiBhdHRyc1xuICAgIH0pO1xuICB9O1xuXG4gIFVzZXIucHJvdG90eXBlLmRlYWN0aXZhdGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXR0cnM7XG4gICAgYXR0cnMgPSB7XG4gICAgICBhY3RpdmU6IGZhbHNlXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5zYXZlKGF0dHJzLCB7XG4gICAgICBhdHRyczogYXR0cnNcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gVXNlcjtcblxufSkoQmFzZU1vZGVsKTtcblxuVXNlcnMgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoVXNlcnMsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIFVzZXJzKCkge1xuICAgIHJldHVybiBVc2Vycy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFVzZXJzLnByb3RvdHlwZS51cmwgPSAnL2FwaS92MS91c2VyJztcblxuICBVc2Vycy5wcm90b3R5cGUubW9kZWwgPSBVc2VyO1xuXG4gIHJldHVybiBVc2VycztcblxufSkoQmFzZUNvbGxlY3Rpb24pO1xuXG5Vc2VyVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChVc2VyVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gVXNlclZpZXcoKSB7XG4gICAgcmV0dXJuIFVzZXJWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgVXNlclZpZXcucHJvdG90eXBlLnRhZ05hbWUgPSAndHInO1xuXG4gIFVzZXJWaWV3LnByb3RvdHlwZS50ZW1wbGF0ZSA9IHJlcXVpcmUoJ3RlbXBsYXRlcy91c2VyLXJvdycpO1xuXG4gIFVzZXJWaWV3LnByb3RvdHlwZS5ldmVudHMgPSB7XG4gICAgJ2NsaWNrICNkZWFjdGl2YXRlJzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5tb2RlbC5kZWFjdGl2YXRlKCk7XG4gICAgfSxcbiAgICAnY2xpY2sgI2FjdGl2YXRlJzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5tb2RlbC5hY3RpdmF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICBVc2VyVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCwgXCJzeW5jXCIsIHRoaXMucmVuZGVyKTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCBcImRlc3Ryb3lcIiwgdGhpcy5yZW1vdmUpO1xuICB9O1xuXG4gIFVzZXJWaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5tb2RlbC50b0pTT04oKSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBVc2VyVmlldztcblxufSkoQmFja2JvbmUuVmlldyk7XG5cblVzZXJNb2RhbFZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoVXNlck1vZGFsVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gVXNlck1vZGFsVmlldygpIHtcbiAgICByZXR1cm4gVXNlck1vZGFsVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFVzZXJNb2RhbFZpZXcucHJvdG90eXBlLnRlbXBsYXRlID0gcmVxdWlyZSgndGVtcGxhdGVzL3VzZXItbW9kYWwnKTtcblxuICBVc2VyTW9kYWxWaWV3LnByb3RvdHlwZS5iaW5kaW5ncyA9IHtcbiAgICAnI3VzZXJuYW1lJzogJ3VzZXJuYW1lJyxcbiAgICAnI3Bhc3N3b3JkJzogJ3Bhc3N3b3JkJ1xuICB9O1xuXG4gIHJldHVybiBVc2VyTW9kYWxWaWV3O1xuXG59KShNb2RhbFZpZXcpO1xuXG5Vc2Vyc1ZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoVXNlcnNWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBVc2Vyc1ZpZXcoKSB7XG4gICAgcmV0dXJuIFVzZXJzVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFVzZXJzVmlldy5wcm90b3R5cGUucm93ID0gZnVuY3Rpb24obW9kZWwpIHtcbiAgICByZXR1cm4gbmV3IFVzZXJWaWV3KHtcbiAgICAgIG1vZGVsOiBtb2RlbFxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBVc2Vyc1ZpZXc7XG5cbn0pKFRhYmxlVmlldyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQWNjb3VudFBhZ2VWaWV3ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKEFjY291bnRQYWdlVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gQWNjb3VudFBhZ2VWaWV3KCkge1xuICAgIHJldHVybiBBY2NvdW50UGFnZVZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBBY2NvdW50UGFnZVZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYWdlTmF2VmlldywgdXNlck1vZGFsVmlldywgdXNlcnMsIHVzZXJzVmlldztcbiAgICB1c2VycyA9IG5ldyBVc2VycztcbiAgICB1c2Vyc1ZpZXcgPSBuZXcgVXNlcnNWaWV3KHtcbiAgICAgIGVsOiAkKCcudGFibGUtY29udGFpbmVyJyksXG4gICAgICBjb2xsZWN0aW9uOiB1c2Vyc1xuICAgIH0pO1xuICAgIHBhZ2VOYXZWaWV3ID0gbmV3IFBhZ2luYXRpb25WaWV3KHtcbiAgICAgIGNvbGxlY3Rpb246IHVzZXJzXG4gICAgfSk7XG4gICAgdXNlcnNWaWV3LiRlbC5hZnRlcihwYWdlTmF2Vmlldy5yZW5kZXIoKS4kZWwpO1xuICAgIHVzZXJNb2RhbFZpZXcgPSBuZXcgVXNlck1vZGFsVmlldyh7XG4gICAgICBpZDogJ3VzZXJNb2RhbEZvcm0nLFxuICAgICAgY29sbGVjdGlvbjogdXNlcnNcbiAgICB9KTtcbiAgICB1c2VyTW9kYWxWaWV3LnJlbmRlcigpO1xuICAgIHVzZXJzLmZldGNoKHtcbiAgICAgIHJlc2V0OiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgcmV0dXJuIEFjY291bnRQYWdlVmlldztcblxufSkoQmFja2JvbmUuVmlldyk7XG5cbiIsInZhciBCYXNlQ29sbGVjdGlvbiwgQmFzZU1vZGVsLCBCb29rUGFnZVZpZXcsIE1vZGFsVmlldywgUGFnaW5hdGlvblZpZXcsIFF1aXpCb29rLCBRdWl6Qm9va01vZGFsVmlldywgUXVpekJvb2tWaWV3LCBRdWl6Qm9va3MsIFF1aXpCb29rc1ZpZXcsIFRhYmxlVmlldyxcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbkJhc2VNb2RlbCA9IHJlcXVpcmUoJ2RhdGEvYmFzZS1tb2RlbCcpO1xuXG5CYXNlQ29sbGVjdGlvbiA9IHJlcXVpcmUoJ2RhdGEvYmFzZS1jb2xsZWN0aW9uJyk7XG5cblRhYmxlVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3RhYmxlLXZpZXcnKTtcblxuUGFnaW5hdGlvblZpZXcgPSByZXF1aXJlKCd2aWV3cy9wYWdpbmF0aW9uLXZpZXcnKTtcblxuTW9kYWxWaWV3ID0gcmVxdWlyZSgndmlld3MvbW9kYWwtdmlldycpO1xuXG5RdWl6Qm9vayA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWl6Qm9vaywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVpekJvb2soKSB7XG4gICAgcmV0dXJuIFF1aXpCb29rLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVpekJvb2sucHJvdG90eXBlLnVybFJvb3QgPSAnL2FwaS92MS9xdWl6Ym9vayc7XG5cbiAgUXVpekJvb2sucHJvdG90eXBlLnZhbGlkYXRpb24gPSB7XG4gICAgdGl0bGU6IHtcbiAgICAgIGJsYW5rOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6ICfpopjlupPlkI3kuI3og73kuLrnqbonXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBRdWl6Qm9vaztcblxufSkoQmFzZU1vZGVsKTtcblxuUXVpekJvb2tzID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKFF1aXpCb29rcywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVpekJvb2tzKCkge1xuICAgIHJldHVybiBRdWl6Qm9va3MuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBRdWl6Qm9va3MucHJvdG90eXBlLnVybCA9ICcvYXBpL3YxL3F1aXpib29rJztcblxuICBRdWl6Qm9va3MucHJvdG90eXBlLm1vZGVsID0gUXVpekJvb2s7XG5cbiAgcmV0dXJuIFF1aXpCb29rcztcblxufSkoQmFzZUNvbGxlY3Rpb24pO1xuXG5RdWl6Qm9va1ZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoUXVpekJvb2tWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBRdWl6Qm9va1ZpZXcoKSB7XG4gICAgcmV0dXJuIFF1aXpCb29rVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFF1aXpCb29rVmlldy5wcm90b3R5cGUudGFnTmFtZSA9ICd0cic7XG5cbiAgUXVpekJvb2tWaWV3LnByb3RvdHlwZS50ZW1wbGF0ZSA9IHJlcXVpcmUoJ3RlbXBsYXRlcy9ib29rLXJvdycpO1xuXG4gIFF1aXpCb29rVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsIFwic3luY1wiLCB0aGlzLnJlbmRlcik7XG4gIH07XG5cbiAgUXVpekJvb2tWaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5tb2RlbC50b0pTT04oKSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBRdWl6Qm9va1ZpZXc7XG5cbn0pKEJhY2tib25lLlZpZXcpO1xuXG5RdWl6Qm9va01vZGFsVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWl6Qm9va01vZGFsVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVpekJvb2tNb2RhbFZpZXcoKSB7XG4gICAgcmV0dXJuIFF1aXpCb29rTW9kYWxWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVpekJvb2tNb2RhbFZpZXcucHJvdG90eXBlLnRlbXBsYXRlID0gcmVxdWlyZSgndGVtcGxhdGVzL2Jvb2stbW9kYWwnKTtcblxuICBRdWl6Qm9va01vZGFsVmlldy5wcm90b3R5cGUuYmluZGluZ3MgPSB7XG4gICAgJyN0aXRsZSc6ICd0aXRsZSdcbiAgfTtcblxuICByZXR1cm4gUXVpekJvb2tNb2RhbFZpZXc7XG5cbn0pKE1vZGFsVmlldyk7XG5cblF1aXpCb29rc1ZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoUXVpekJvb2tzVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVpekJvb2tzVmlldygpIHtcbiAgICByZXR1cm4gUXVpekJvb2tzVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFF1aXpCb29rc1ZpZXcucHJvdG90eXBlLnJvdyA9IGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgcmV0dXJuIG5ldyBRdWl6Qm9va1ZpZXcoe1xuICAgICAgbW9kZWw6IG1vZGVsXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFF1aXpCb29rc1ZpZXc7XG5cbn0pKFRhYmxlVmlldyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQm9va1BhZ2VWaWV3ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKEJvb2tQYWdlVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gQm9va1BhZ2VWaWV3KCkge1xuICAgIHJldHVybiBCb29rUGFnZVZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBCb29rUGFnZVZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYWdlTmF2VmlldywgcXVpekJvb2tNb2RhbFZpZXcsIHF1aXpCb29rcywgcXVpekJvb2tzVmlldztcbiAgICBxdWl6Qm9va3MgPSBuZXcgUXVpekJvb2tzO1xuICAgIHF1aXpCb29rc1ZpZXcgPSBuZXcgUXVpekJvb2tzVmlldyh7XG4gICAgICBlbDogJCgnI3F1aXpib29rLXRhYmxlLWNvbnRhaW5lcicpLFxuICAgICAgY29sbGVjdGlvbjogcXVpekJvb2tzXG4gICAgfSk7XG4gICAgcGFnZU5hdlZpZXcgPSBuZXcgUGFnaW5hdGlvblZpZXcoe1xuICAgICAgY29sbGVjdGlvbjogcXVpekJvb2tzXG4gICAgfSk7XG4gICAgcXVpekJvb2tzVmlldy4kZWwuYWZ0ZXIocGFnZU5hdlZpZXcucmVuZGVyKCkuJGVsKTtcbiAgICBxdWl6Qm9va01vZGFsVmlldyA9IG5ldyBRdWl6Qm9va01vZGFsVmlldyh7XG4gICAgICBpZDogJ2Jvb2tNb2RhbEZvcm0nLFxuICAgICAgY29sbGVjdGlvbjogcXVpekJvb2tzXG4gICAgfSk7XG4gICAgcXVpekJvb2tNb2RhbFZpZXcucmVuZGVyKCk7XG4gICAgcXVpekJvb2tzLmZldGNoKHtcbiAgICAgIHJlc2V0OiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgcmV0dXJuIEJvb2tQYWdlVmlldztcblxufSkoQmFja2JvbmUuVmlldyk7XG5cbiIsInZhciBCYXNlQ29sbGVjdGlvbixcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbkJhc2VDb2xsZWN0aW9uID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKEJhc2VDb2xsZWN0aW9uLCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBCYXNlQ29sbGVjdGlvbigpIHtcbiAgICByZXR1cm4gQmFzZUNvbGxlY3Rpb24uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBCYXNlQ29sbGVjdGlvbi5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgaWYgKGRhdGEgJiYgZGF0YS5tZXRhKSB7XG4gICAgICB0aGlzLm1ldGEgPSBkYXRhLm1ldGE7XG4gICAgfVxuICAgIHJldHVybiBkYXRhICYmIGRhdGEub2JqZWN0cyB8fCBkYXRhO1xuICB9O1xuXG4gIHJldHVybiBCYXNlQ29sbGVjdGlvbjtcblxufSkoQmFja2JvbmUuQ29sbGVjdGlvbik7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFzZUNvbGxlY3Rpb247XG5cbiIsInZhciBCYXNlTW9kZWwsXG4gIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5CYXNlTW9kZWwgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoQmFzZU1vZGVsLCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBCYXNlTW9kZWwoKSB7XG4gICAgcmV0dXJuIEJhc2VNb2RlbC5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIEJhc2VNb2RlbC5wcm90b3R5cGUudXJsID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9yaWdVcmw7XG4gICAgb3JpZ1VybCA9IEJhc2VNb2RlbC5fX3N1cGVyX18udXJsLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIG9yaWdVcmwgKyAob3JpZ1VybC5sZW5ndGggPiAwICYmIG9yaWdVcmwuY2hhckF0KG9yaWdVcmwubGVuZ3RoIC0gMSkgPT09ICcvJyA/ICcnIDogJy8nKTtcbiAgfTtcblxuICBCYXNlTW9kZWwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIGlmIChkYXRhICYmIGRhdGEub2JqZWN0cyAmJiBfLmlzQXJyYXkoZGF0YS5vYmplY3RzKSkge1xuICAgICAgcmV0dXJuIGRhdGEub2JqZWN0c1swXSB8fCB7fTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgcmV0dXJuIEJhc2VNb2RlbDtcblxufSkoQmFja2JvbmUuTW9kZWwpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VNb2RlbDtcblxuIiwidmFyIEJhc2VDb2xsZWN0aW9uLCBCYXNlTW9kZWwsIE1vZGFsVmlldywgUGFnaW5hdGlvblZpZXcsIFF1ZXN0aW9uLCBRdWVzdGlvbkxpc3RQYW5lbFZpZXcsIFF1ZXN0aW9uTW9kYWxWaWV3LCBRdWVzdGlvblBhZ2VWaWV3LCBRdWVzdGlvblZpZXcsIFF1ZXN0aW9ucywgUXVlc3Rpb25zVmlldywgVGFibGVWaWV3LCBjaGFyMkludCwgaW50MkNoYXIsXG4gIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5CYXNlTW9kZWwgPSByZXF1aXJlKCdkYXRhL2Jhc2UtbW9kZWwnKTtcblxuQmFzZUNvbGxlY3Rpb24gPSByZXF1aXJlKCdkYXRhL2Jhc2UtY29sbGVjdGlvbicpO1xuXG5UYWJsZVZpZXcgPSByZXF1aXJlKCd2aWV3cy90YWJsZS12aWV3Jyk7XG5cblBhZ2luYXRpb25WaWV3ID0gcmVxdWlyZSgndmlld3MvcGFnaW5hdGlvbi12aWV3Jyk7XG5cbk1vZGFsVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL21vZGFsLXZpZXcnKTtcblxuaW50MkNoYXIgPSBmdW5jdGlvbihpKSB7XG4gIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDY0ICsgcGFyc2VJbnQoaSkpO1xufTtcblxuY2hhcjJJbnQgPSBmdW5jdGlvbihjKSB7XG4gIGlmICghIWMpIHtcbiAgICByZXR1cm4gYy5jaGFyQ29kZUF0KDApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjO1xuICB9XG59O1xuXG5RdWVzdGlvbiA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWVzdGlvbiwgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVlc3Rpb24oKSB7XG4gICAgcmV0dXJuIFF1ZXN0aW9uLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVlc3Rpb24ucHJvdG90eXBlLnVybFJvb3QgPSAnL2FwaS92MS9xdWVzdGlvbi8nO1xuXG4gIFF1ZXN0aW9uLnByb3RvdHlwZS5kZWZhdWx0cyA9IHtcbiAgICBcInR5cGVcIjogMSxcbiAgICBcImNvcnJlY3Rfb3B0aW9uXCI6IFwiMVwiLFxuICAgIFwib3B0aW9uX0FcIjogXCJcIixcbiAgICBcIm9wdGlvbl9CXCI6IFwiXCIsXG4gICAgXCJvcHRpb25fQ1wiOiBcIlwiLFxuICAgIFwib3B0aW9uX0RcIjogXCJcIixcbiAgICBcIm9wdGlvbl9FXCI6IFwiXCIsXG4gICAgXCJvcHRpb25fRlwiOiBcIlwiXG4gIH07XG5cbiAgUXVlc3Rpb24ucHJvdG90eXBlLnZhbGlkYXRpb24gPSB7XG4gICAgY29udGVudDoge1xuICAgICAgYmxhbms6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogJ+mimOebruWGheWuueS4jeiDveS4uuepuidcbiAgICB9LFxuICAgIHR5cGU6IHtcbiAgICAgIGJsYW5rOiBmYWxzZSxcbiAgICAgIGZuOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDEgfHwgdmFsdWUgPT09IDI7XG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ+mimOebruexu+Wei+W/hemhu+aYr+WkmumAieaIluWNlemAiSdcbiAgICB9LFxuICAgIGNvcnJlY3Rfb3B0aW9uOiB7XG4gICAgICBibGFuazogZmFsc2UsXG4gICAgICBmbjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc3dpdGNoIChmYWxzZSkge1xuICAgICAgICAgICAgY2FzZSAhXy5pc0FycmF5KHZhbHVlKTpcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgY2FzZSAhXy5pc1N0cmluZyh2YWx1ZSk6XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICAgICAgcmV0dXJuICEoXy5pc0VtcHR5KHZhbHVlKSkgJiYgXy5ldmVyeSh2YWx1ZSwgKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ29wdGlvbl8nICsgaW50MkNoYXIoaSkpO1xuICAgICAgICB9KSwgdGhpcyk7XG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ+ato+ehruetlOahiOiuvue9ruWHuumUme+8jOazqOaEj+WvueW6lOeahOmAiemhueaYr+WQpuiuvue9ruS6huetlOahiCdcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFF1ZXN0aW9uO1xuXG59KShCYXNlTW9kZWwpO1xuXG5RdWVzdGlvbnMgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoUXVlc3Rpb25zLCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBRdWVzdGlvbnMoKSB7XG4gICAgcmV0dXJuIFF1ZXN0aW9ucy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFF1ZXN0aW9ucy5wcm90b3R5cGUudXJsID0gJy9hcGkvdjEvcXVlc3Rpb24vJztcblxuICBRdWVzdGlvbnMucHJvdG90eXBlLm1vZGVsID0gUXVlc3Rpb247XG5cbiAgUXVlc3Rpb25zLnByb3RvdHlwZS5zdGF0ZSA9IHt9O1xuXG4gIFF1ZXN0aW9ucy5wcm90b3R5cGUuZmV0Y2ggPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIGRhdGE7XG4gICAgb3B0aW9ucyA9IF8uZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICBkYXRhID0gb3B0aW9ucy5kYXRhO1xuICAgIG9wdGlvbnMuZGF0YSA9IF8uZXh0ZW5kKHt9LCB0aGlzLnN0YXRlLCBkYXRhKTtcbiAgICByZXR1cm4gUXVlc3Rpb25zLl9fc3VwZXJfXy5mZXRjaC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICB9O1xuXG4gIHJldHVybiBRdWVzdGlvbnM7XG5cbn0pKEJhc2VDb2xsZWN0aW9uKTtcblxuUXVlc3Rpb25WaWV3ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKFF1ZXN0aW9uVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVlc3Rpb25WaWV3KCkge1xuICAgIHJldHVybiBRdWVzdGlvblZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBRdWVzdGlvblZpZXcucHJvdG90eXBlLnRhZ05hbWUgPSAndHInO1xuXG4gIFF1ZXN0aW9uVmlldy5wcm90b3R5cGUudGVtcGxhdGUgPSByZXF1aXJlKCd0ZW1wbGF0ZXMvcXVlc3Rpb24tcm93Jyk7XG5cbiAgUXVlc3Rpb25WaWV3LnByb3RvdHlwZS5ldmVudHMgPSB7XG4gICAgJ2NsaWNrICNkZWxldGUnOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLm1vZGVsLmRlc3Ryb3koKTtcbiAgICB9XG4gIH07XG5cbiAgUXVlc3Rpb25WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCBcInN5bmNcIiwgdGhpcy5yZW5kZXIpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsIFwiZGVzdHJveVwiLCB0aGlzLnJlbW92ZSk7XG4gIH07XG5cbiAgUXVlc3Rpb25WaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29ycmVjdCwgZGF0YTtcbiAgICBkYXRhID0gdGhpcy5tb2RlbC50b0pTT04oKTtcbiAgICBjb3JyZWN0ID0gZGF0YVsnY29ycmVjdF9vcHRpb24nXS5zcGxpdCgnLCcpO1xuICAgIGRhdGFbJ2NvcnJlY3Rfb3B0aW9uJ10gPSBfLm1hcChjb3JyZWN0LCBpbnQyQ2hhcikuam9pbigpO1xuICAgIGRhdGFbJ3R5cGUnXSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHN3aXRjaCAoZGF0YVsndHlwZSddKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gJ+WNlemAiSc7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gJ+WkmumAiSc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICflpJrpgIknO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgdGhpcy4kZWwuaHRtbCh0aGlzLnRlbXBsYXRlKGRhdGEpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICByZXR1cm4gUXVlc3Rpb25WaWV3O1xuXG59KShCYWNrYm9uZS5WaWV3KTtcblxuUXVlc3Rpb25zVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWVzdGlvbnNWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBRdWVzdGlvbnNWaWV3KCkge1xuICAgIHJldHVybiBRdWVzdGlvbnNWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVlc3Rpb25zVmlldy5wcm90b3R5cGUucm93ID0gZnVuY3Rpb24obW9kZWwpIHtcbiAgICByZXR1cm4gbmV3IFF1ZXN0aW9uVmlldyh7XG4gICAgICBtb2RlbDogbW9kZWxcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gUXVlc3Rpb25zVmlldztcblxufSkoVGFibGVWaWV3KTtcblxuUXVlc3Rpb25Nb2RhbFZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoUXVlc3Rpb25Nb2RhbFZpZXcsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIFF1ZXN0aW9uTW9kYWxWaWV3KCkge1xuICAgIHJldHVybiBRdWVzdGlvbk1vZGFsVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFF1ZXN0aW9uTW9kYWxWaWV3LnByb3RvdHlwZS50ZW1wbGF0ZSA9IHJlcXVpcmUoJ3RlbXBsYXRlcy9xdWVzdGlvbi1tb2RhbCcpO1xuXG4gIFF1ZXN0aW9uTW9kYWxWaWV3LnByb3RvdHlwZS5iaW5kaW5ncyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBfYmluZGluZ3MsIGNvZGUsIGosIGxlbiwgcmVmO1xuICAgIF9iaW5kaW5ncyA9IHtcbiAgICAgICdbbmFtZT1jb250ZW50XSc6ICdjb250ZW50JyxcbiAgICAgICdbbmFtZT10eXBlXSc6IHtcbiAgICAgICAgb2JzZXJ2ZTogJ3R5cGUnLFxuICAgICAgICBzZWxlY3RPcHRpb25zOiB7XG4gICAgICAgICAgY29sbGVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICfljZXpgIknLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAxXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ+WkmumAiScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldE9wdGlvbnM6IHtcbiAgICAgICAgICBzaWxlbnQ6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAnW25hbWU9Y29ycmVjdF9vcHRpb25dJzoge1xuICAgICAgICBvYnNlcnZlOiAnY29ycmVjdF9vcHRpb24nLFxuICAgICAgICBvbkdldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUuc3BsaXQoJywnKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25TZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKF8uaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5qb2luKCcsJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHJlZiA9IFsnQScsICdCJywgJ0MnLCAnRCcsICdFJywgJ0YnXTtcbiAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgIGNvZGUgPSByZWZbal07XG4gICAgICBfYmluZGluZ3NbXCJbbmFtZT1vcHRpb25fXCIgKyBjb2RlICsgXCJdXCJdID0gJ29wdGlvbl8nICsgY29kZTtcbiAgICB9XG4gICAgcmV0dXJuIF9iaW5kaW5ncztcbiAgfTtcblxuICBRdWVzdGlvbk1vZGFsVmlldy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKGUpIHtcbiAgICBRdWVzdGlvbk1vZGFsVmlldy5fX3N1cGVyX18uc2hvdy5jYWxsKHRoaXMsIGUpO1xuICAgIGlmICh0aGlzLm1vZGVsLmlzTmV3KCkpIHtcbiAgICAgIHRoaXMubW9kZWwuc2V0KCdib29rJywgdGhpcy5jb2xsZWN0aW9uLnN0YXRlLmJvb2spO1xuICAgIH1cbiAgICB0aGlzLmNoYW5nZVR5cGUodGhpcy5tb2RlbCwgdGhpcy5tb2RlbC5nZXQoJ3R5cGUnKSk7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCwgXCJjaGFuZ2U6dHlwZVwiLCB0aGlzLmNoYW5nZVR5cGUpO1xuICB9O1xuXG4gIFF1ZXN0aW9uTW9kYWxWaWV3LnByb3RvdHlwZS5jaGFuZ2VUeXBlID0gZnVuY3Rpb24obW9kZWwsIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgdmFyIGN1clZhbCwgdHlwZTtcbiAgICB0eXBlID0gdmFsdWUgPT09IDEgPyAncmFkaW8nIDogJ2NoZWNrYm94JztcbiAgICBjdXJWYWwgPSBtb2RlbC5nZXQoJ2NvcnJlY3Rfb3B0aW9uJyk7XG4gICAgaWYgKHR5cGUgPT09ICdyYWRpbycgJiYgY3VyVmFsKSB7XG4gICAgICBtb2RlbC5zZXQoJ2NvcnJlY3Rfb3B0aW9uJywgY3VyVmFsWzBdKTtcbiAgICB9XG4gICAgdGhpcy4kKCdpbnB1dFtuYW1lPWNvcnJlY3Rfb3B0aW9uXScpLnByb3AoJ3R5cGUnLCB0eXBlKTtcbiAgICByZXR1cm4gdGhpcy5zdGlja2l0KCk7XG4gIH07XG5cbiAgUXVlc3Rpb25Nb2RhbFZpZXcucHJvdG90eXBlLm9uSW52YWxpZEZpZWxkID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGVycm9ycywgbW9kZWwpIHtcbiAgICB2YXIgZXJyb3IsIGZpZWxkLCBncm91cCwgaiwgbGVuO1xuICAgIGlmIChuYW1lICE9PSAnY29ycmVjdF9vcHRpb24nKSB7XG4gICAgICByZXR1cm4gUXVlc3Rpb25Nb2RhbFZpZXcuX19zdXBlcl9fLm9uSW52YWxpZEZpZWxkLmNhbGwodGhpcywgbmFtZSwgdmFsdWUsIGVycm9ycywgbW9kZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaWVsZCA9IHRoaXMuJChcIltuYW1lPVwiICsgbmFtZSArIFwiXVwiKTtcbiAgICAgIGdyb3VwID0gZmllbGQuY2xvc2VzdCgnLmZvcm0tZ3JvdXAnKTtcbiAgICAgIGdyb3VwLmZpbmQoJy5oZWxwLWJsb2NrJykucmVtb3ZlKCk7XG4gICAgICBmb3IgKGogPSAwLCBsZW4gPSBlcnJvcnMubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgZXJyb3IgPSBlcnJvcnNbal07XG4gICAgICAgIGdyb3VwLmFwcGVuZChcIjxkaXYgY2xhc3M9J2hlbHAtYmxvY2sgY29sLXNtLW9mZnNldC0yJz5cIiArIGVycm9yICsgXCI8L2Rpdj5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ3JvdXAuYWRkQ2xhc3MoJ2hhcy1lcnJvcicpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUXVlc3Rpb25Nb2RhbFZpZXc7XG5cbn0pKE1vZGFsVmlldyk7XG5cblF1ZXN0aW9uTGlzdFBhbmVsVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWVzdGlvbkxpc3RQYW5lbFZpZXcsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIFF1ZXN0aW9uTGlzdFBhbmVsVmlldygpIHtcbiAgICByZXR1cm4gUXVlc3Rpb25MaXN0UGFuZWxWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVlc3Rpb25MaXN0UGFuZWxWaWV3LnByb3RvdHlwZS5ldmVudHMgPSB7XG4gICAgJ2NoYW5nZSAjYm9vayc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbi5zdGF0ZS5ib29rID0gdGhpcy4kKCcjYm9vaycpLnZhbCgpO1xuICAgIH0sXG4gICAgJ2NsaWNrICNsb2FkQm9vayc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbi5mZXRjaCh7XG4gICAgICAgIHJlc2V0OiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFF1ZXN0aW9uTGlzdFBhbmVsVmlldztcblxufSkoQmFja2JvbmUuVmlldyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUXVlc3Rpb25QYWdlVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWVzdGlvblBhZ2VWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBRdWVzdGlvblBhZ2VWaWV3KCkge1xuICAgIHJldHVybiBRdWVzdGlvblBhZ2VWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVlc3Rpb25QYWdlVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oYm9va0lkKSB7XG4gICAgdmFyIHBhZ2VOYXZWaWV3LCBwYW5lbFZpZXcsIHF1ZXN0aW9uTW9kYWxWaWV3LCBxdWVzdGlvbnMsIHF1ZXN0aW9uc1ZpZXc7XG4gICAgaWYgKCFib29rSWQpIHtcbiAgICAgIGJvb2tJZCA9ICQoJ2Zvcm0gc2VsZWN0W25hbWU9Ym9va10nKS52YWwoKTtcbiAgICB9XG4gICAgcXVlc3Rpb25zID0gbmV3IFF1ZXN0aW9ucztcbiAgICBxdWVzdGlvbnMuc3RhdGUuYm9vayA9IGJvb2tJZDtcbiAgICBwYW5lbFZpZXcgPSBuZXcgUXVlc3Rpb25MaXN0UGFuZWxWaWV3KHtcbiAgICAgIGVsOiAkKCcudGFibGUtY29udHJvbCcpLFxuICAgICAgY29sbGVjdGlvbjogcXVlc3Rpb25zXG4gICAgfSk7XG4gICAgcXVlc3Rpb25zVmlldyA9IG5ldyBRdWVzdGlvbnNWaWV3KHtcbiAgICAgIGVsOiAkKCcjcXVlc3Rpb24tdGFibGUtY29udGFpbmVyJyksXG4gICAgICBjb2xsZWN0aW9uOiBxdWVzdGlvbnNcbiAgICB9KTtcbiAgICBwYWdlTmF2VmlldyA9IG5ldyBQYWdpbmF0aW9uVmlldyh7XG4gICAgICBjb2xsZWN0aW9uOiBxdWVzdGlvbnNcbiAgICB9KTtcbiAgICBxdWVzdGlvbnNWaWV3LiRlbC5hZnRlcihwYWdlTmF2Vmlldy5yZW5kZXIoKS4kZWwpO1xuICAgIHF1ZXN0aW9uTW9kYWxWaWV3ID0gbmV3IFF1ZXN0aW9uTW9kYWxWaWV3KHtcbiAgICAgIGlkOiAncXVlc3Rpb25Nb2RhbEZvcm0nLFxuICAgICAgY29sbGVjdGlvbjogcXVlc3Rpb25zXG4gICAgfSk7XG4gICAgcXVlc3Rpb25Nb2RhbFZpZXcucmVuZGVyKCk7XG4gICAgcXVlc3Rpb25zLmZldGNoKHtcbiAgICAgIHJlc2V0OiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFF1ZXN0aW9uUGFnZVZpZXcuX19zdXBlcl9fLnJlbmRlci5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIHJldHVybiBRdWVzdGlvblBhZ2VWaWV3O1xuXG59KShCYWNrYm9uZS5WaWV3KTtcblxuIiwidmFyIE1vZGFsVmlldyxcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbm1vZHVsZS5leHBvcnRzID0gTW9kYWxWaWV3ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKE1vZGFsVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gTW9kYWxWaWV3KCkge1xuICAgIHJldHVybiBNb2RhbFZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBNb2RhbFZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICQoJyMnICsgdGhpcy5pZCkucmVtb3ZlKCk7XG4gICAgJCgnYm9keScpLmFwcGVuZCh0aGlzLnRlbXBsYXRlKHtcbiAgICAgIGlkOiB0aGlzLmlkXG4gICAgfSkpO1xuICAgIHRoaXMuc2V0RWxlbWVudCgkKCcjJyArIHRoaXMuaWQpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBNb2RhbFZpZXcucHJvdG90eXBlLmV2ZW50cyA9IHtcbiAgICAnc2hvdy5icy5tb2RhbCc6ICdzaG93JyxcbiAgICAnaGlkZGVuLmJzLm1vZGFsJzogJ2hpZGRlbicsXG4gICAgJ2NsaWNrIFt0eXBlPXN1Ym1pdF0nOiAnc2F2ZSdcbiAgfTtcblxuICBNb2RhbFZpZXcucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGRhdGE7XG4gICAgZGF0YSA9ICQoZS5yZWxhdGVkVGFyZ2V0KS5kYXRhKCk7XG4gICAgdGhpcy5tb2RlbCA9IGRhdGEuaWQgPyB0aGlzLmNvbGxlY3Rpb24uZ2V0KGRhdGEuaWQpIDogbmV3IHRoaXMuY29sbGVjdGlvbi5tb2RlbDtcbiAgICB0aGlzLnN0aWNraXQoKTtcbiAgICB0aGlzLmJpbmRWYWxpZGF0aW9uKCk7XG4gICAgaWYgKCF0aGlzLm1vZGVsLmlzTmV3KCkpIHtcbiAgICAgIHJldHVybiB0aGlzLm1vZGVsLnZhbGlkYXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIE1vZGFsVmlldy5wcm90b3R5cGUuaGlkZGVuID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy51bnN0aWNraXQoKTtcbiAgICB0aGlzLnN0b3BMaXN0ZW5pbmcoKTtcbiAgICByZXR1cm4gZGVsZXRlIHRoaXMubW9kZWw7XG4gIH07XG5cbiAgTW9kYWxWaWV3LnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciB4aHI7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHhociA9IHRoaXMubW9kZWwuc2F2ZSgpO1xuICAgIGlmICh4aHIpIHtcbiAgICAgIHJldHVybiB4aHIudGhlbigoKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBfdGhpcy5jb2xsZWN0aW9uLmFkZChfdGhpcy5tb2RlbCk7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLiRlbC5tb2RhbCgnaGlkZScpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpKTtcbiAgICB9XG4gIH07XG5cbiAgTW9kYWxWaWV3LnByb3RvdHlwZS5vblZhbGlkRmllbGQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgbW9kZWwpIHtcbiAgICB2YXIgZmllbGQsIGdyb3VwO1xuICAgIGZpZWxkID0gdGhpcy4kKFwiW25hbWU9XCIgKyBuYW1lICsgXCJdXCIpO1xuICAgIGdyb3VwID0gZmllbGQuY2xvc2VzdCgnLmZvcm0tZ3JvdXAnKTtcbiAgICBncm91cC5yZW1vdmVDbGFzcygnaGFzLWVycm9yJyk7XG4gICAgcmV0dXJuIGdyb3VwLmZpbmQoJy5oZWxwLWJsb2NrJykucmVtb3ZlKCk7XG4gIH07XG5cbiAgTW9kYWxWaWV3LnByb3RvdHlwZS5vbkludmFsaWRGaWVsZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBlcnJvcnMsIG1vZGVsKSB7XG4gICAgdmFyIGVycm9yLCBmaWVsZCwgZ3JvdXAsIGksIGxlbjtcbiAgICBmaWVsZCA9IHRoaXMuJChcIltuYW1lPVwiICsgbmFtZSArIFwiXVwiKTtcbiAgICBncm91cCA9IGZpZWxkLmNsb3Nlc3QoJy5mb3JtLWdyb3VwJyk7XG4gICAgZ3JvdXAuZmluZCgnLmhlbHAtYmxvY2snKS5yZW1vdmUoKTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBlcnJvcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGVycm9yID0gZXJyb3JzW2ldO1xuICAgICAgZmllbGQuYWZ0ZXIoXCI8ZGl2IGNsYXNzPSdoZWxwLWJsb2NrJz5cIiArIGVycm9yICsgXCI8L2Rpdj5cIik7XG4gICAgfVxuICAgIHJldHVybiBncm91cC5hZGRDbGFzcygnaGFzLWVycm9yJyk7XG4gIH07XG5cbiAgcmV0dXJuIE1vZGFsVmlldztcblxufSkoQmFja2JvbmUuVmlldyk7XG5cbiIsInZhciBQYWdpbmF0aW9uVmlldyxcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFnaW5hdGlvblZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoUGFnaW5hdGlvblZpZXcsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIFBhZ2luYXRpb25WaWV3KCkge1xuICAgIHJldHVybiBQYWdpbmF0aW9uVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFBhZ2luYXRpb25WaWV3LnByb3RvdHlwZS50YWdOYW1lID0gJ25hdic7XG5cbiAgUGFnaW5hdGlvblZpZXcucHJvdG90eXBlLmNsYXNzTmFtZSA9ICdwYWdlLW5hdic7XG5cbiAgUGFnaW5hdGlvblZpZXcucHJvdG90eXBlLnRlbXBsYXRlID0gcmVxdWlyZSgndGVtcGxhdGVzL3BhZ2UtbmF2Jyk7XG5cbiAgUGFnaW5hdGlvblZpZXcucHJvdG90eXBlLmV2ZW50cyA9IHtcbiAgICAnY2xpY2sgYVtkYXRhLWlkXSc6ICdsb2FkUGFnZSdcbiAgfTtcblxuICBQYWdpbmF0aW9uVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmxpc3RlblRvKHRoaXMuY29sbGVjdGlvbiwgJ3Jlc2V0JywgdGhpcy5yZW5kZXIpO1xuICB9O1xuXG4gIFBhZ2luYXRpb25WaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5jb2xsZWN0aW9uLm1ldGEpIHtcbiAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSh0aGlzLmNvbGxlY3Rpb24ubWV0YSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBQYWdpbmF0aW9uVmlldy5wcm90b3R5cGUubG9hZFBhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGRhdGE7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGRhdGEgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgpO1xuICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb24uZmV0Y2goe1xuICAgICAgZGF0YToge1xuICAgICAgICBwYWdlOiBkYXRhLmlkXG4gICAgICB9LFxuICAgICAgcmVzZXQ6IHRydWVcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gUGFnaW5hdGlvblZpZXc7XG5cbn0pKEJhY2tib25lLlZpZXcpO1xuXG4iLCJ2YXIgVGFibGVWaWV3LFxuICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxubW9kdWxlLmV4cG9ydHMgPSBUYWJsZVZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoVGFibGVWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBUYWJsZVZpZXcoKSB7XG4gICAgcmV0dXJuIFRhYmxlVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFRhYmxlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubGlzdGVuVG8odGhpcy5jb2xsZWN0aW9uLCAnYWRkJywgdGhpcy5hZGQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlblRvKHRoaXMuY29sbGVjdGlvbiwgJ3Jlc2V0JywgdGhpcy5yZW5kZXIpO1xuICB9O1xuXG4gIFRhYmxlVmlldy5wcm90b3R5cGUucm93ID0gZnVuY3Rpb24obW9kZWwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICB9O1xuXG4gIFRhYmxlVmlldy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24obW9kZWwpIHtcbiAgICB2YXIgcm93O1xuICAgIHJvdyA9IHRoaXMucm93KG1vZGVsKTtcbiAgICByb3cuJGVsLmFkZENsYXNzKCdzdWNjZXNzJyk7XG4gICAgcmV0dXJuIHRoaXMuJCgndGFibGUgdGJvZHknKS5wcmVwZW5kKHJvdy5yZW5kZXIoKS4kZWwpO1xuICB9O1xuXG4gIFRhYmxlVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oY29sbGVjdGlvbikge1xuICAgIHZhciB0Ym9keTtcbiAgICB0Ym9keSA9IHRoaXMuJCgndGFibGUgdGJvZHknKTtcbiAgICB0Ym9keS5lbXB0eSgpO1xuICAgIGNvbGxlY3Rpb24uZWFjaCgoZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgIHJldHVybiB0Ym9keS5hcHBlbmQodGhpcy5yb3cobW9kZWwpLnJlbmRlcigpLiRlbCk7XG4gICAgfSksIHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBUYWJsZVZpZXc7XG5cbn0pKEJhY2tib25lLlZpZXcpO1xuXG4iLCJ2YXIgamFkZSA9IHJlcXVpcmUoXCJqYWRlL3J1bnRpbWVcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7XG52YXIgYnVmID0gW107XG52YXIgamFkZV9taXhpbnMgPSB7fTtcbnZhciBqYWRlX2ludGVycDtcbjt2YXIgbG9jYWxzX2Zvcl93aXRoID0gKGxvY2FscyB8fCB7fSk7KGZ1bmN0aW9uIChpZCkge1xuYnVmLnB1c2goXCI8ZGl2XCIgKyAoamFkZS5hdHRyKFwiaWRcIiwgXCJcIiArIChpZCkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwiYm9va0Zvcm1MYWJlbFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJtb2RhbCBmYWRlXFxcIj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCI+PHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPuWFs+mXrTwvc3Bhbj48L2J1dHRvbj48aDQgaWQ9XFxcImJvb2tGb3JtTGFiZWxcXFwiIGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+6L6T5YWl6aKY5bqT5L+h5oGvPC9oND48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj48Zm9ybT48ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj48bGFiZWwgZm9yPVxcXCJ0aXRsZVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPumimOW6k+WQjTwvbGFiZWw+PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGlkPVxcXCJ0aXRsZVxcXCIgcGxhY2Vob2xkZXI9XFxcIumimOW6k+WQjVxcXCIgbmFtZT1cXFwidGl0bGVcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiLz48L2Rpdj48L2Zvcm0+PC9kaXY+PGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+5Y+W5raIPC9idXR0b24+PGJ1dHRvbiBpZD1cXFwic2F2ZVxcXCIgdHlwZT1cXFwic3VibWl0XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5XFxcIj7kv53lrZg8L2J1dHRvbj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj5cIik7fS5jYWxsKHRoaXMsXCJpZFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguaWQ6dHlwZW9mIGlkIT09XCJ1bmRlZmluZWRcIj9pZDp1bmRlZmluZWQpKTs7cmV0dXJuIGJ1Zi5qb2luKFwiXCIpO1xufTsiLCJ2YXIgamFkZSA9IHJlcXVpcmUoXCJqYWRlL3J1bnRpbWVcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7XG52YXIgYnVmID0gW107XG52YXIgamFkZV9taXhpbnMgPSB7fTtcbnZhciBqYWRlX2ludGVycDtcbjt2YXIgbG9jYWxzX2Zvcl93aXRoID0gKGxvY2FscyB8fCB7fSk7KGZ1bmN0aW9uIChidXR0b24sIGlkLCB0aXRsZSwgdXNlcikge1xuYnVmLnB1c2goXCI8dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSB0aXRsZSkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSB1c2VyLnVzZXJuYW1lKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD48YVwiICsgKGphZGUuYXR0cihcImhyZWZcIiwgJy9xdWl6Ym9va3MvJyArIChpZCkgKyAnL3F1ZXN0aW9ucycsIHRydWUsIGZhbHNlKSkgKyBcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi14c1xcXCI+5p+l55yLPC9hPjxhXCIgKyAoamFkZS5hdHRyKFwidHlwZVwiLCBidXR0b24sIHRydWUsIGZhbHNlKSkgKyAoamFkZS5hdHRyKFwiZGF0YS1pZFwiLCBpZCwgdHJ1ZSwgZmFsc2UpKSArIFwiIGRhdGEtdG9nZ2xlPVxcXCJtb2RhbFxcXCIgZGF0YS10YXJnZXQ9XFxcIiNib29rTW9kYWxGb3JtXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14c1xcXCI+57yW6L6RPC9hPjwvdGQ+XCIpO30uY2FsbCh0aGlzLFwiYnV0dG9uXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5idXR0b246dHlwZW9mIGJ1dHRvbiE9PVwidW5kZWZpbmVkXCI/YnV0dG9uOnVuZGVmaW5lZCxcImlkXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5pZDp0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiP2lkOnVuZGVmaW5lZCxcInRpdGxlXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC50aXRsZTp0eXBlb2YgdGl0bGUhPT1cInVuZGVmaW5lZFwiP3RpdGxlOnVuZGVmaW5lZCxcInVzZXJcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLnVzZXI6dHlwZW9mIHVzZXIhPT1cInVuZGVmaW5lZFwiP3VzZXI6dW5kZWZpbmVkKSk7O3JldHVybiBidWYuam9pbihcIlwiKTtcbn07IiwidmFyIGphZGUgPSByZXF1aXJlKFwiamFkZS9ydW50aW1lXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRlbXBsYXRlKGxvY2Fscykge1xudmFyIGJ1ZiA9IFtdO1xudmFyIGphZGVfbWl4aW5zID0ge307XG52YXIgamFkZV9pbnRlcnA7XG47dmFyIGxvY2Fsc19mb3Jfd2l0aCA9IChsb2NhbHMgfHwge30pOyhmdW5jdGlvbiAoTWF0aCwgZW5kLCBwYWdlLCBwYWdlcywgc3RhcnQpIHtcbnN0YXJ0ID0gTWF0aC5tYXgoMSwgcGFnZSAtIDUpXG5lbmQgPSBNYXRoLm1pbihwYWdlcywgcGFnZSArIDUpXG5idWYucHVzaChcIjx1bCBjbGFzcz1cXFwicGFnaW5hdGlvblxcXCI+PGxpXCIgKyAoamFkZS5jbHMoWyhwYWdlID09IDEpID8gJ2Rpc2FibGVkJyA6ICcnXSwgW3RydWVdKSkgKyBcIj48YSBocmVmPVxcXCIjXFxcIiBhcmlhLWxhYmVsPVxcXCJTdGFydFxcXCIgZGF0YS1pZD0nMSc+PHNwYW4gYXJpYS1oaWRkZW49XFxcImFyaWEtaGlkZGVuXFxcIj4mbGFxdW87PC9zcGFuPjwvYT48L2xpPlwiKTtcbnZhciBpID0gc3RhcnRcbndoaWxlIChpIDwgcGFnZSlcbntcbmJ1Zi5wdXNoKFwiPGxpPjxhIGhyZWY9XFxcIiNcXFwiXCIgKyAoamFkZS5hdHRyKFwiZGF0YS1pZFwiLCBpLCB0cnVlLCBmYWxzZSkpICsgXCI+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBpKyspID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvYT48L2xpPlwiKTtcbn1cbmJ1Zi5wdXNoKFwiPGxpXCIgKyAoamFkZS5hdHRyKFwiZGF0YS1pZFwiLCBwYWdlLCB0cnVlLCBmYWxzZSkpICsgXCIgY2xhc3M9XFxcImFjdGl2ZVxcXCI+PGEgaHJlZj1cXFwiI1xcXCI+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBwYWdlKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L2E+PC9saT5cIik7XG52YXIgaSA9IHBhZ2UgKyAxXG53aGlsZSAoaSA8PSBlbmQpXG57XG5idWYucHVzaChcIjxsaT48YSBocmVmPVxcXCIjXFxcIlwiICsgKGphZGUuYXR0cihcImRhdGEtaWRcIiwgaSwgdHJ1ZSwgZmFsc2UpKSArIFwiPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gaSsrKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L2E+PC9saT5cIik7XG59XG5idWYucHVzaChcIjxsaVwiICsgKGphZGUuY2xzKFsocGFnZSA9PSBwYWdlcykgPyAnZGlzYWJsZWQnIDogJyddLCBbdHJ1ZV0pKSArIFwiPjxhIGhyZWY9XFxcIiNcXFwiIGFyaWEtbGFiZWw9XFxcIkVuZFxcXCJcIiArIChqYWRlLmF0dHIoXCJkYXRhLWlkXCIsIHBhZ2VzLCB0cnVlLCBmYWxzZSkpICsgXCI+PHNwYW4gYXJpYS1oaWRkZW49XFxcImFyaWEtaGlkZGVuXFxcIj4mcmFxdW87PC9zcGFuPjwvYT48L2xpPjwvdWw+XCIpO30uY2FsbCh0aGlzLFwiTWF0aFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguTWF0aDp0eXBlb2YgTWF0aCE9PVwidW5kZWZpbmVkXCI/TWF0aDp1bmRlZmluZWQsXCJlbmRcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmVuZDp0eXBlb2YgZW5kIT09XCJ1bmRlZmluZWRcIj9lbmQ6dW5kZWZpbmVkLFwicGFnZVwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgucGFnZTp0eXBlb2YgcGFnZSE9PVwidW5kZWZpbmVkXCI/cGFnZTp1bmRlZmluZWQsXCJwYWdlc1wiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgucGFnZXM6dHlwZW9mIHBhZ2VzIT09XCJ1bmRlZmluZWRcIj9wYWdlczp1bmRlZmluZWQsXCJzdGFydFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguc3RhcnQ6dHlwZW9mIHN0YXJ0IT09XCJ1bmRlZmluZWRcIj9zdGFydDp1bmRlZmluZWQpKTs7cmV0dXJuIGJ1Zi5qb2luKFwiXCIpO1xufTsiLCJ2YXIgamFkZSA9IHJlcXVpcmUoXCJqYWRlL3J1bnRpbWVcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7XG52YXIgYnVmID0gW107XG52YXIgamFkZV9taXhpbnMgPSB7fTtcbnZhciBqYWRlX2ludGVycDtcbjt2YXIgbG9jYWxzX2Zvcl93aXRoID0gKGxvY2FscyB8fCB7fSk7KGZ1bmN0aW9uIChpZCwgdW5kZWZpbmVkKSB7XG5qYWRlX21peGluc1tcInRleHRhcmVhXCJdID0gamFkZV9pbnRlcnAgPSBmdW5jdGlvbihpZCxsYWJlbCxuYW1lKXtcbnZhciBibG9jayA9ICh0aGlzICYmIHRoaXMuYmxvY2spLCBhdHRyaWJ1dGVzID0gKHRoaXMgJiYgdGhpcy5hdHRyaWJ1dGVzKSB8fCB7fTtcbmJ1Zi5wdXNoKFwiPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+PGxhYmVsXCIgKyAoamFkZS5hdHRyKFwiZm9yXCIsIFwiXCIgKyAoaWQpICsgXCJcIiwgdHJ1ZSwgZmFsc2UpKSArIFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj5cIiArIChqYWRlLmVzY2FwZSgoamFkZV9pbnRlcnAgPSBsYWJlbCkgPT0gbnVsbCA/ICcnIDogamFkZV9pbnRlcnApKSArIFwiPC9sYWJlbD48ZGl2IGNsYXNzPVxcXCJjb2wtc20tMTBcXFwiPjx0ZXh0YXJlYVwiICsgKGphZGUuYXR0cihcImlkXCIsIFwiXCIgKyAoaWQpICsgXCJcIiwgdHJ1ZSwgZmFsc2UpKSArIChqYWRlLmF0dHIoXCJuYW1lXCIsIFwiXCIgKyAobmFtZSkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgXCIgcm93PVxcXCI0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj48L3RleHRhcmVhPjwvZGl2PjwvZGl2PlwiKTtcbn07XG5idWYucHVzaChcIjxkaXZcIiArIChqYWRlLmF0dHIoXCJpZFwiLCBcIlwiICsgKGlkKSArIFwiXCIsIHRydWUsIGZhbHNlKSkgKyBcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHJvbGU9XFxcImRpYWxvZ1xcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJxdWVzdGlvbkZvcm1MYWJlbFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJtb2RhbCBmYWRlXFxcIj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCI+PHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPuWFs+mXrTwvc3Bhbj48L2J1dHRvbj48aDQgaWQ9XFxcInF1ZXN0aW9uRm9ybUxhYmVsXFxcIiBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPui+k+WFpemXrumimOivpue7huS/oeaBrzwvaDQ+PC9kaXY+PGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+PGZvcm0gY2xhc3M9XFxcImZvcm0taG9yaXpvbnRhbFxcXCI+XCIpO1xuamFkZV9taXhpbnNbXCJ0ZXh0YXJlYVwiXSgnY29udGVudCcsICfpl67popjlhoXlrrknLCAnY29udGVudCcpO1xuYnVmLnB1c2goXCI8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj48bGFiZWwgZm9yPVxcXCJ0eXBlXFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbFxcXCI+6Zeu6aKY5YaF5a65PC9sYWJlbD48ZGl2IGNsYXNzPVxcXCJjb2wtc20tMTBcXFwiPjxzZWxlY3QgaWQ9XFxcInR5cGVcXFwiIHJvdz1cXFwiNFxcXCIgbmFtZT1cXFwidHlwZVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCB0ZXh0YXJlYVxcXCI+PC9zZWxlY3Q+PC9kaXY+PC9kaXY+XCIpO1xudmFyIG9wdGlvbnMgPSBbJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJ11cbi8vIGl0ZXJhdGUgb3B0aW9uc1xuOyhmdW5jdGlvbigpe1xuICB2YXIgJCRvYmogPSBvcHRpb25zO1xuICBpZiAoJ251bWJlcicgPT0gdHlwZW9mICQkb2JqLmxlbmd0aCkge1xuXG4gICAgZm9yICh2YXIgJGluZGV4ID0gMCwgJCRsID0gJCRvYmoubGVuZ3RoOyAkaW5kZXggPCAkJGw7ICRpbmRleCsrKSB7XG4gICAgICB2YXIgb3B0aW9uID0gJCRvYmpbJGluZGV4XTtcblxuamFkZV9taXhpbnNbXCJ0ZXh0YXJlYVwiXSgnb3B0aW9uXycgKyBvcHRpb24sIFwi6YCJ6aG5XCIgKyBvcHRpb24sICdvcHRpb25fJyArIG9wdGlvbik7XG4gICAgfVxuXG4gIH0gZWxzZSB7XG4gICAgdmFyICQkbCA9IDA7XG4gICAgZm9yICh2YXIgJGluZGV4IGluICQkb2JqKSB7XG4gICAgICAkJGwrKzsgICAgICB2YXIgb3B0aW9uID0gJCRvYmpbJGluZGV4XTtcblxuamFkZV9taXhpbnNbXCJ0ZXh0YXJlYVwiXSgnb3B0aW9uXycgKyBvcHRpb24sIFwi6YCJ6aG5XCIgKyBvcHRpb24sICdvcHRpb25fJyArIG9wdGlvbik7XG4gICAgfVxuXG4gIH1cbn0pLmNhbGwodGhpcyk7XG5cbmJ1Zi5wdXNoKFwiPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+PGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7mraPnoa7nrZTmoYg8L2xhYmVsPjxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMFxcXCI+XCIpO1xuLy8gaXRlcmF0ZSBvcHRpb25zXG47KGZ1bmN0aW9uKCl7XG4gIHZhciAkJG9iaiA9IG9wdGlvbnM7XG4gIGlmICgnbnVtYmVyJyA9PSB0eXBlb2YgJCRvYmoubGVuZ3RoKSB7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgJCRsID0gJCRvYmoubGVuZ3RoOyBpIDwgJCRsOyBpKyspIHtcbiAgICAgIHZhciBvcHRpb24gPSAkJG9ialtpXTtcblxuYnVmLnB1c2goXCI8ZGl2IGNsYXNzPVxcXCJjaGVja2JveCBjb2wteHMtNiBjb2wtc20tNFxcXCI+PGxhYmVsPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwiY29ycmVjdF9vcHRpb25cXFwiXCIgKyAoamFkZS5hdHRyKFwidmFsdWVcIiwgaSsxLCB0cnVlLCBmYWxzZSkpICsgXCIvPumAiemhuVwiICsgKGphZGUuZXNjYXBlKChqYWRlX2ludGVycCA9IG9wdGlvbikgPT0gbnVsbCA/ICcnIDogamFkZV9pbnRlcnApKSArIFwiPC9sYWJlbD48L2Rpdj5cIik7XG4gICAgfVxuXG4gIH0gZWxzZSB7XG4gICAgdmFyICQkbCA9IDA7XG4gICAgZm9yICh2YXIgaSBpbiAkJG9iaikge1xuICAgICAgJCRsKys7ICAgICAgdmFyIG9wdGlvbiA9ICQkb2JqW2ldO1xuXG5idWYucHVzaChcIjxkaXYgY2xhc3M9XFxcImNoZWNrYm94IGNvbC14cy02IGNvbC1zbS00XFxcIj48bGFiZWw+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJjb3JyZWN0X29wdGlvblxcXCJcIiArIChqYWRlLmF0dHIoXCJ2YWx1ZVwiLCBpKzEsIHRydWUsIGZhbHNlKSkgKyBcIi8+6YCJ6aG5XCIgKyAoamFkZS5lc2NhcGUoKGphZGVfaW50ZXJwID0gb3B0aW9uKSA9PSBudWxsID8gJycgOiBqYWRlX2ludGVycCkpICsgXCI8L2xhYmVsPjwvZGl2PlwiKTtcbiAgICB9XG5cbiAgfVxufSkuY2FsbCh0aGlzKTtcblxuYnVmLnB1c2goXCI8L2Rpdj48L2Rpdj48L2Zvcm0+PC9kaXY+PGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+5Y+W5raIPC9idXR0b24+PGJ1dHRvbiB0eXBlPVxcXCJzdWJtaXRcXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnlcXFwiPuS/neWtmDwvYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PlwiKTt9LmNhbGwodGhpcyxcImlkXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5pZDp0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiP2lkOnVuZGVmaW5lZCxcInVuZGVmaW5lZFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgudW5kZWZpbmVkOnR5cGVvZiB1bmRlZmluZWQhPT1cInVuZGVmaW5lZFwiP3VuZGVmaW5lZDp1bmRlZmluZWQpKTs7cmV0dXJuIGJ1Zi5qb2luKFwiXCIpO1xufTsiLCJ2YXIgamFkZSA9IHJlcXVpcmUoXCJqYWRlL3J1bnRpbWVcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7XG52YXIgYnVmID0gW107XG52YXIgamFkZV9taXhpbnMgPSB7fTtcbnZhciBqYWRlX2ludGVycDtcbjt2YXIgbG9jYWxzX2Zvcl93aXRoID0gKGxvY2FscyB8fCB7fSk7KGZ1bmN0aW9uIChidXR0b24sIGNvbnRlbnQsIGNvcnJlY3Rfb3B0aW9uLCBpZCwgb3B0aW9uX0EsIG9wdGlvbl9CLCBvcHRpb25fQywgb3B0aW9uX0QsIG9wdGlvbl9FLCBvcHRpb25fRiwgdHlwZSkge1xuYnVmLnB1c2goXCI8dGQgY2xhc3M9XFxcImNvbnRlbnRcXFwiPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gY29udGVudCkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSB0eXBlKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IGNvcnJlY3Rfb3B0aW9uKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IG9wdGlvbl9BKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IG9wdGlvbl9CKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IG9wdGlvbl9DKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IG9wdGlvbl9EKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IG9wdGlvbl9FKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IG9wdGlvbl9GKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD48YVwiICsgKGphZGUuYXR0cihcInR5cGVcIiwgYnV0dG9uLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcImRhdGEtaWRcIiwgaWQsIHRydWUsIGZhbHNlKSkgKyBcIiBkYXRhLXRvZ2dsZT1cXFwibW9kYWxcXFwiIGRhdGEtdGFyZ2V0PVxcXCIjcXVlc3Rpb25Nb2RhbEZvcm1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnkgYnRuLXhzXFxcIj7nvJbovpE8L2E+PGEgaWQ9XFxcImRlbGV0ZVxcXCJcIiArIChqYWRlLmF0dHIoXCJ0eXBlXCIsIGJ1dHRvbiwgdHJ1ZSwgZmFsc2UpKSArIFwiIGNsYXNzPVxcXCJidG4gYnRuLWRhbmdlciBidG4teHNcXFwiPuWIoOmZpDwvYT48L3RkPlwiKTt9LmNhbGwodGhpcyxcImJ1dHRvblwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguYnV0dG9uOnR5cGVvZiBidXR0b24hPT1cInVuZGVmaW5lZFwiP2J1dHRvbjp1bmRlZmluZWQsXCJjb250ZW50XCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5jb250ZW50OnR5cGVvZiBjb250ZW50IT09XCJ1bmRlZmluZWRcIj9jb250ZW50OnVuZGVmaW5lZCxcImNvcnJlY3Rfb3B0aW9uXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5jb3JyZWN0X29wdGlvbjp0eXBlb2YgY29ycmVjdF9vcHRpb24hPT1cInVuZGVmaW5lZFwiP2NvcnJlY3Rfb3B0aW9uOnVuZGVmaW5lZCxcImlkXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5pZDp0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiP2lkOnVuZGVmaW5lZCxcIm9wdGlvbl9BXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5vcHRpb25fQTp0eXBlb2Ygb3B0aW9uX0EhPT1cInVuZGVmaW5lZFwiP29wdGlvbl9BOnVuZGVmaW5lZCxcIm9wdGlvbl9CXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5vcHRpb25fQjp0eXBlb2Ygb3B0aW9uX0IhPT1cInVuZGVmaW5lZFwiP29wdGlvbl9COnVuZGVmaW5lZCxcIm9wdGlvbl9DXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5vcHRpb25fQzp0eXBlb2Ygb3B0aW9uX0MhPT1cInVuZGVmaW5lZFwiP29wdGlvbl9DOnVuZGVmaW5lZCxcIm9wdGlvbl9EXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5vcHRpb25fRDp0eXBlb2Ygb3B0aW9uX0QhPT1cInVuZGVmaW5lZFwiP29wdGlvbl9EOnVuZGVmaW5lZCxcIm9wdGlvbl9FXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5vcHRpb25fRTp0eXBlb2Ygb3B0aW9uX0UhPT1cInVuZGVmaW5lZFwiP29wdGlvbl9FOnVuZGVmaW5lZCxcIm9wdGlvbl9GXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5vcHRpb25fRjp0eXBlb2Ygb3B0aW9uX0YhPT1cInVuZGVmaW5lZFwiP29wdGlvbl9GOnVuZGVmaW5lZCxcInR5cGVcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLnR5cGU6dHlwZW9mIHR5cGUhPT1cInVuZGVmaW5lZFwiP3R5cGU6dW5kZWZpbmVkKSk7O3JldHVybiBidWYuam9pbihcIlwiKTtcbn07IiwidmFyIGphZGUgPSByZXF1aXJlKFwiamFkZS9ydW50aW1lXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRlbXBsYXRlKGxvY2Fscykge1xudmFyIGJ1ZiA9IFtdO1xudmFyIGphZGVfbWl4aW5zID0ge307XG52YXIgamFkZV9pbnRlcnA7XG47dmFyIGxvY2Fsc19mb3Jfd2l0aCA9IChsb2NhbHMgfHwge30pOyhmdW5jdGlvbiAoaWQpIHtcbmphZGVfbWl4aW5zW1wiaW5wdXRcIl0gPSBqYWRlX2ludGVycCA9IGZ1bmN0aW9uKHR5cGUsaWQscGxhY2Vob2xkZXIsbGFiZWwsbmFtZSl7XG52YXIgYmxvY2sgPSAodGhpcyAmJiB0aGlzLmJsb2NrKSwgYXR0cmlidXRlcyA9ICh0aGlzICYmIHRoaXMuYXR0cmlidXRlcykgfHwge307XG5idWYucHVzaChcIjxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPjxsYWJlbFwiICsgKGphZGUuYXR0cihcImZvclwiLCBcIlwiICsgKGlkKSArIFwiXCIsIHRydWUsIGZhbHNlKSkgKyBcIiBjbGFzcz1cXFwiY29sLXhzLTIgY29udHJvbC1sYWJlbFxcXCI+XCIgKyAoamFkZS5lc2NhcGUoKGphZGVfaW50ZXJwID0gbGFiZWwpID09IG51bGwgPyAnJyA6IGphZGVfaW50ZXJwKSkgKyBcIjwvbGFiZWw+PGRpdiBjbGFzcz1cXFwiY29sLXhzLTEwXFxcIj48aW5wdXRcIiArIChqYWRlLmF0dHIoXCJ0eXBlXCIsIFwiXCIgKyAodHlwZSkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcImlkXCIsIFwiXCIgKyAoaWQpICsgXCJcIiwgdHJ1ZSwgZmFsc2UpKSArIChqYWRlLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcIlwiICsgKHBsYWNlaG9sZGVyKSArIFwiXCIsIHRydWUsIGZhbHNlKSkgKyAoamFkZS5hdHRyKFwibmFtZVwiLCBcIlwiICsgKG5hbWUpICsgXCJcIiwgdHJ1ZSwgZmFsc2UpKSArIFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiLz48L2Rpdj48L2Rpdj5cIik7XG59O1xuYnVmLnB1c2goXCI8ZGl2XCIgKyAoamFkZS5hdHRyKFwiaWRcIiwgXCJcIiArIChpZCkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwidXNlckZvcm1MYWJlbFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJtb2RhbCBmYWRlXFxcIj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCI+PHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPuWFs+mXrTwvc3Bhbj48L2J1dHRvbj48aDQgaWQ9XFxcInVzZXJGb3JtTGFiZWxcXFwiIGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+6L6T5YWl55So5oi35L+h5oGvPC9oND48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj48cm93Pjxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiPlwiKTtcbmphZGVfbWl4aW5zW1wiaW5wdXRcIl0oJ3RleHQnLCAndXNlcm5hbWUnLCAn55So5oi35ZCNJywgJ+eUqOaIt+WQjScsICd1c2VybmFtZScpO1xuamFkZV9taXhpbnNbXCJpbnB1dFwiXSgncGFzc3dvcmQnLCAncGFzc3dvcmQnLCAn5a+G56CBJywgJ+WvhueggScsICdwYXNzd29yZCcpO1xuYnVmLnB1c2goXCI8L2Zvcm0+PC9yb3c+PC9kaXY+PGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+5Y+W5raIPC9idXR0b24+PGJ1dHRvbiB0eXBlPVxcXCJzdWJtaXRcXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnlcXFwiPuS/neWtmDwvYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PlwiKTt9LmNhbGwodGhpcyxcImlkXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5pZDp0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiP2lkOnVuZGVmaW5lZCkpOztyZXR1cm4gYnVmLmpvaW4oXCJcIik7XG59OyIsInZhciBqYWRlID0gcmVxdWlyZShcImphZGUvcnVudGltZVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0ZW1wbGF0ZShsb2NhbHMpIHtcbnZhciBidWYgPSBbXTtcbnZhciBqYWRlX21peGlucyA9IHt9O1xudmFyIGphZGVfaW50ZXJwO1xuO3ZhciBsb2NhbHNfZm9yX3dpdGggPSAobG9jYWxzIHx8IHt9KTsoZnVuY3Rpb24gKGFjdGl2ZSwgYWRtaW4sIGlkLCB1c2VybmFtZSkge1xuYnVmLnB1c2goXCI8dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBpZCkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSB1c2VybmFtZSkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+PGEgdHlwZT1cXFwiYnV0dG9uXFxcIlwiICsgKGphZGUuYXR0cihcImRhdGEtaWRcIiwgaWQsIHRydWUsIGZhbHNlKSkgKyBcIiBkYXRhLXRvZ2dsZT1cXFwibW9kYWxcXFwiIGRhdGEtdGFyZ2V0PVxcXCIjdXNlck1vZGFsRm9ybVxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4teHNcXFwiPuS/ruaUueWvhueggTwvYT5cIik7XG5pZiAoICFhZG1pbilcbntcbmlmICggYWN0aXZlKVxue1xuYnVmLnB1c2goXCI8YSBpZD1cXFwiZGVhY3RpdmF0ZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXIgYnRuLXhzXFxcIj7lhrvnu5PluJDlj7c8L2E+XCIpO1xufVxuZWxzZVxue1xuYnVmLnB1c2goXCI8YSBpZD1cXFwiYWN0aXZhdGVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4teHNcXFwiPua/gOa0u+W4kOWPtzwvYT5cIik7XG59XG59XG5idWYucHVzaChcIjwvdGQ+XCIpO30uY2FsbCh0aGlzLFwiYWN0aXZlXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5hY3RpdmU6dHlwZW9mIGFjdGl2ZSE9PVwidW5kZWZpbmVkXCI/YWN0aXZlOnVuZGVmaW5lZCxcImFkbWluXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5hZG1pbjp0eXBlb2YgYWRtaW4hPT1cInVuZGVmaW5lZFwiP2FkbWluOnVuZGVmaW5lZCxcImlkXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5pZDp0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiP2lkOnVuZGVmaW5lZCxcInVzZXJuYW1lXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC51c2VybmFtZTp0eXBlb2YgdXNlcm5hbWUhPT1cInVuZGVmaW5lZFwiP3VzZXJuYW1lOnVuZGVmaW5lZCkpOztyZXR1cm4gYnVmLmpvaW4oXCJcIik7XG59OyIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcbihmdW5jdGlvbihmKXtpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCImJnR5cGVvZiBtb2R1bGUhPT1cInVuZGVmaW5lZFwiKXttb2R1bGUuZXhwb3J0cz1mKCl9ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoW10sZil9ZWxzZXt2YXIgZztpZih0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09XCJ1bmRlZmluZWRcIil7Zz1nbG9iYWx9ZWxzZSBpZih0eXBlb2Ygc2VsZiE9PVwidW5kZWZpbmVkXCIpe2c9c2VsZn1lbHNle2c9dGhpc31nLmphZGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogTWVyZ2UgdHdvIGF0dHJpYnV0ZSBvYmplY3RzIGdpdmluZyBwcmVjZWRlbmNlXG4gKiB0byB2YWx1ZXMgaW4gb2JqZWN0IGBiYC4gQ2xhc3NlcyBhcmUgc3BlY2lhbC1jYXNlZFxuICogYWxsb3dpbmcgZm9yIGFycmF5cyBhbmQgbWVyZ2luZy9qb2luaW5nIGFwcHJvcHJpYXRlbHlcbiAqIHJlc3VsdGluZyBpbiBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYVxuICogQHBhcmFtIHtPYmplY3R9IGJcbiAqIEByZXR1cm4ge09iamVjdH0gYVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5tZXJnZSA9IGZ1bmN0aW9uIG1lcmdlKGEsIGIpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICB2YXIgYXR0cnMgPSBhWzBdO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgYXR0cnMgPSBtZXJnZShhdHRycywgYVtpXSk7XG4gICAgfVxuICAgIHJldHVybiBhdHRycztcbiAgfVxuICB2YXIgYWMgPSBhWydjbGFzcyddO1xuICB2YXIgYmMgPSBiWydjbGFzcyddO1xuXG4gIGlmIChhYyB8fCBiYykge1xuICAgIGFjID0gYWMgfHwgW107XG4gICAgYmMgPSBiYyB8fCBbXTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYWMpKSBhYyA9IFthY107XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGJjKSkgYmMgPSBbYmNdO1xuICAgIGFbJ2NsYXNzJ10gPSBhYy5jb25jYXQoYmMpLmZpbHRlcihudWxscyk7XG4gIH1cblxuICBmb3IgKHZhciBrZXkgaW4gYikge1xuICAgIGlmIChrZXkgIT0gJ2NsYXNzJykge1xuICAgICAgYVtrZXldID0gYltrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhO1xufTtcblxuLyoqXG4gKiBGaWx0ZXIgbnVsbCBgdmFsYHMuXG4gKlxuICogQHBhcmFtIHsqfSB2YWxcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBudWxscyh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPSBudWxsICYmIHZhbCAhPT0gJyc7XG59XG5cbi8qKlxuICogam9pbiBhcnJheSBhcyBjbGFzc2VzLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmV4cG9ydHMuam9pbkNsYXNzZXMgPSBqb2luQ2xhc3NlcztcbmZ1bmN0aW9uIGpvaW5DbGFzc2VzKHZhbCkge1xuICByZXR1cm4gKEFycmF5LmlzQXJyYXkodmFsKSA/IHZhbC5tYXAoam9pbkNsYXNzZXMpIDpcbiAgICAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSA/IE9iamVjdC5rZXlzKHZhbCkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHZhbFtrZXldOyB9KSA6XG4gICAgW3ZhbF0pLmZpbHRlcihudWxscykuam9pbignICcpO1xufVxuXG4vKipcbiAqIFJlbmRlciB0aGUgZ2l2ZW4gY2xhc3Nlcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBjbGFzc2VzXG4gKiBAcGFyYW0ge0FycmF5LjxCb29sZWFuPn0gZXNjYXBlZFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnRzLmNscyA9IGZ1bmN0aW9uIGNscyhjbGFzc2VzLCBlc2NhcGVkKSB7XG4gIHZhciBidWYgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGVzY2FwZWQgJiYgZXNjYXBlZFtpXSkge1xuICAgICAgYnVmLnB1c2goZXhwb3J0cy5lc2NhcGUoam9pbkNsYXNzZXMoW2NsYXNzZXNbaV1dKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidWYucHVzaChqb2luQ2xhc3NlcyhjbGFzc2VzW2ldKSk7XG4gICAgfVxuICB9XG4gIHZhciB0ZXh0ID0gam9pbkNsYXNzZXMoYnVmKTtcbiAgaWYgKHRleHQubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcgY2xhc3M9XCInICsgdGV4dCArICdcIic7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5cbmV4cG9ydHMuc3R5bGUgPSBmdW5jdGlvbiAodmFsKSB7XG4gIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModmFsKS5tYXAoZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgICByZXR1cm4gc3R5bGUgKyAnOicgKyB2YWxbc3R5bGVdO1xuICAgIH0pLmpvaW4oJzsnKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG59O1xuLyoqXG4gKiBSZW5kZXIgdGhlIGdpdmVuIGF0dHJpYnV0ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGVzY2FwZWRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdGVyc2VcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZXhwb3J0cy5hdHRyID0gZnVuY3Rpb24gYXR0cihrZXksIHZhbCwgZXNjYXBlZCwgdGVyc2UpIHtcbiAgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgIHZhbCA9IGV4cG9ydHMuc3R5bGUodmFsKTtcbiAgfVxuICBpZiAoJ2Jvb2xlYW4nID09IHR5cGVvZiB2YWwgfHwgbnVsbCA9PSB2YWwpIHtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gJyAnICsgKHRlcnNlID8ga2V5IDoga2V5ICsgJz1cIicgKyBrZXkgKyAnXCInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfSBlbHNlIGlmICgwID09IGtleS5pbmRleE9mKCdkYXRhJykgJiYgJ3N0cmluZycgIT0gdHlwZW9mIHZhbCkge1xuICAgIGlmIChKU09OLnN0cmluZ2lmeSh2YWwpLmluZGV4T2YoJyYnKSAhPT0gLTEpIHtcbiAgICAgIGNvbnNvbGUud2FybignU2luY2UgSmFkZSAyLjAuMCwgYW1wZXJzYW5kcyAoYCZgKSBpbiBkYXRhIGF0dHJpYnV0ZXMgJyArXG4gICAgICAgICAgICAgICAgICAgJ3dpbGwgYmUgZXNjYXBlZCB0byBgJmFtcDtgJyk7XG4gICAgfTtcbiAgICBpZiAodmFsICYmIHR5cGVvZiB2YWwudG9JU09TdHJpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnNvbGUud2FybignSmFkZSB3aWxsIGVsaW1pbmF0ZSB0aGUgZG91YmxlIHF1b3RlcyBhcm91bmQgZGF0ZXMgaW4gJyArXG4gICAgICAgICAgICAgICAgICAgJ0lTTyBmb3JtIGFmdGVyIDIuMC4wJyk7XG4gICAgfVxuICAgIHJldHVybiAnICcgKyBrZXkgKyBcIj0nXCIgKyBKU09OLnN0cmluZ2lmeSh2YWwpLnJlcGxhY2UoLycvZywgJyZhcG9zOycpICsgXCInXCI7XG4gIH0gZWxzZSBpZiAoZXNjYXBlZCkge1xuICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbC50b0lTT1N0cmluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc29sZS53YXJuKCdKYWRlIHdpbGwgc3RyaW5naWZ5IGRhdGVzIGluIElTTyBmb3JtIGFmdGVyIDIuMC4wJyk7XG4gICAgfVxuICAgIHJldHVybiAnICcgKyBrZXkgKyAnPVwiJyArIGV4cG9ydHMuZXNjYXBlKHZhbCkgKyAnXCInO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbC50b0lTT1N0cmluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc29sZS53YXJuKCdKYWRlIHdpbGwgc3RyaW5naWZ5IGRhdGVzIGluIElTTyBmb3JtIGFmdGVyIDIuMC4wJyk7XG4gICAgfVxuICAgIHJldHVybiAnICcgKyBrZXkgKyAnPVwiJyArIHZhbCArICdcIic7XG4gIH1cbn07XG5cbi8qKlxuICogUmVuZGVyIHRoZSBnaXZlbiBhdHRyaWJ1dGVzIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge09iamVjdH0gZXNjYXBlZFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnRzLmF0dHJzID0gZnVuY3Rpb24gYXR0cnMob2JqLCB0ZXJzZSl7XG4gIHZhciBidWYgPSBbXTtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG5cbiAgaWYgKGtleXMubGVuZ3RoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXVxuICAgICAgICAsIHZhbCA9IG9ialtrZXldO1xuXG4gICAgICBpZiAoJ2NsYXNzJyA9PSBrZXkpIHtcbiAgICAgICAgaWYgKHZhbCA9IGpvaW5DbGFzc2VzKHZhbCkpIHtcbiAgICAgICAgICBidWYucHVzaCgnICcgKyBrZXkgKyAnPVwiJyArIHZhbCArICdcIicpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBidWYucHVzaChleHBvcnRzLmF0dHIoa2V5LCB2YWwsIGZhbHNlLCB0ZXJzZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBidWYuam9pbignJyk7XG59O1xuXG4vKipcbiAqIEVzY2FwZSB0aGUgZ2l2ZW4gc3RyaW5nIG9mIGBodG1sYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaHRtbFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxudmFyIGphZGVfZW5jb2RlX2h0bWxfcnVsZXMgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7J1xufTtcbnZhciBqYWRlX21hdGNoX2h0bWwgPSAvWyY8PlwiXS9nO1xuXG5mdW5jdGlvbiBqYWRlX2VuY29kZV9jaGFyKGMpIHtcbiAgcmV0dXJuIGphZGVfZW5jb2RlX2h0bWxfcnVsZXNbY10gfHwgYztcbn1cblxuZXhwb3J0cy5lc2NhcGUgPSBqYWRlX2VzY2FwZTtcbmZ1bmN0aW9uIGphZGVfZXNjYXBlKGh0bWwpe1xuICB2YXIgcmVzdWx0ID0gU3RyaW5nKGh0bWwpLnJlcGxhY2UoamFkZV9tYXRjaF9odG1sLCBqYWRlX2VuY29kZV9jaGFyKTtcbiAgaWYgKHJlc3VsdCA9PT0gJycgKyBodG1sKSByZXR1cm4gaHRtbDtcbiAgZWxzZSByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBSZS10aHJvdyB0aGUgZ2l2ZW4gYGVycmAgaW4gY29udGV4dCB0byB0aGVcbiAqIHRoZSBqYWRlIGluIGBmaWxlbmFtZWAgYXQgdGhlIGdpdmVuIGBsaW5lbm9gLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVyclxuICogQHBhcmFtIHtTdHJpbmd9IGZpbGVuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbGluZW5vXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLnJldGhyb3cgPSBmdW5jdGlvbiByZXRocm93KGVyciwgZmlsZW5hbWUsIGxpbmVubywgc3RyKXtcbiAgaWYgKCEoZXJyIGluc3RhbmNlb2YgRXJyb3IpKSB0aHJvdyBlcnI7XG4gIGlmICgodHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyB8fCAhZmlsZW5hbWUpICYmICFzdHIpIHtcbiAgICBlcnIubWVzc2FnZSArPSAnIG9uIGxpbmUgJyArIGxpbmVubztcbiAgICB0aHJvdyBlcnI7XG4gIH1cbiAgdHJ5IHtcbiAgICBzdHIgPSBzdHIgfHwgcmVxdWlyZSgnZnMnKS5yZWFkRmlsZVN5bmMoZmlsZW5hbWUsICd1dGY4JylcbiAgfSBjYXRjaCAoZXgpIHtcbiAgICByZXRocm93KGVyciwgbnVsbCwgbGluZW5vKVxuICB9XG4gIHZhciBjb250ZXh0ID0gM1xuICAgICwgbGluZXMgPSBzdHIuc3BsaXQoJ1xcbicpXG4gICAgLCBzdGFydCA9IE1hdGgubWF4KGxpbmVubyAtIGNvbnRleHQsIDApXG4gICAgLCBlbmQgPSBNYXRoLm1pbihsaW5lcy5sZW5ndGgsIGxpbmVubyArIGNvbnRleHQpO1xuXG4gIC8vIEVycm9yIGNvbnRleHRcbiAgdmFyIGNvbnRleHQgPSBsaW5lcy5zbGljZShzdGFydCwgZW5kKS5tYXAoZnVuY3Rpb24obGluZSwgaSl7XG4gICAgdmFyIGN1cnIgPSBpICsgc3RhcnQgKyAxO1xuICAgIHJldHVybiAoY3VyciA9PSBsaW5lbm8gPyAnICA+ICcgOiAnICAgICcpXG4gICAgICArIGN1cnJcbiAgICAgICsgJ3wgJ1xuICAgICAgKyBsaW5lO1xuICB9KS5qb2luKCdcXG4nKTtcblxuICAvLyBBbHRlciBleGNlcHRpb24gbWVzc2FnZVxuICBlcnIucGF0aCA9IGZpbGVuYW1lO1xuICBlcnIubWVzc2FnZSA9IChmaWxlbmFtZSB8fCAnSmFkZScpICsgJzonICsgbGluZW5vXG4gICAgKyAnXFxuJyArIGNvbnRleHQgKyAnXFxuXFxuJyArIGVyci5tZXNzYWdlO1xuICB0aHJvdyBlcnI7XG59O1xuXG5leHBvcnRzLkRlYnVnSXRlbSA9IGZ1bmN0aW9uIERlYnVnSXRlbShsaW5lbm8sIGZpbGVuYW1lKSB7XG4gIHRoaXMubGluZW5vID0gbGluZW5vO1xuICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG59XG5cbn0se1wiZnNcIjoyfV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cbn0se31dfSx7fSxbMV0pKDEpXG59KTtcbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIl19\n"],"sourceRoot":"/source/"}