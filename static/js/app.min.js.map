{"version":3,"sources":["app.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","IntApp","window","AccountPageView","BookPageView","QuestionPageView","ActivityPageView","account-page","activity-page","book-page","question-page",2,3,"BaseCollection","BaseModel","ModalView","PaginationView","TableView","User","UserModalView","UserView","Users","UsersView","extend","child","parent","ctor","this","constructor","key","hasProp","prototype","__super__","hasOwnProperty","superClass","apply","arguments","urlRoot","defaults","username","password","validation","blank","message","minLength","activate","attrs","active","save","deactivate","url","model","tagName","template","events","click #deactivate","click #activate","initialize","listenTo","render","remove","$el","html","toJSON","Backbone","View","bindings","#username","#password","row","pageNavView","userModalView","users","usersView","el","$","collection","after","id","fetch","reset","data/base-collection","data/base-model","templates/user-modal","templates/user-row","views/modal-view","views/pagination-view","views/table-view",4,"Activities","ActivitiesView","Activity","ActivityView","DATETIME_FORMAT","info_field_1","info_field_2","info_field_3","data","end_at","front_host","now","start_at","moment","activities","activitiesView","templates/activity-row",5,"QuizBook","QuizBookModalView","QuizBookView","QuizBooks","QuizBooksView","title","#title","quizBookModalView","quizBooks","quizBooksView","templates/book-modal","templates/book-row",6,"parse","meta","objects","Collection",7,"origUrl","charAt","_","isArray","Model",8,"Question","QuestionListPanelView","QuestionModalView","QuestionView","Questions","QuestionsView","char2Int","int2Char","String","fromCharCode","parseInt","c","charCodeAt","type","correct_option","option_A","option_B","option_C","option_D","option_E","option_F","content","fn","value","isString","split","isEmpty","every","get","state","options","click #delete","destroy","correct","map","join","_bindings","code","j","len","ref","[name=content]","[name=type]","observe","selectOptions","label","setOptions","silent","[name=correct_option]","onGet","onSet","show","isNew","set","book","changeType","curVal","prop","stickit","onInvalidField","name","errors","error","field","group","closest","find","append","addClass","change #book","val","click #loadBook","bookId","panelView","questionModalView","questions","questionsView","templates/question-modal","templates/question-row",9,"setElement","show.bs.modal","hidden.bs.modal","click [type=submit]","relatedTarget","bindValidation","validate","hidden","unstickit","stopListening","xhr","preventDefault","then","_this","add","modal","onValidField","removeClass",10,"className","click a[data-id]","loadPage","currentTarget","page","templates/page-nav",11,"prepend","tbody","empty","each",12,"jade","locals","jade_interp","buf","locals_for_with","chances","multi","multi_points","single","single_points","status","time_limit","user","welcome","push","escape","attr","undefined","jade/runtime",13,14,"button",15,"Math","end","pages","start","max","min","cls",16,"jade_mixins","block","attributes","$$obj","$index","$$l","option",17,18,"placeholder",19,"admin",20,"global","define","amd","g","self","l","nulls","joinClasses","Array","Object","keys","filter","jade_encode_char","jade_encode_html_rules","jade_escape","result","replace","jade_match_html","merge","b","ac","bc","concat","classes","escaped","text","style","terse","indexOf","JSON","stringify","console","warn","toISOString","obj","&","<",">","\"","rethrow","err","filename","lineno","str","readFileSync","ex","context","lines","slice","line","curr","path","DebugItem","fs"],"mappings":"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","file":"app.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar IntApp;\n\nwindow.IntApp = IntApp = {\n  AccountPageView: require('account-page'),\n  BookPageView: require('book-page'),\n  QuestionPageView: require('question-page'),\n  ActivityPageView: require('activity-page')\n};\n\n\n},{\"account-page\":3,\"activity-page\":4,\"book-page\":5,\"question-page\":8}],2:[function(require,module,exports){\n\n},{}],3:[function(require,module,exports){\nvar AccountPageView, BaseCollection, BaseModel, ModalView, PaginationView, TableView, User, UserModalView, UserView, Users, UsersView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseModel = require('data/base-model');\n\nBaseCollection = require('data/base-collection');\n\nTableView = require('views/table-view');\n\nPaginationView = require('views/pagination-view');\n\nModalView = require('views/modal-view');\n\nUser = (function(superClass) {\n  extend(User, superClass);\n\n  function User() {\n    return User.__super__.constructor.apply(this, arguments);\n  }\n\n  User.prototype.urlRoot = '/api/v1/user';\n\n  User.prototype.defaults = {\n    username: '',\n    password: ''\n  };\n\n  User.prototype.validation = {\n    username: {\n      blank: false,\n      message: '用户名不能为空'\n    },\n    password: {\n      blank: false,\n      minLength: 6,\n      message: '密码不能少于6位'\n    }\n  };\n\n  User.prototype.activate = function() {\n    var attrs;\n    attrs = {\n      active: true\n    };\n    return this.save(attrs, {\n      attrs: attrs\n    });\n  };\n\n  User.prototype.deactivate = function() {\n    var attrs;\n    attrs = {\n      active: false\n    };\n    return this.save(attrs, {\n      attrs: attrs\n    });\n  };\n\n  return User;\n\n})(BaseModel);\n\nUsers = (function(superClass) {\n  extend(Users, superClass);\n\n  function Users() {\n    return Users.__super__.constructor.apply(this, arguments);\n  }\n\n  Users.prototype.url = '/api/v1/user';\n\n  Users.prototype.model = User;\n\n  return Users;\n\n})(BaseCollection);\n\nUserView = (function(superClass) {\n  extend(UserView, superClass);\n\n  function UserView() {\n    return UserView.__super__.constructor.apply(this, arguments);\n  }\n\n  UserView.prototype.tagName = 'tr';\n\n  UserView.prototype.template = require('templates/user-row');\n\n  UserView.prototype.events = {\n    'click #deactivate': function() {\n      return this.model.deactivate();\n    },\n    'click #activate': function() {\n      return this.model.activate();\n    }\n  };\n\n  UserView.prototype.initialize = function() {\n    this.listenTo(this.model, \"sync\", this.render);\n    return this.listenTo(this.model, \"destroy\", this.remove);\n  };\n\n  UserView.prototype.render = function() {\n    this.$el.html(this.template(this.model.toJSON()));\n    return this;\n  };\n\n  return UserView;\n\n})(Backbone.View);\n\nUserModalView = (function(superClass) {\n  extend(UserModalView, superClass);\n\n  function UserModalView() {\n    return UserModalView.__super__.constructor.apply(this, arguments);\n  }\n\n  UserModalView.prototype.template = require('templates/user-modal');\n\n  UserModalView.prototype.bindings = {\n    '#username': 'username',\n    '#password': 'password'\n  };\n\n  return UserModalView;\n\n})(ModalView);\n\nUsersView = (function(superClass) {\n  extend(UsersView, superClass);\n\n  function UsersView() {\n    return UsersView.__super__.constructor.apply(this, arguments);\n  }\n\n  UsersView.prototype.row = function(model) {\n    return new UserView({\n      model: model\n    });\n  };\n\n  return UsersView;\n\n})(TableView);\n\nmodule.exports = AccountPageView = (function(superClass) {\n  extend(AccountPageView, superClass);\n\n  function AccountPageView() {\n    return AccountPageView.__super__.constructor.apply(this, arguments);\n  }\n\n  AccountPageView.prototype.render = function() {\n    var pageNavView, userModalView, users, usersView;\n    users = new Users;\n    usersView = new UsersView({\n      el: $('.table-container'),\n      collection: users\n    });\n    pageNavView = new PaginationView({\n      collection: users\n    });\n    usersView.$el.after(pageNavView.render().$el);\n    userModalView = new UserModalView({\n      id: 'userModalForm',\n      collection: users\n    });\n    userModalView.render();\n    users.fetch({\n      reset: true\n    });\n    return this;\n  };\n\n  return AccountPageView;\n\n})(Backbone.View);\n\n\n},{\"data/base-collection\":6,\"data/base-model\":7,\"templates/user-modal\":18,\"templates/user-row\":19,\"views/modal-view\":9,\"views/pagination-view\":10,\"views/table-view\":11}],4:[function(require,module,exports){\nvar Activities, ActivitiesView, Activity, ActivityPageView, ActivityView, BaseCollection, BaseModel, DATETIME_FORMAT, ModalView, PaginationView, TableView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseModel = require('data/base-model');\n\nBaseCollection = require('data/base-collection');\n\nTableView = require('views/table-view');\n\nPaginationView = require('views/pagination-view');\n\nModalView = require('views/modal-view');\n\nDATETIME_FORMAT = 'YYYY-MM-DD HH:mm:ss';\n\nActivity = (function(superClass) {\n  extend(Activity, superClass);\n\n  function Activity() {\n    return Activity.__super__.constructor.apply(this, arguments);\n  }\n\n  Activity.prototype.urlRoot = '/api/v1/activity/';\n\n  Activity.prototype.defaults = {\n    \"info_field_1\": \"\",\n    \"info_field_2\": \"\",\n    \"info_field_3\": \"\"\n  };\n\n  return Activity;\n\n})(BaseModel);\n\nActivities = (function(superClass) {\n  extend(Activities, superClass);\n\n  function Activities() {\n    return Activities.__super__.constructor.apply(this, arguments);\n  }\n\n  Activities.prototype.url = '/api/v1/activity/';\n\n  Activities.prototype.model = Activity;\n\n  return Activities;\n\n})(BaseCollection);\n\nActivityView = (function(superClass) {\n  extend(ActivityView, superClass);\n\n  function ActivityView() {\n    return ActivityView.__super__.constructor.apply(this, arguments);\n  }\n\n  ActivityView.prototype.tagName = 'tr';\n\n  ActivityView.prototype.template = require('templates/activity-row');\n\n  ActivityView.prototype.render = function() {\n    var data, end_at, front_host, now, start_at;\n    front_host = window.front_host || '/';\n    data = this.model.toJSON();\n    start_at = new moment(data.start_at, DATETIME_FORMAT);\n    end_at = new moment(data.end_at, DATETIME_FORMAT);\n    now = new moment();\n    data['status'] = (start_at < now && now < end_at) ? '开启' : '关闭';\n    data['url'] = \"http://\" + front_host + \"/index.html#\" + data['code'];\n    data['type'] = (function() {\n      switch (data['type']) {\n        case 0:\n          return '普通';\n        case 1:\n          return '限时';\n        case 2:\n          return '挑战';\n        default:\n          return '未知';\n      }\n    })();\n    this.$el.html(this.template(data));\n    return this;\n  };\n\n  return ActivityView;\n\n})(Backbone.View);\n\nActivitiesView = (function(superClass) {\n  extend(ActivitiesView, superClass);\n\n  function ActivitiesView() {\n    return ActivitiesView.__super__.constructor.apply(this, arguments);\n  }\n\n  ActivitiesView.prototype.row = function(model) {\n    return new ActivityView({\n      model: model\n    });\n  };\n\n  return ActivitiesView;\n\n})(TableView);\n\nmodule.exports = ActivityPageView = (function(superClass) {\n  extend(ActivityPageView, superClass);\n\n  function ActivityPageView() {\n    return ActivityPageView.__super__.constructor.apply(this, arguments);\n  }\n\n  ActivityPageView.prototype.render = function() {\n    var activities, activitiesView, pageNavView;\n    activities = new Activities;\n    activitiesView = new ActivitiesView({\n      el: $('#activity-table-container'),\n      collection: activities\n    });\n    pageNavView = new PaginationView({\n      collection: activities\n    });\n    activitiesView.$el.after(pageNavView.render().$el);\n    activities.fetch({\n      reset: true\n    });\n    return this;\n  };\n\n  return ActivityPageView;\n\n})(Backbone.View);\n\n\n},{\"data/base-collection\":6,\"data/base-model\":7,\"templates/activity-row\":12,\"views/modal-view\":9,\"views/pagination-view\":10,\"views/table-view\":11}],5:[function(require,module,exports){\nvar BaseCollection, BaseModel, BookPageView, ModalView, PaginationView, QuizBook, QuizBookModalView, QuizBookView, QuizBooks, QuizBooksView, TableView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseModel = require('data/base-model');\n\nBaseCollection = require('data/base-collection');\n\nTableView = require('views/table-view');\n\nPaginationView = require('views/pagination-view');\n\nModalView = require('views/modal-view');\n\nQuizBook = (function(superClass) {\n  extend(QuizBook, superClass);\n\n  function QuizBook() {\n    return QuizBook.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBook.prototype.urlRoot = '/api/v1/quizbook';\n\n  QuizBook.prototype.validation = {\n    title: {\n      blank: false,\n      message: '题库名不能为空'\n    }\n  };\n\n  return QuizBook;\n\n})(BaseModel);\n\nQuizBooks = (function(superClass) {\n  extend(QuizBooks, superClass);\n\n  function QuizBooks() {\n    return QuizBooks.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBooks.prototype.url = '/api/v1/quizbook';\n\n  QuizBooks.prototype.model = QuizBook;\n\n  return QuizBooks;\n\n})(BaseCollection);\n\nQuizBookView = (function(superClass) {\n  extend(QuizBookView, superClass);\n\n  function QuizBookView() {\n    return QuizBookView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBookView.prototype.tagName = 'tr';\n\n  QuizBookView.prototype.template = require('templates/book-row');\n\n  QuizBookView.prototype.initialize = function() {\n    return this.listenTo(this.model, \"sync\", this.render);\n  };\n\n  QuizBookView.prototype.render = function() {\n    this.$el.html(this.template(this.model.toJSON()));\n    return this;\n  };\n\n  return QuizBookView;\n\n})(Backbone.View);\n\nQuizBookModalView = (function(superClass) {\n  extend(QuizBookModalView, superClass);\n\n  function QuizBookModalView() {\n    return QuizBookModalView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBookModalView.prototype.template = require('templates/book-modal');\n\n  QuizBookModalView.prototype.bindings = {\n    '#title': 'title'\n  };\n\n  return QuizBookModalView;\n\n})(ModalView);\n\nQuizBooksView = (function(superClass) {\n  extend(QuizBooksView, superClass);\n\n  function QuizBooksView() {\n    return QuizBooksView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuizBooksView.prototype.row = function(model) {\n    return new QuizBookView({\n      model: model\n    });\n  };\n\n  return QuizBooksView;\n\n})(TableView);\n\nmodule.exports = BookPageView = (function(superClass) {\n  extend(BookPageView, superClass);\n\n  function BookPageView() {\n    return BookPageView.__super__.constructor.apply(this, arguments);\n  }\n\n  BookPageView.prototype.render = function() {\n    var pageNavView, quizBookModalView, quizBooks, quizBooksView;\n    quizBooks = new QuizBooks;\n    quizBooksView = new QuizBooksView({\n      el: $('#quizbook-table-container'),\n      collection: quizBooks\n    });\n    pageNavView = new PaginationView({\n      collection: quizBooks\n    });\n    quizBooksView.$el.after(pageNavView.render().$el);\n    quizBookModalView = new QuizBookModalView({\n      id: 'bookModalForm',\n      collection: quizBooks\n    });\n    quizBookModalView.render();\n    quizBooks.fetch({\n      reset: true\n    });\n    return this;\n  };\n\n  return BookPageView;\n\n})(Backbone.View);\n\n\n},{\"data/base-collection\":6,\"data/base-model\":7,\"templates/book-modal\":13,\"templates/book-row\":14,\"views/modal-view\":9,\"views/pagination-view\":10,\"views/table-view\":11}],6:[function(require,module,exports){\nvar BaseCollection,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseCollection = (function(superClass) {\n  extend(BaseCollection, superClass);\n\n  function BaseCollection() {\n    return BaseCollection.__super__.constructor.apply(this, arguments);\n  }\n\n  BaseCollection.prototype.parse = function(data) {\n    if (data && data.meta) {\n      this.meta = data.meta;\n    }\n    return data && data.objects || data;\n  };\n\n  return BaseCollection;\n\n})(Backbone.Collection);\n\nmodule.exports = BaseCollection;\n\n\n},{}],7:[function(require,module,exports){\nvar BaseModel,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseModel = (function(superClass) {\n  extend(BaseModel, superClass);\n\n  function BaseModel() {\n    return BaseModel.__super__.constructor.apply(this, arguments);\n  }\n\n  BaseModel.prototype.url = function() {\n    var origUrl;\n    origUrl = BaseModel.__super__.url.call(this);\n    return origUrl + (origUrl.length > 0 && origUrl.charAt(origUrl.length - 1) === '/' ? '' : '/');\n  };\n\n  BaseModel.prototype.parse = function(data) {\n    if (data && data.objects && _.isArray(data.objects)) {\n      return data.objects[0] || {};\n    }\n    return data;\n  };\n\n  return BaseModel;\n\n})(Backbone.Model);\n\nmodule.exports = BaseModel;\n\n\n},{}],8:[function(require,module,exports){\nvar BaseCollection, BaseModel, ModalView, PaginationView, Question, QuestionListPanelView, QuestionModalView, QuestionPageView, QuestionView, Questions, QuestionsView, TableView, char2Int, int2Char,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nBaseModel = require('data/base-model');\n\nBaseCollection = require('data/base-collection');\n\nTableView = require('views/table-view');\n\nPaginationView = require('views/pagination-view');\n\nModalView = require('views/modal-view');\n\nint2Char = function(i) {\n  return String.fromCharCode(64 + parseInt(i));\n};\n\nchar2Int = function(c) {\n  if (!!c) {\n    return c.charCodeAt(0);\n  } else {\n    return c;\n  }\n};\n\nQuestion = (function(superClass) {\n  extend(Question, superClass);\n\n  function Question() {\n    return Question.__super__.constructor.apply(this, arguments);\n  }\n\n  Question.prototype.urlRoot = '/api/v1/question/';\n\n  Question.prototype.defaults = {\n    \"type\": 1,\n    \"correct_option\": \"1\",\n    \"option_A\": \"\",\n    \"option_B\": \"\",\n    \"option_C\": \"\",\n    \"option_D\": \"\",\n    \"option_E\": \"\",\n    \"option_F\": \"\"\n  };\n\n  Question.prototype.validation = {\n    content: {\n      blank: false,\n      message: '题目内容不能为空'\n    },\n    type: {\n      blank: false,\n      fn: function(value) {\n        return value === 1 || value === 2;\n      },\n      message: '题目类型必须是多选或单选'\n    },\n    correct_option: {\n      blank: false,\n      fn: function(value) {\n        value = (function() {\n          switch (false) {\n            case !_.isArray(value):\n              return value;\n            case !_.isString(value):\n              return value.split(',');\n            default:\n              return false;\n          }\n        })();\n        return !(_.isEmpty(value)) && _.every(value, (function(i) {\n          return this.get('option_' + int2Char(i));\n        }), this);\n      },\n      message: '正确答案设置出错，注意对应的选项是否设置了答案'\n    }\n  };\n\n  return Question;\n\n})(BaseModel);\n\nQuestions = (function(superClass) {\n  extend(Questions, superClass);\n\n  function Questions() {\n    return Questions.__super__.constructor.apply(this, arguments);\n  }\n\n  Questions.prototype.url = '/api/v1/question/';\n\n  Questions.prototype.model = Question;\n\n  Questions.prototype.state = {};\n\n  Questions.prototype.fetch = function(options) {\n    var data;\n    options = _.extend({}, options);\n    data = options.data;\n    options.data = _.extend({}, this.state, data);\n    return Questions.__super__.fetch.call(this, options);\n  };\n\n  return Questions;\n\n})(BaseCollection);\n\nQuestionView = (function(superClass) {\n  extend(QuestionView, superClass);\n\n  function QuestionView() {\n    return QuestionView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionView.prototype.tagName = 'tr';\n\n  QuestionView.prototype.template = require('templates/question-row');\n\n  QuestionView.prototype.events = {\n    'click #delete': function() {\n      return this.model.destroy();\n    }\n  };\n\n  QuestionView.prototype.initialize = function() {\n    this.listenTo(this.model, \"sync\", this.render);\n    return this.listenTo(this.model, \"destroy\", this.remove);\n  };\n\n  QuestionView.prototype.render = function() {\n    var correct, data;\n    data = this.model.toJSON();\n    correct = data['correct_option'].split(',');\n    data['correct_option'] = _.map(correct, int2Char).join();\n    data['type'] = (function() {\n      switch (data['type']) {\n        case 1:\n          return '单选';\n        case 2:\n          return '多选';\n        default:\n          return '多选';\n      }\n    })();\n    this.$el.html(this.template(data));\n    return this;\n  };\n\n  return QuestionView;\n\n})(Backbone.View);\n\nQuestionsView = (function(superClass) {\n  extend(QuestionsView, superClass);\n\n  function QuestionsView() {\n    return QuestionsView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionsView.prototype.row = function(model) {\n    return new QuestionView({\n      model: model\n    });\n  };\n\n  return QuestionsView;\n\n})(TableView);\n\nQuestionModalView = (function(superClass) {\n  extend(QuestionModalView, superClass);\n\n  function QuestionModalView() {\n    return QuestionModalView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionModalView.prototype.template = require('templates/question-modal');\n\n  QuestionModalView.prototype.bindings = function() {\n    var _bindings, code, j, len, ref;\n    _bindings = {\n      '[name=content]': 'content',\n      '[name=type]': {\n        observe: 'type',\n        selectOptions: {\n          collection: function() {\n            return [\n              {\n                label: '单选',\n                value: 1\n              }, {\n                label: '多选',\n                value: 2\n              }\n            ];\n          }\n        },\n        setOptions: {\n          silent: false\n        }\n      },\n      '[name=correct_option]': {\n        observe: 'correct_option',\n        onGet: function(value) {\n          return value.split(',');\n        },\n        onSet: function(value) {\n          if (_.isArray(value)) {\n            return value.join(',');\n          } else {\n            return value;\n          }\n        }\n      }\n    };\n    ref = ['A', 'B', 'C', 'D', 'E', 'F'];\n    for (j = 0, len = ref.length; j < len; j++) {\n      code = ref[j];\n      _bindings[\"[name=option_\" + code + \"]\"] = 'option_' + code;\n    }\n    return _bindings;\n  };\n\n  QuestionModalView.prototype.show = function(e) {\n    QuestionModalView.__super__.show.call(this, e);\n    if (this.model.isNew()) {\n      this.model.set('book', this.collection.state.book);\n    }\n    this.changeType(this.model, this.model.get('type'));\n    return this.listenTo(this.model, \"change:type\", this.changeType);\n  };\n\n  QuestionModalView.prototype.changeType = function(model, value, options) {\n    var curVal, type;\n    type = value === 1 ? 'radio' : 'checkbox';\n    curVal = model.get('correct_option');\n    if (type === 'radio' && curVal) {\n      model.set('correct_option', curVal[0]);\n    }\n    this.$('input[name=correct_option]').prop('type', type);\n    return this.stickit();\n  };\n\n  QuestionModalView.prototype.onInvalidField = function(name, value, errors, model) {\n    var error, field, group, j, len;\n    if (name !== 'correct_option') {\n      return QuestionModalView.__super__.onInvalidField.call(this, name, value, errors, model);\n    } else {\n      field = this.$(\"[name=\" + name + \"]\");\n      group = field.closest('.form-group');\n      group.find('.help-block').remove();\n      for (j = 0, len = errors.length; j < len; j++) {\n        error = errors[j];\n        group.append(\"<div class='help-block col-sm-offset-2'>\" + error + \"</div>\");\n      }\n      return group.addClass('has-error');\n    }\n  };\n\n  return QuestionModalView;\n\n})(ModalView);\n\nQuestionListPanelView = (function(superClass) {\n  extend(QuestionListPanelView, superClass);\n\n  function QuestionListPanelView() {\n    return QuestionListPanelView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionListPanelView.prototype.events = {\n    'change #book': function() {\n      return this.collection.state.book = this.$('#book').val();\n    },\n    'click #loadBook': function() {\n      return this.collection.fetch({\n        reset: true\n      });\n    }\n  };\n\n  return QuestionListPanelView;\n\n})(Backbone.View);\n\nmodule.exports = QuestionPageView = (function(superClass) {\n  extend(QuestionPageView, superClass);\n\n  function QuestionPageView() {\n    return QuestionPageView.__super__.constructor.apply(this, arguments);\n  }\n\n  QuestionPageView.prototype.render = function(bookId) {\n    var pageNavView, panelView, questionModalView, questions, questionsView;\n    if (!bookId) {\n      bookId = $('form select[name=book]').val();\n    }\n    questions = new Questions;\n    questions.state.book = bookId;\n    panelView = new QuestionListPanelView({\n      el: $('.table-control'),\n      collection: questions\n    });\n    questionsView = new QuestionsView({\n      el: $('#question-table-container'),\n      collection: questions\n    });\n    pageNavView = new PaginationView({\n      collection: questions\n    });\n    questionsView.$el.after(pageNavView.render().$el);\n    questionModalView = new QuestionModalView({\n      id: 'questionModalForm',\n      collection: questions\n    });\n    questionModalView.render();\n    questions.fetch({\n      reset: true\n    });\n    return QuestionPageView.__super__.render.call(this);\n  };\n\n  return QuestionPageView;\n\n})(Backbone.View);\n\n\n},{\"data/base-collection\":6,\"data/base-model\":7,\"templates/question-modal\":16,\"templates/question-row\":17,\"views/modal-view\":9,\"views/pagination-view\":10,\"views/table-view\":11}],9:[function(require,module,exports){\nvar ModalView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nmodule.exports = ModalView = (function(superClass) {\n  extend(ModalView, superClass);\n\n  function ModalView() {\n    return ModalView.__super__.constructor.apply(this, arguments);\n  }\n\n  ModalView.prototype.render = function() {\n    $('#' + this.id).remove();\n    $('body').append(this.template({\n      id: this.id\n    }));\n    this.setElement($('#' + this.id));\n    return this;\n  };\n\n  ModalView.prototype.events = {\n    'show.bs.modal': 'show',\n    'hidden.bs.modal': 'hidden',\n    'click [type=submit]': 'save'\n  };\n\n  ModalView.prototype.show = function(e) {\n    var data;\n    data = $(e.relatedTarget).data();\n    this.model = data.id ? this.collection.get(data.id) : new this.collection.model;\n    this.stickit();\n    this.bindValidation();\n    if (!this.model.isNew()) {\n      return this.model.validate();\n    }\n  };\n\n  ModalView.prototype.hidden = function() {\n    this.unstickit();\n    this.stopListening();\n    return delete this.model;\n  };\n\n  ModalView.prototype.save = function(e) {\n    var xhr;\n    e.preventDefault();\n    xhr = this.model.save();\n    if (xhr) {\n      return xhr.then(((function(_this) {\n        return function() {\n          _this.collection.add(_this.model);\n          return _this.$el.modal('hide');\n        };\n      })(this)));\n    }\n  };\n\n  ModalView.prototype.onValidField = function(name, value, model) {\n    var field, group;\n    field = this.$(\"[name=\" + name + \"]\");\n    group = field.closest('.form-group');\n    group.removeClass('has-error');\n    return group.find('.help-block').remove();\n  };\n\n  ModalView.prototype.onInvalidField = function(name, value, errors, model) {\n    var error, field, group, i, len;\n    field = this.$(\"[name=\" + name + \"]\");\n    group = field.closest('.form-group');\n    group.find('.help-block').remove();\n    for (i = 0, len = errors.length; i < len; i++) {\n      error = errors[i];\n      field.after(\"<div class='help-block'>\" + error + \"</div>\");\n    }\n    return group.addClass('has-error');\n  };\n\n  return ModalView;\n\n})(Backbone.View);\n\n\n},{}],10:[function(require,module,exports){\nvar PaginationView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nmodule.exports = PaginationView = (function(superClass) {\n  extend(PaginationView, superClass);\n\n  function PaginationView() {\n    return PaginationView.__super__.constructor.apply(this, arguments);\n  }\n\n  PaginationView.prototype.tagName = 'nav';\n\n  PaginationView.prototype.className = 'page-nav';\n\n  PaginationView.prototype.template = require('templates/page-nav');\n\n  PaginationView.prototype.events = {\n    'click a[data-id]': 'loadPage'\n  };\n\n  PaginationView.prototype.initialize = function() {\n    return this.listenTo(this.collection, 'reset', this.render);\n  };\n\n  PaginationView.prototype.render = function() {\n    if (this.collection.meta) {\n      this.$el.html(this.template(this.collection.meta));\n    }\n    return this;\n  };\n\n  PaginationView.prototype.loadPage = function(e) {\n    var data;\n    e.preventDefault();\n    data = $(e.currentTarget).data();\n    return this.collection.fetch({\n      data: {\n        page: data.id\n      },\n      reset: true\n    });\n  };\n\n  return PaginationView;\n\n})(Backbone.View);\n\n\n},{\"templates/page-nav\":15}],11:[function(require,module,exports){\nvar TableView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nmodule.exports = TableView = (function(superClass) {\n  extend(TableView, superClass);\n\n  function TableView() {\n    return TableView.__super__.constructor.apply(this, arguments);\n  }\n\n  TableView.prototype.initialize = function() {\n    this.listenTo(this.collection, 'add', this.add);\n    return this.listenTo(this.collection, 'reset', this.render);\n  };\n\n  TableView.prototype.row = function(model) {\n    throw new Error('Not implemented');\n  };\n\n  TableView.prototype.add = function(model) {\n    var row;\n    row = this.row(model);\n    row.$el.addClass('success');\n    return this.$('table tbody').prepend(row.render().$el);\n  };\n\n  TableView.prototype.render = function(collection) {\n    var tbody;\n    tbody = this.$('table tbody');\n    tbody.empty();\n    collection.each((function(model) {\n      return tbody.append(this.row(model).render().$el);\n    }), this);\n    return this;\n  };\n\n  return TableView;\n\n})(Backbone.View);\n\n\n},{}],12:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (book, chances, end_at, id, info_field_2, info_field_3, multi, multi_points, name, single, single_points, start_at, status, time_limit, type, url, user, welcome) {\nbuf.push(\"<td>\" + (jade.escape(null == (jade_interp = id) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = name) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = book.title) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = type) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = chances) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = time_limit) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = single) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = multi) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = single_points) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = multi_points) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = status) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = start_at) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = end_at) ? \"\" : jade_interp)) + \"</td><td>\" + (null == (jade_interp = welcome) ? \"\" : jade_interp) + \"</td><td>\" + (jade.escape(null == (jade_interp = info_field_3) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = info_field_2) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = info_field_3) ? \"\" : jade_interp)) + \"</td><td><a\" + (jade.attr(\"href\", url, true, false)) + \">\" + (jade.escape(null == (jade_interp = url) ? \"\" : jade_interp)) + \"</a></td><td><a\" + (jade.attr(\"href\", \"/activities/edit/\" + (id) + \"\", true, false)) + \" class=\\\"btn btn-primary btn-xs\\\">编辑</a></td><td>\" + (jade.escape(null == (jade_interp = user.username) ? \"\" : jade_interp)) + \"</td>\");}.call(this,\"book\" in locals_for_with?locals_for_with.book:typeof book!==\"undefined\"?book:undefined,\"chances\" in locals_for_with?locals_for_with.chances:typeof chances!==\"undefined\"?chances:undefined,\"end_at\" in locals_for_with?locals_for_with.end_at:typeof end_at!==\"undefined\"?end_at:undefined,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined,\"info_field_2\" in locals_for_with?locals_for_with.info_field_2:typeof info_field_2!==\"undefined\"?info_field_2:undefined,\"info_field_3\" in locals_for_with?locals_for_with.info_field_3:typeof info_field_3!==\"undefined\"?info_field_3:undefined,\"multi\" in locals_for_with?locals_for_with.multi:typeof multi!==\"undefined\"?multi:undefined,\"multi_points\" in locals_for_with?locals_for_with.multi_points:typeof multi_points!==\"undefined\"?multi_points:undefined,\"name\" in locals_for_with?locals_for_with.name:typeof name!==\"undefined\"?name:undefined,\"single\" in locals_for_with?locals_for_with.single:typeof single!==\"undefined\"?single:undefined,\"single_points\" in locals_for_with?locals_for_with.single_points:typeof single_points!==\"undefined\"?single_points:undefined,\"start_at\" in locals_for_with?locals_for_with.start_at:typeof start_at!==\"undefined\"?start_at:undefined,\"status\" in locals_for_with?locals_for_with.status:typeof status!==\"undefined\"?status:undefined,\"time_limit\" in locals_for_with?locals_for_with.time_limit:typeof time_limit!==\"undefined\"?time_limit:undefined,\"type\" in locals_for_with?locals_for_with.type:typeof type!==\"undefined\"?type:undefined,\"url\" in locals_for_with?locals_for_with.url:typeof url!==\"undefined\"?url:undefined,\"user\" in locals_for_with?locals_for_with.user:typeof user!==\"undefined\"?user:undefined,\"welcome\" in locals_for_with?locals_for_with.welcome:typeof welcome!==\"undefined\"?welcome:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":20}],13:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (id) {\nbuf.push(\"<div\" + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + \" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"bookFormLabel\\\" aria-hidden=\\\"true\\\" class=\\\"modal fade\\\"><div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"close\\\"><span aria-hidden=\\\"true\\\">&times;</span><span class=\\\"sr-only\\\">关闭</span></button><h4 id=\\\"bookFormLabel\\\" class=\\\"modal-title\\\">输入题库信息</h4></div><div class=\\\"modal-body\\\"><form><div class=\\\"form-group\\\"><label for=\\\"title\\\" class=\\\"control-label\\\">题库名</label><input type=\\\"text\\\" id=\\\"title\\\" placeholder=\\\"题库名\\\" name=\\\"title\\\" class=\\\"form-control\\\"/></div></form></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">取消</button><button id=\\\"save\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\">保存</button></div></div></div></div>\");}.call(this,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":20}],14:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (button, id, title, user) {\nbuf.push(\"<td>\" + (jade.escape(null == (jade_interp = title) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = user.username) ? \"\" : jade_interp)) + \"</td><td><a\" + (jade.attr(\"href\", '/quizbooks/' + (id) + '/questions', true, false)) + \" class=\\\"btn btn-default btn-xs\\\">查看</a><a\" + (jade.attr(\"type\", button, true, false)) + (jade.attr(\"data-id\", id, true, false)) + \" data-toggle=\\\"modal\\\" data-target=\\\"#bookModalForm\\\" class=\\\"btn btn-primary btn-xs\\\">编辑</a></td>\");}.call(this,\"button\" in locals_for_with?locals_for_with.button:typeof button!==\"undefined\"?button:undefined,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined,\"title\" in locals_for_with?locals_for_with.title:typeof title!==\"undefined\"?title:undefined,\"user\" in locals_for_with?locals_for_with.user:typeof user!==\"undefined\"?user:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":20}],15:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (Math, end, page, pages, start) {\nstart = Math.max(1, page - 5)\nend = Math.min(pages, page + 5)\nbuf.push(\"<ul class=\\\"pagination\\\"><li\" + (jade.cls([(page == 1) ? 'disabled' : ''], [true])) + \"><a href=\\\"#\\\" aria-label=\\\"Start\\\" data-id='1'><span aria-hidden=\\\"aria-hidden\\\">&laquo;</span></a></li>\");\nvar i = start\nwhile (i < page)\n{\nbuf.push(\"<li><a href=\\\"#\\\"\" + (jade.attr(\"data-id\", i, true, false)) + \">\" + (jade.escape(null == (jade_interp = i++) ? \"\" : jade_interp)) + \"</a></li>\");\n}\nbuf.push(\"<li\" + (jade.attr(\"data-id\", page, true, false)) + \" class=\\\"active\\\"><a href=\\\"#\\\">\" + (jade.escape(null == (jade_interp = page) ? \"\" : jade_interp)) + \"</a></li>\");\nvar i = page + 1\nwhile (i <= end)\n{\nbuf.push(\"<li><a href=\\\"#\\\"\" + (jade.attr(\"data-id\", i, true, false)) + \">\" + (jade.escape(null == (jade_interp = i++) ? \"\" : jade_interp)) + \"</a></li>\");\n}\nbuf.push(\"<li\" + (jade.cls([(page == pages) ? 'disabled' : ''], [true])) + \"><a href=\\\"#\\\" aria-label=\\\"End\\\"\" + (jade.attr(\"data-id\", pages, true, false)) + \"><span aria-hidden=\\\"aria-hidden\\\">&raquo;</span></a></li></ul>\");}.call(this,\"Math\" in locals_for_with?locals_for_with.Math:typeof Math!==\"undefined\"?Math:undefined,\"end\" in locals_for_with?locals_for_with.end:typeof end!==\"undefined\"?end:undefined,\"page\" in locals_for_with?locals_for_with.page:typeof page!==\"undefined\"?page:undefined,\"pages\" in locals_for_with?locals_for_with.pages:typeof pages!==\"undefined\"?pages:undefined,\"start\" in locals_for_with?locals_for_with.start:typeof start!==\"undefined\"?start:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":20}],16:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (id, undefined) {\njade_mixins[\"textarea\"] = jade_interp = function(id,label,name){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\nbuf.push(\"<div class=\\\"form-group\\\"><label\" + (jade.attr(\"for\", \"\" + (id) + \"\", true, false)) + \" class=\\\"col-sm-2 control-label\\\">\" + (jade.escape((jade_interp = label) == null ? '' : jade_interp)) + \"</label><div class=\\\"col-sm-10\\\"><textarea\" + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + (jade.attr(\"name\", \"\" + (name) + \"\", true, false)) + \" row=\\\"4\\\" class=\\\"form-control\\\"></textarea></div></div>\");\n};\nbuf.push(\"<div\" + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + \" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"questionFormLabel\\\" aria-hidden=\\\"true\\\" class=\\\"modal fade\\\"><div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"close\\\"><span aria-hidden=\\\"true\\\">&times;</span><span class=\\\"sr-only\\\">关闭</span></button><h4 id=\\\"questionFormLabel\\\" class=\\\"modal-title\\\">输入问题详细信息</h4></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal\\\">\");\njade_mixins[\"textarea\"]('content', '问题内容', 'content');\nbuf.push(\"<div class=\\\"form-group\\\"><label for=\\\"type\\\" class=\\\"col-sm-2 control-label\\\">问题内容</label><div class=\\\"col-sm-10\\\"><select id=\\\"type\\\" row=\\\"4\\\" name=\\\"type\\\" class=\\\"form-control textarea\\\"></select></div></div>\");\nvar options = ['A', 'B', 'C', 'D', 'E', 'F']\n// iterate options\n;(function(){\n  var $$obj = options;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var option = $$obj[$index];\n\njade_mixins[\"textarea\"]('option_' + option, \"选项\" + option, 'option_' + option);\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var option = $$obj[$index];\n\njade_mixins[\"textarea\"]('option_' + option, \"选项\" + option, 'option_' + option);\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"<div class=\\\"form-group\\\"><label class=\\\"col-sm-2 control-label\\\">正确答案</label><div class=\\\"col-sm-10\\\">\");\n// iterate options\n;(function(){\n  var $$obj = options;\n  if ('number' == typeof $$obj.length) {\n\n    for (var i = 0, $$l = $$obj.length; i < $$l; i++) {\n      var option = $$obj[i];\n\nbuf.push(\"<div class=\\\"checkbox col-xs-6 col-sm-4\\\"><label><input type=\\\"checkbox\\\" name=\\\"correct_option\\\"\" + (jade.attr(\"value\", i+1, true, false)) + \"/>选项\" + (jade.escape((jade_interp = option) == null ? '' : jade_interp)) + \"</label></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var i in $$obj) {\n      $$l++;      var option = $$obj[i];\n\nbuf.push(\"<div class=\\\"checkbox col-xs-6 col-sm-4\\\"><label><input type=\\\"checkbox\\\" name=\\\"correct_option\\\"\" + (jade.attr(\"value\", i+1, true, false)) + \"/>选项\" + (jade.escape((jade_interp = option) == null ? '' : jade_interp)) + \"</label></div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div></div></form></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">取消</button><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">保存</button></div></div></div></div>\");}.call(this,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined,\"undefined\" in locals_for_with?locals_for_with.undefined:typeof undefined!==\"undefined\"?undefined:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":20}],17:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (button, content, correct_option, id, option_A, option_B, option_C, option_D, option_E, option_F, type) {\nbuf.push(\"<td class=\\\"content\\\">\" + (jade.escape(null == (jade_interp = content) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = type) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = correct_option) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_A) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_B) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_C) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_D) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_E) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = option_F) ? \"\" : jade_interp)) + \"</td><td><a\" + (jade.attr(\"type\", button, true, false)) + (jade.attr(\"data-id\", id, true, false)) + \" data-toggle=\\\"modal\\\" data-target=\\\"#questionModalForm\\\" class=\\\"btn btn-primary btn-xs\\\">编辑</a><a id=\\\"delete\\\"\" + (jade.attr(\"type\", button, true, false)) + \" class=\\\"btn btn-danger btn-xs\\\">删除</a></td>\");}.call(this,\"button\" in locals_for_with?locals_for_with.button:typeof button!==\"undefined\"?button:undefined,\"content\" in locals_for_with?locals_for_with.content:typeof content!==\"undefined\"?content:undefined,\"correct_option\" in locals_for_with?locals_for_with.correct_option:typeof correct_option!==\"undefined\"?correct_option:undefined,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined,\"option_A\" in locals_for_with?locals_for_with.option_A:typeof option_A!==\"undefined\"?option_A:undefined,\"option_B\" in locals_for_with?locals_for_with.option_B:typeof option_B!==\"undefined\"?option_B:undefined,\"option_C\" in locals_for_with?locals_for_with.option_C:typeof option_C!==\"undefined\"?option_C:undefined,\"option_D\" in locals_for_with?locals_for_with.option_D:typeof option_D!==\"undefined\"?option_D:undefined,\"option_E\" in locals_for_with?locals_for_with.option_E:typeof option_E!==\"undefined\"?option_E:undefined,\"option_F\" in locals_for_with?locals_for_with.option_F:typeof option_F!==\"undefined\"?option_F:undefined,\"type\" in locals_for_with?locals_for_with.type:typeof type!==\"undefined\"?type:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":20}],18:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (id) {\njade_mixins[\"input\"] = jade_interp = function(type,id,placeholder,label,name){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\nbuf.push(\"<div class=\\\"form-group\\\"><label\" + (jade.attr(\"for\", \"\" + (id) + \"\", true, false)) + \" class=\\\"col-xs-2 control-label\\\">\" + (jade.escape((jade_interp = label) == null ? '' : jade_interp)) + \"</label><div class=\\\"col-xs-10\\\"><input\" + (jade.attr(\"type\", \"\" + (type) + \"\", true, false)) + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + (jade.attr(\"placeholder\", \"\" + (placeholder) + \"\", true, false)) + (jade.attr(\"name\", \"\" + (name) + \"\", true, false)) + \" class=\\\"form-control\\\"/></div></div>\");\n};\nbuf.push(\"<div\" + (jade.attr(\"id\", \"\" + (id) + \"\", true, false)) + \" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"userFormLabel\\\" aria-hidden=\\\"true\\\" class=\\\"modal fade\\\"><div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"close\\\"><span aria-hidden=\\\"true\\\">&times;</span><span class=\\\"sr-only\\\">关闭</span></button><h4 id=\\\"userFormLabel\\\" class=\\\"modal-title\\\">输入用户信息</h4></div><div class=\\\"modal-body\\\"><row><form class=\\\"form-horizontal\\\">\");\njade_mixins[\"input\"]('text', 'username', '用户名', '用户名', 'username');\njade_mixins[\"input\"]('password', 'password', '密码', '密码', 'password');\nbuf.push(\"</form></row></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">取消</button><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">保存</button></div></div></div></div>\");}.call(this,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":20}],19:[function(require,module,exports){\nvar jade = require(\"jade/runtime\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (active, admin, id, username) {\nbuf.push(\"<td>\" + (jade.escape(null == (jade_interp = id) ? \"\" : jade_interp)) + \"</td><td>\" + (jade.escape(null == (jade_interp = username) ? \"\" : jade_interp)) + \"</td><td>\");\nif ( !admin)\n{\nbuf.push(\"<a type=\\\"button\\\"\" + (jade.attr(\"data-id\", id, true, false)) + \" data-toggle=\\\"modal\\\" data-target=\\\"#userModalForm\\\" class=\\\"btn btn-default btn-xs\\\">修改密码\");\nif ( active)\n{\nbuf.push(\"<a id=\\\"deactivate\\\" type=\\\"button\\\" class=\\\"btn btn-danger btn-xs\\\">冻结帐号</a>\");\n}\nelse\n{\nbuf.push(\"<a id=\\\"activate\\\" type=\\\"button\\\" class=\\\"btn btn-success btn-xs\\\">激活帐号</a>\");\n}\nbuf.push(\"</a>\");\n}\nbuf.push(\"</td>\");}.call(this,\"active\" in locals_for_with?locals_for_with.active:typeof active!==\"undefined\"?active:undefined,\"admin\" in locals_for_with?locals_for_with.admin:typeof admin!==\"undefined\"?admin:undefined,\"id\" in locals_for_with?locals_for_with.id:typeof id!==\"undefined\"?id:undefined,\"username\" in locals_for_with?locals_for_with.username:typeof username!==\"undefined\"?username:undefined));;return buf.join(\"\");\n};\n},{\"jade/runtime\":20}],20:[function(require,module,exports){\n(function (global){\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.jade = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/**\n * Merge two attribute objects giving precedence\n * to values in object `b`. Classes are special-cased\n * allowing for arrays and merging/joining appropriately\n * resulting in a string.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api private\n */\n\nexports.merge = function merge(a, b) {\n  if (arguments.length === 1) {\n    var attrs = a[0];\n    for (var i = 1; i < a.length; i++) {\n      attrs = merge(attrs, a[i]);\n    }\n    return attrs;\n  }\n  var ac = a['class'];\n  var bc = b['class'];\n\n  if (ac || bc) {\n    ac = ac || [];\n    bc = bc || [];\n    if (!Array.isArray(ac)) ac = [ac];\n    if (!Array.isArray(bc)) bc = [bc];\n    a['class'] = ac.concat(bc).filter(nulls);\n  }\n\n  for (var key in b) {\n    if (key != 'class') {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n};\n\n/**\n * Filter null `val`s.\n *\n * @param {*} val\n * @return {Boolean}\n * @api private\n */\n\nfunction nulls(val) {\n  return val != null && val !== '';\n}\n\n/**\n * join array as classes.\n *\n * @param {*} val\n * @return {String}\n */\nexports.joinClasses = joinClasses;\nfunction joinClasses(val) {\n  return (Array.isArray(val) ? val.map(joinClasses) :\n    (val && typeof val === 'object') ? Object.keys(val).filter(function (key) { return val[key]; }) :\n    [val]).filter(nulls).join(' ');\n}\n\n/**\n * Render the given classes.\n *\n * @param {Array} classes\n * @param {Array.<Boolean>} escaped\n * @return {String}\n */\nexports.cls = function cls(classes, escaped) {\n  var buf = [];\n  for (var i = 0; i < classes.length; i++) {\n    if (escaped && escaped[i]) {\n      buf.push(exports.escape(joinClasses([classes[i]])));\n    } else {\n      buf.push(joinClasses(classes[i]));\n    }\n  }\n  var text = joinClasses(buf);\n  if (text.length) {\n    return ' class=\"' + text + '\"';\n  } else {\n    return '';\n  }\n};\n\n\nexports.style = function (val) {\n  if (val && typeof val === 'object') {\n    return Object.keys(val).map(function (style) {\n      return style + ':' + val[style];\n    }).join(';');\n  } else {\n    return val;\n  }\n};\n/**\n * Render the given attribute.\n *\n * @param {String} key\n * @param {String} val\n * @param {Boolean} escaped\n * @param {Boolean} terse\n * @return {String}\n */\nexports.attr = function attr(key, val, escaped, terse) {\n  if (key === 'style') {\n    val = exports.style(val);\n  }\n  if ('boolean' == typeof val || null == val) {\n    if (val) {\n      return ' ' + (terse ? key : key + '=\"' + key + '\"');\n    } else {\n      return '';\n    }\n  } else if (0 == key.indexOf('data') && 'string' != typeof val) {\n    if (JSON.stringify(val).indexOf('&') !== -1) {\n      console.warn('Since Jade 2.0.0, ampersands (`&`) in data attributes ' +\n                   'will be escaped to `&amp;`');\n    };\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will eliminate the double quotes around dates in ' +\n                   'ISO form after 2.0.0');\n    }\n    return ' ' + key + \"='\" + JSON.stringify(val).replace(/'/g, '&apos;') + \"'\";\n  } else if (escaped) {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + exports.escape(val) + '\"';\n  } else {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + val + '\"';\n  }\n};\n\n/**\n * Render the given attributes object.\n *\n * @param {Object} obj\n * @param {Object} escaped\n * @return {String}\n */\nexports.attrs = function attrs(obj, terse){\n  var buf = [];\n\n  var keys = Object.keys(obj);\n\n  if (keys.length) {\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i]\n        , val = obj[key];\n\n      if ('class' == key) {\n        if (val = joinClasses(val)) {\n          buf.push(' ' + key + '=\"' + val + '\"');\n        }\n      } else {\n        buf.push(exports.attr(key, val, false, terse));\n      }\n    }\n  }\n\n  return buf.join('');\n};\n\n/**\n * Escape the given string of `html`.\n *\n * @param {String} html\n * @return {String}\n * @api private\n */\n\nvar jade_encode_html_rules = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\nvar jade_match_html = /[&<>\"]/g;\n\nfunction jade_encode_char(c) {\n  return jade_encode_html_rules[c] || c;\n}\n\nexports.escape = jade_escape;\nfunction jade_escape(html){\n  var result = String(html).replace(jade_match_html, jade_encode_char);\n  if (result === '' + html) return html;\n  else return result;\n};\n\n/**\n * Re-throw the given `err` in context to the\n * the jade in `filename` at the given `lineno`.\n *\n * @param {Error} err\n * @param {String} filename\n * @param {String} lineno\n * @api private\n */\n\nexports.rethrow = function rethrow(err, filename, lineno, str){\n  if (!(err instanceof Error)) throw err;\n  if ((typeof window != 'undefined' || !filename) && !str) {\n    err.message += ' on line ' + lineno;\n    throw err;\n  }\n  try {\n    str = str || require('fs').readFileSync(filename, 'utf8')\n  } catch (ex) {\n    rethrow(err, null, lineno)\n  }\n  var context = 3\n    , lines = str.split('\\n')\n    , start = Math.max(lineno - context, 0)\n    , end = Math.min(lines.length, lineno + context);\n\n  // Error context\n  var context = lines.slice(start, end).map(function(line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? '  > ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'Jade') + ':' + lineno\n    + '\\n' + context + '\\n\\n' + err.message;\n  throw err;\n};\n\nexports.DebugItem = function DebugItem(lineno, filename) {\n  this.lineno = lineno;\n  this.filename = filename;\n}\n\n},{\"fs\":2}],2:[function(require,module,exports){\n\n},{}]},{},[1])(1)\n});\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"fs\":2}]},{},[1])\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2VsbWVyeS9QeWNoYXJtUHJvamVjdHMvSW50UXVpei93ZWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9ob21lL2VsbWVyeS9QeWNoYXJtUHJvamVjdHMvSW50UXVpei93ZWIvYXBwL3NjcmlwdHMvYXBwLmNvZmZlZSIsIi9ob21lL2VsbWVyeS9QeWNoYXJtUHJvamVjdHMvSW50UXVpei93ZWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbGliL19lbXB0eS5qcyIsImFwcC9zY3JpcHRzL2FjY291bnQtcGFnZS5jb2ZmZWUiLCJhcHAvc2NyaXB0cy9hY3Rpdml0eS1wYWdlLmNvZmZlZSIsImFwcC9zY3JpcHRzL2Jvb2stcGFnZS5jb2ZmZWUiLCJhcHAvc2NyaXB0cy9kYXRhL2Jhc2UtY29sbGVjdGlvbi5jb2ZmZWUiLCJhcHAvc2NyaXB0cy9kYXRhL2Jhc2UtbW9kZWwuY29mZmVlIiwiYXBwL3NjcmlwdHMvcXVlc3Rpb24tcGFnZS5jb2ZmZWUiLCJhcHAvc2NyaXB0cy92aWV3cy9tb2RhbC12aWV3LmNvZmZlZSIsImFwcC9zY3JpcHRzL3ZpZXdzL3BhZ2luYXRpb24tdmlldy5jb2ZmZWUiLCJhcHAvc2NyaXB0cy92aWV3cy90YWJsZS12aWV3LmNvZmZlZSIsImFwcC90ZW1wbGF0ZXMvYWN0aXZpdHktcm93LmphZGUiLCJhcHAvdGVtcGxhdGVzL2Jvb2stbW9kYWwuamFkZSIsImFwcC90ZW1wbGF0ZXMvYm9vay1yb3cuamFkZSIsImFwcC90ZW1wbGF0ZXMvcGFnZS1uYXYuamFkZSIsImFwcC90ZW1wbGF0ZXMvcXVlc3Rpb24tbW9kYWwuamFkZSIsImFwcC90ZW1wbGF0ZXMvcXVlc3Rpb24tcm93LmphZGUiLCJhcHAvdGVtcGxhdGVzL3VzZXItbW9kYWwuamFkZSIsImFwcC90ZW1wbGF0ZXMvdXNlci1yb3cuamFkZSIsIm5vZGVfbW9kdWxlcy9qYWRlL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIEludEFwcDtcblxud2luZG93LkludEFwcCA9IEludEFwcCA9IHtcbiAgQWNjb3VudFBhZ2VWaWV3OiByZXF1aXJlKCdhY2NvdW50LXBhZ2UnKSxcbiAgQm9va1BhZ2VWaWV3OiByZXF1aXJlKCdib29rLXBhZ2UnKSxcbiAgUXVlc3Rpb25QYWdlVmlldzogcmVxdWlyZSgncXVlc3Rpb24tcGFnZScpLFxuICBBY3Rpdml0eVBhZ2VWaWV3OiByZXF1aXJlKCdhY3Rpdml0eS1wYWdlJylcbn07XG5cbiIsbnVsbCwidmFyIEFjY291bnRQYWdlVmlldywgQmFzZUNvbGxlY3Rpb24sIEJhc2VNb2RlbCwgTW9kYWxWaWV3LCBQYWdpbmF0aW9uVmlldywgVGFibGVWaWV3LCBVc2VyLCBVc2VyTW9kYWxWaWV3LCBVc2VyVmlldywgVXNlcnMsIFVzZXJzVmlldyxcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbkJhc2VNb2RlbCA9IHJlcXVpcmUoJ2RhdGEvYmFzZS1tb2RlbCcpO1xuXG5CYXNlQ29sbGVjdGlvbiA9IHJlcXVpcmUoJ2RhdGEvYmFzZS1jb2xsZWN0aW9uJyk7XG5cblRhYmxlVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3RhYmxlLXZpZXcnKTtcblxuUGFnaW5hdGlvblZpZXcgPSByZXF1aXJlKCd2aWV3cy9wYWdpbmF0aW9uLXZpZXcnKTtcblxuTW9kYWxWaWV3ID0gcmVxdWlyZSgndmlld3MvbW9kYWwtdmlldycpO1xuXG5Vc2VyID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKFVzZXIsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIFVzZXIoKSB7XG4gICAgcmV0dXJuIFVzZXIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBVc2VyLnByb3RvdHlwZS51cmxSb290ID0gJy9hcGkvdjEvdXNlcic7XG5cbiAgVXNlci5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XG4gICAgdXNlcm5hbWU6ICcnLFxuICAgIHBhc3N3b3JkOiAnJ1xuICB9O1xuXG4gIFVzZXIucHJvdG90eXBlLnZhbGlkYXRpb24gPSB7XG4gICAgdXNlcm5hbWU6IHtcbiAgICAgIGJsYW5rOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6ICfnlKjmiLflkI3kuI3og73kuLrnqbonXG4gICAgfSxcbiAgICBwYXNzd29yZDoge1xuICAgICAgYmxhbms6IGZhbHNlLFxuICAgICAgbWluTGVuZ3RoOiA2LFxuICAgICAgbWVzc2FnZTogJ+WvhueggeS4jeiDveWwkeS6jjbkvY0nXG4gICAgfVxuICB9O1xuXG4gIFVzZXIucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGF0dHJzO1xuICAgIGF0dHJzID0ge1xuICAgICAgYWN0aXZlOiB0cnVlXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5zYXZlKGF0dHJzLCB7XG4gICAgICBhdHRyczogYXR0cnNcbiAgICB9KTtcbiAgfTtcblxuICBVc2VyLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGF0dHJzO1xuICAgIGF0dHJzID0ge1xuICAgICAgYWN0aXZlOiBmYWxzZVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuc2F2ZShhdHRycywge1xuICAgICAgYXR0cnM6IGF0dHJzXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFVzZXI7XG5cbn0pKEJhc2VNb2RlbCk7XG5cblVzZXJzID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKFVzZXJzLCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBVc2VycygpIHtcbiAgICByZXR1cm4gVXNlcnMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBVc2Vycy5wcm90b3R5cGUudXJsID0gJy9hcGkvdjEvdXNlcic7XG5cbiAgVXNlcnMucHJvdG90eXBlLm1vZGVsID0gVXNlcjtcblxuICByZXR1cm4gVXNlcnM7XG5cbn0pKEJhc2VDb2xsZWN0aW9uKTtcblxuVXNlclZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoVXNlclZpZXcsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIFVzZXJWaWV3KCkge1xuICAgIHJldHVybiBVc2VyVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFVzZXJWaWV3LnByb3RvdHlwZS50YWdOYW1lID0gJ3RyJztcblxuICBVc2VyVmlldy5wcm90b3R5cGUudGVtcGxhdGUgPSByZXF1aXJlKCd0ZW1wbGF0ZXMvdXNlci1yb3cnKTtcblxuICBVc2VyVmlldy5wcm90b3R5cGUuZXZlbnRzID0ge1xuICAgICdjbGljayAjZGVhY3RpdmF0ZSc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubW9kZWwuZGVhY3RpdmF0ZSgpO1xuICAgIH0sXG4gICAgJ2NsaWNrICNhY3RpdmF0ZSc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubW9kZWwuYWN0aXZhdGUoKTtcbiAgICB9XG4gIH07XG5cbiAgVXNlclZpZXcucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsIFwic3luY1wiLCB0aGlzLnJlbmRlcik7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCwgXCJkZXN0cm95XCIsIHRoaXMucmVtb3ZlKTtcbiAgfTtcblxuICBVc2VyVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZWwuaHRtbCh0aGlzLnRlbXBsYXRlKHRoaXMubW9kZWwudG9KU09OKCkpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICByZXR1cm4gVXNlclZpZXc7XG5cbn0pKEJhY2tib25lLlZpZXcpO1xuXG5Vc2VyTW9kYWxWaWV3ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKFVzZXJNb2RhbFZpZXcsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIFVzZXJNb2RhbFZpZXcoKSB7XG4gICAgcmV0dXJuIFVzZXJNb2RhbFZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBVc2VyTW9kYWxWaWV3LnByb3RvdHlwZS50ZW1wbGF0ZSA9IHJlcXVpcmUoJ3RlbXBsYXRlcy91c2VyLW1vZGFsJyk7XG5cbiAgVXNlck1vZGFsVmlldy5wcm90b3R5cGUuYmluZGluZ3MgPSB7XG4gICAgJyN1c2VybmFtZSc6ICd1c2VybmFtZScsXG4gICAgJyNwYXNzd29yZCc6ICdwYXNzd29yZCdcbiAgfTtcblxuICByZXR1cm4gVXNlck1vZGFsVmlldztcblxufSkoTW9kYWxWaWV3KTtcblxuVXNlcnNWaWV3ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKFVzZXJzVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gVXNlcnNWaWV3KCkge1xuICAgIHJldHVybiBVc2Vyc1ZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBVc2Vyc1ZpZXcucHJvdG90eXBlLnJvdyA9IGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgcmV0dXJuIG5ldyBVc2VyVmlldyh7XG4gICAgICBtb2RlbDogbW9kZWxcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gVXNlcnNWaWV3O1xuXG59KShUYWJsZVZpZXcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFjY291bnRQYWdlVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChBY2NvdW50UGFnZVZpZXcsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIEFjY291bnRQYWdlVmlldygpIHtcbiAgICByZXR1cm4gQWNjb3VudFBhZ2VWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgQWNjb3VudFBhZ2VWaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFnZU5hdlZpZXcsIHVzZXJNb2RhbFZpZXcsIHVzZXJzLCB1c2Vyc1ZpZXc7XG4gICAgdXNlcnMgPSBuZXcgVXNlcnM7XG4gICAgdXNlcnNWaWV3ID0gbmV3IFVzZXJzVmlldyh7XG4gICAgICBlbDogJCgnLnRhYmxlLWNvbnRhaW5lcicpLFxuICAgICAgY29sbGVjdGlvbjogdXNlcnNcbiAgICB9KTtcbiAgICBwYWdlTmF2VmlldyA9IG5ldyBQYWdpbmF0aW9uVmlldyh7XG4gICAgICBjb2xsZWN0aW9uOiB1c2Vyc1xuICAgIH0pO1xuICAgIHVzZXJzVmlldy4kZWwuYWZ0ZXIocGFnZU5hdlZpZXcucmVuZGVyKCkuJGVsKTtcbiAgICB1c2VyTW9kYWxWaWV3ID0gbmV3IFVzZXJNb2RhbFZpZXcoe1xuICAgICAgaWQ6ICd1c2VyTW9kYWxGb3JtJyxcbiAgICAgIGNvbGxlY3Rpb246IHVzZXJzXG4gICAgfSk7XG4gICAgdXNlck1vZGFsVmlldy5yZW5kZXIoKTtcbiAgICB1c2Vycy5mZXRjaCh7XG4gICAgICByZXNldDogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBBY2NvdW50UGFnZVZpZXc7XG5cbn0pKEJhY2tib25lLlZpZXcpO1xuXG4iLCJ2YXIgQWN0aXZpdGllcywgQWN0aXZpdGllc1ZpZXcsIEFjdGl2aXR5LCBBY3Rpdml0eVBhZ2VWaWV3LCBBY3Rpdml0eVZpZXcsIEJhc2VDb2xsZWN0aW9uLCBCYXNlTW9kZWwsIERBVEVUSU1FX0ZPUk1BVCwgTW9kYWxWaWV3LCBQYWdpbmF0aW9uVmlldywgVGFibGVWaWV3LFxuICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuQmFzZU1vZGVsID0gcmVxdWlyZSgnZGF0YS9iYXNlLW1vZGVsJyk7XG5cbkJhc2VDb2xsZWN0aW9uID0gcmVxdWlyZSgnZGF0YS9iYXNlLWNvbGxlY3Rpb24nKTtcblxuVGFibGVWaWV3ID0gcmVxdWlyZSgndmlld3MvdGFibGUtdmlldycpO1xuXG5QYWdpbmF0aW9uVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3BhZ2luYXRpb24tdmlldycpO1xuXG5Nb2RhbFZpZXcgPSByZXF1aXJlKCd2aWV3cy9tb2RhbC12aWV3Jyk7XG5cbkRBVEVUSU1FX0ZPUk1BVCA9ICdZWVlZLU1NLUREIEhIOm1tOnNzJztcblxuQWN0aXZpdHkgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoQWN0aXZpdHksIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIEFjdGl2aXR5KCkge1xuICAgIHJldHVybiBBY3Rpdml0eS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIEFjdGl2aXR5LnByb3RvdHlwZS51cmxSb290ID0gJy9hcGkvdjEvYWN0aXZpdHkvJztcblxuICBBY3Rpdml0eS5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XG4gICAgXCJpbmZvX2ZpZWxkXzFcIjogXCJcIixcbiAgICBcImluZm9fZmllbGRfMlwiOiBcIlwiLFxuICAgIFwiaW5mb19maWVsZF8zXCI6IFwiXCJcbiAgfTtcblxuICByZXR1cm4gQWN0aXZpdHk7XG5cbn0pKEJhc2VNb2RlbCk7XG5cbkFjdGl2aXRpZXMgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoQWN0aXZpdGllcywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gQWN0aXZpdGllcygpIHtcbiAgICByZXR1cm4gQWN0aXZpdGllcy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIEFjdGl2aXRpZXMucHJvdG90eXBlLnVybCA9ICcvYXBpL3YxL2FjdGl2aXR5Lyc7XG5cbiAgQWN0aXZpdGllcy5wcm90b3R5cGUubW9kZWwgPSBBY3Rpdml0eTtcblxuICByZXR1cm4gQWN0aXZpdGllcztcblxufSkoQmFzZUNvbGxlY3Rpb24pO1xuXG5BY3Rpdml0eVZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoQWN0aXZpdHlWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBBY3Rpdml0eVZpZXcoKSB7XG4gICAgcmV0dXJuIEFjdGl2aXR5Vmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIEFjdGl2aXR5Vmlldy5wcm90b3R5cGUudGFnTmFtZSA9ICd0cic7XG5cbiAgQWN0aXZpdHlWaWV3LnByb3RvdHlwZS50ZW1wbGF0ZSA9IHJlcXVpcmUoJ3RlbXBsYXRlcy9hY3Rpdml0eS1yb3cnKTtcblxuICBBY3Rpdml0eVZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBlbmRfYXQsIGZyb250X2hvc3QsIG5vdywgc3RhcnRfYXQ7XG4gICAgZnJvbnRfaG9zdCA9IHdpbmRvdy5mcm9udF9ob3N0IHx8ICcvJztcbiAgICBkYXRhID0gdGhpcy5tb2RlbC50b0pTT04oKTtcbiAgICBzdGFydF9hdCA9IG5ldyBtb21lbnQoZGF0YS5zdGFydF9hdCwgREFURVRJTUVfRk9STUFUKTtcbiAgICBlbmRfYXQgPSBuZXcgbW9tZW50KGRhdGEuZW5kX2F0LCBEQVRFVElNRV9GT1JNQVQpO1xuICAgIG5vdyA9IG5ldyBtb21lbnQoKTtcbiAgICBkYXRhWydzdGF0dXMnXSA9IChzdGFydF9hdCA8IG5vdyAmJiBub3cgPCBlbmRfYXQpID8gJ+W8gOWQrycgOiAn5YWz6ZetJztcbiAgICBkYXRhWyd1cmwnXSA9IFwiaHR0cDovL1wiICsgZnJvbnRfaG9zdCArIFwiL2luZGV4Lmh0bWwjXCIgKyBkYXRhWydjb2RlJ107XG4gICAgZGF0YVsndHlwZSddID0gKGZ1bmN0aW9uKCkge1xuICAgICAgc3dpdGNoIChkYXRhWyd0eXBlJ10pIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiAn5pmu6YCaJztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAn6ZmQ5pe2JztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiAn5oyR5oiYJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ+acquefpSc7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUoZGF0YSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBBY3Rpdml0eVZpZXc7XG5cbn0pKEJhY2tib25lLlZpZXcpO1xuXG5BY3Rpdml0aWVzVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChBY3Rpdml0aWVzVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gQWN0aXZpdGllc1ZpZXcoKSB7XG4gICAgcmV0dXJuIEFjdGl2aXRpZXNWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgQWN0aXZpdGllc1ZpZXcucHJvdG90eXBlLnJvdyA9IGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgcmV0dXJuIG5ldyBBY3Rpdml0eVZpZXcoe1xuICAgICAgbW9kZWw6IG1vZGVsXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEFjdGl2aXRpZXNWaWV3O1xuXG59KShUYWJsZVZpZXcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFjdGl2aXR5UGFnZVZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoQWN0aXZpdHlQYWdlVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gQWN0aXZpdHlQYWdlVmlldygpIHtcbiAgICByZXR1cm4gQWN0aXZpdHlQYWdlVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIEFjdGl2aXR5UGFnZVZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhY3Rpdml0aWVzLCBhY3Rpdml0aWVzVmlldywgcGFnZU5hdlZpZXc7XG4gICAgYWN0aXZpdGllcyA9IG5ldyBBY3Rpdml0aWVzO1xuICAgIGFjdGl2aXRpZXNWaWV3ID0gbmV3IEFjdGl2aXRpZXNWaWV3KHtcbiAgICAgIGVsOiAkKCcjYWN0aXZpdHktdGFibGUtY29udGFpbmVyJyksXG4gICAgICBjb2xsZWN0aW9uOiBhY3Rpdml0aWVzXG4gICAgfSk7XG4gICAgcGFnZU5hdlZpZXcgPSBuZXcgUGFnaW5hdGlvblZpZXcoe1xuICAgICAgY29sbGVjdGlvbjogYWN0aXZpdGllc1xuICAgIH0pO1xuICAgIGFjdGl2aXRpZXNWaWV3LiRlbC5hZnRlcihwYWdlTmF2Vmlldy5yZW5kZXIoKS4kZWwpO1xuICAgIGFjdGl2aXRpZXMuZmV0Y2goe1xuICAgICAgcmVzZXQ6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICByZXR1cm4gQWN0aXZpdHlQYWdlVmlldztcblxufSkoQmFja2JvbmUuVmlldyk7XG5cbiIsInZhciBCYXNlQ29sbGVjdGlvbiwgQmFzZU1vZGVsLCBCb29rUGFnZVZpZXcsIE1vZGFsVmlldywgUGFnaW5hdGlvblZpZXcsIFF1aXpCb29rLCBRdWl6Qm9va01vZGFsVmlldywgUXVpekJvb2tWaWV3LCBRdWl6Qm9va3MsIFF1aXpCb29rc1ZpZXcsIFRhYmxlVmlldyxcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbkJhc2VNb2RlbCA9IHJlcXVpcmUoJ2RhdGEvYmFzZS1tb2RlbCcpO1xuXG5CYXNlQ29sbGVjdGlvbiA9IHJlcXVpcmUoJ2RhdGEvYmFzZS1jb2xsZWN0aW9uJyk7XG5cblRhYmxlVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3RhYmxlLXZpZXcnKTtcblxuUGFnaW5hdGlvblZpZXcgPSByZXF1aXJlKCd2aWV3cy9wYWdpbmF0aW9uLXZpZXcnKTtcblxuTW9kYWxWaWV3ID0gcmVxdWlyZSgndmlld3MvbW9kYWwtdmlldycpO1xuXG5RdWl6Qm9vayA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWl6Qm9vaywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVpekJvb2soKSB7XG4gICAgcmV0dXJuIFF1aXpCb29rLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVpekJvb2sucHJvdG90eXBlLnVybFJvb3QgPSAnL2FwaS92MS9xdWl6Ym9vayc7XG5cbiAgUXVpekJvb2sucHJvdG90eXBlLnZhbGlkYXRpb24gPSB7XG4gICAgdGl0bGU6IHtcbiAgICAgIGJsYW5rOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6ICfpopjlupPlkI3kuI3og73kuLrnqbonXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBRdWl6Qm9vaztcblxufSkoQmFzZU1vZGVsKTtcblxuUXVpekJvb2tzID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKFF1aXpCb29rcywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVpekJvb2tzKCkge1xuICAgIHJldHVybiBRdWl6Qm9va3MuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBRdWl6Qm9va3MucHJvdG90eXBlLnVybCA9ICcvYXBpL3YxL3F1aXpib29rJztcblxuICBRdWl6Qm9va3MucHJvdG90eXBlLm1vZGVsID0gUXVpekJvb2s7XG5cbiAgcmV0dXJuIFF1aXpCb29rcztcblxufSkoQmFzZUNvbGxlY3Rpb24pO1xuXG5RdWl6Qm9va1ZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoUXVpekJvb2tWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBRdWl6Qm9va1ZpZXcoKSB7XG4gICAgcmV0dXJuIFF1aXpCb29rVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFF1aXpCb29rVmlldy5wcm90b3R5cGUudGFnTmFtZSA9ICd0cic7XG5cbiAgUXVpekJvb2tWaWV3LnByb3RvdHlwZS50ZW1wbGF0ZSA9IHJlcXVpcmUoJ3RlbXBsYXRlcy9ib29rLXJvdycpO1xuXG4gIFF1aXpCb29rVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsIFwic3luY1wiLCB0aGlzLnJlbmRlcik7XG4gIH07XG5cbiAgUXVpekJvb2tWaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5tb2RlbC50b0pTT04oKSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBRdWl6Qm9va1ZpZXc7XG5cbn0pKEJhY2tib25lLlZpZXcpO1xuXG5RdWl6Qm9va01vZGFsVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWl6Qm9va01vZGFsVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVpekJvb2tNb2RhbFZpZXcoKSB7XG4gICAgcmV0dXJuIFF1aXpCb29rTW9kYWxWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVpekJvb2tNb2RhbFZpZXcucHJvdG90eXBlLnRlbXBsYXRlID0gcmVxdWlyZSgndGVtcGxhdGVzL2Jvb2stbW9kYWwnKTtcblxuICBRdWl6Qm9va01vZGFsVmlldy5wcm90b3R5cGUuYmluZGluZ3MgPSB7XG4gICAgJyN0aXRsZSc6ICd0aXRsZSdcbiAgfTtcblxuICByZXR1cm4gUXVpekJvb2tNb2RhbFZpZXc7XG5cbn0pKE1vZGFsVmlldyk7XG5cblF1aXpCb29rc1ZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoUXVpekJvb2tzVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVpekJvb2tzVmlldygpIHtcbiAgICByZXR1cm4gUXVpekJvb2tzVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFF1aXpCb29rc1ZpZXcucHJvdG90eXBlLnJvdyA9IGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgcmV0dXJuIG5ldyBRdWl6Qm9va1ZpZXcoe1xuICAgICAgbW9kZWw6IG1vZGVsXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFF1aXpCb29rc1ZpZXc7XG5cbn0pKFRhYmxlVmlldyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQm9va1BhZ2VWaWV3ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKEJvb2tQYWdlVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gQm9va1BhZ2VWaWV3KCkge1xuICAgIHJldHVybiBCb29rUGFnZVZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBCb29rUGFnZVZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYWdlTmF2VmlldywgcXVpekJvb2tNb2RhbFZpZXcsIHF1aXpCb29rcywgcXVpekJvb2tzVmlldztcbiAgICBxdWl6Qm9va3MgPSBuZXcgUXVpekJvb2tzO1xuICAgIHF1aXpCb29rc1ZpZXcgPSBuZXcgUXVpekJvb2tzVmlldyh7XG4gICAgICBlbDogJCgnI3F1aXpib29rLXRhYmxlLWNvbnRhaW5lcicpLFxuICAgICAgY29sbGVjdGlvbjogcXVpekJvb2tzXG4gICAgfSk7XG4gICAgcGFnZU5hdlZpZXcgPSBuZXcgUGFnaW5hdGlvblZpZXcoe1xuICAgICAgY29sbGVjdGlvbjogcXVpekJvb2tzXG4gICAgfSk7XG4gICAgcXVpekJvb2tzVmlldy4kZWwuYWZ0ZXIocGFnZU5hdlZpZXcucmVuZGVyKCkuJGVsKTtcbiAgICBxdWl6Qm9va01vZGFsVmlldyA9IG5ldyBRdWl6Qm9va01vZGFsVmlldyh7XG4gICAgICBpZDogJ2Jvb2tNb2RhbEZvcm0nLFxuICAgICAgY29sbGVjdGlvbjogcXVpekJvb2tzXG4gICAgfSk7XG4gICAgcXVpekJvb2tNb2RhbFZpZXcucmVuZGVyKCk7XG4gICAgcXVpekJvb2tzLmZldGNoKHtcbiAgICAgIHJlc2V0OiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgcmV0dXJuIEJvb2tQYWdlVmlldztcblxufSkoQmFja2JvbmUuVmlldyk7XG5cbiIsInZhciBCYXNlQ29sbGVjdGlvbixcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbkJhc2VDb2xsZWN0aW9uID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKEJhc2VDb2xsZWN0aW9uLCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBCYXNlQ29sbGVjdGlvbigpIHtcbiAgICByZXR1cm4gQmFzZUNvbGxlY3Rpb24uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBCYXNlQ29sbGVjdGlvbi5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgaWYgKGRhdGEgJiYgZGF0YS5tZXRhKSB7XG4gICAgICB0aGlzLm1ldGEgPSBkYXRhLm1ldGE7XG4gICAgfVxuICAgIHJldHVybiBkYXRhICYmIGRhdGEub2JqZWN0cyB8fCBkYXRhO1xuICB9O1xuXG4gIHJldHVybiBCYXNlQ29sbGVjdGlvbjtcblxufSkoQmFja2JvbmUuQ29sbGVjdGlvbik7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFzZUNvbGxlY3Rpb247XG5cbiIsInZhciBCYXNlTW9kZWwsXG4gIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5CYXNlTW9kZWwgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoQmFzZU1vZGVsLCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBCYXNlTW9kZWwoKSB7XG4gICAgcmV0dXJuIEJhc2VNb2RlbC5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIEJhc2VNb2RlbC5wcm90b3R5cGUudXJsID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9yaWdVcmw7XG4gICAgb3JpZ1VybCA9IEJhc2VNb2RlbC5fX3N1cGVyX18udXJsLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIG9yaWdVcmwgKyAob3JpZ1VybC5sZW5ndGggPiAwICYmIG9yaWdVcmwuY2hhckF0KG9yaWdVcmwubGVuZ3RoIC0gMSkgPT09ICcvJyA/ICcnIDogJy8nKTtcbiAgfTtcblxuICBCYXNlTW9kZWwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIGlmIChkYXRhICYmIGRhdGEub2JqZWN0cyAmJiBfLmlzQXJyYXkoZGF0YS5vYmplY3RzKSkge1xuICAgICAgcmV0dXJuIGRhdGEub2JqZWN0c1swXSB8fCB7fTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgcmV0dXJuIEJhc2VNb2RlbDtcblxufSkoQmFja2JvbmUuTW9kZWwpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VNb2RlbDtcblxuIiwidmFyIEJhc2VDb2xsZWN0aW9uLCBCYXNlTW9kZWwsIE1vZGFsVmlldywgUGFnaW5hdGlvblZpZXcsIFF1ZXN0aW9uLCBRdWVzdGlvbkxpc3RQYW5lbFZpZXcsIFF1ZXN0aW9uTW9kYWxWaWV3LCBRdWVzdGlvblBhZ2VWaWV3LCBRdWVzdGlvblZpZXcsIFF1ZXN0aW9ucywgUXVlc3Rpb25zVmlldywgVGFibGVWaWV3LCBjaGFyMkludCwgaW50MkNoYXIsXG4gIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5CYXNlTW9kZWwgPSByZXF1aXJlKCdkYXRhL2Jhc2UtbW9kZWwnKTtcblxuQmFzZUNvbGxlY3Rpb24gPSByZXF1aXJlKCdkYXRhL2Jhc2UtY29sbGVjdGlvbicpO1xuXG5UYWJsZVZpZXcgPSByZXF1aXJlKCd2aWV3cy90YWJsZS12aWV3Jyk7XG5cblBhZ2luYXRpb25WaWV3ID0gcmVxdWlyZSgndmlld3MvcGFnaW5hdGlvbi12aWV3Jyk7XG5cbk1vZGFsVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL21vZGFsLXZpZXcnKTtcblxuaW50MkNoYXIgPSBmdW5jdGlvbihpKSB7XG4gIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDY0ICsgcGFyc2VJbnQoaSkpO1xufTtcblxuY2hhcjJJbnQgPSBmdW5jdGlvbihjKSB7XG4gIGlmICghIWMpIHtcbiAgICByZXR1cm4gYy5jaGFyQ29kZUF0KDApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjO1xuICB9XG59O1xuXG5RdWVzdGlvbiA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWVzdGlvbiwgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVlc3Rpb24oKSB7XG4gICAgcmV0dXJuIFF1ZXN0aW9uLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVlc3Rpb24ucHJvdG90eXBlLnVybFJvb3QgPSAnL2FwaS92MS9xdWVzdGlvbi8nO1xuXG4gIFF1ZXN0aW9uLnByb3RvdHlwZS5kZWZhdWx0cyA9IHtcbiAgICBcInR5cGVcIjogMSxcbiAgICBcImNvcnJlY3Rfb3B0aW9uXCI6IFwiMVwiLFxuICAgIFwib3B0aW9uX0FcIjogXCJcIixcbiAgICBcIm9wdGlvbl9CXCI6IFwiXCIsXG4gICAgXCJvcHRpb25fQ1wiOiBcIlwiLFxuICAgIFwib3B0aW9uX0RcIjogXCJcIixcbiAgICBcIm9wdGlvbl9FXCI6IFwiXCIsXG4gICAgXCJvcHRpb25fRlwiOiBcIlwiXG4gIH07XG5cbiAgUXVlc3Rpb24ucHJvdG90eXBlLnZhbGlkYXRpb24gPSB7XG4gICAgY29udGVudDoge1xuICAgICAgYmxhbms6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogJ+mimOebruWGheWuueS4jeiDveS4uuepuidcbiAgICB9LFxuICAgIHR5cGU6IHtcbiAgICAgIGJsYW5rOiBmYWxzZSxcbiAgICAgIGZuOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDEgfHwgdmFsdWUgPT09IDI7XG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ+mimOebruexu+Wei+W/hemhu+aYr+WkmumAieaIluWNlemAiSdcbiAgICB9LFxuICAgIGNvcnJlY3Rfb3B0aW9uOiB7XG4gICAgICBibGFuazogZmFsc2UsXG4gICAgICBmbjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc3dpdGNoIChmYWxzZSkge1xuICAgICAgICAgICAgY2FzZSAhXy5pc0FycmF5KHZhbHVlKTpcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgY2FzZSAhXy5pc1N0cmluZyh2YWx1ZSk6XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICAgICAgcmV0dXJuICEoXy5pc0VtcHR5KHZhbHVlKSkgJiYgXy5ldmVyeSh2YWx1ZSwgKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ29wdGlvbl8nICsgaW50MkNoYXIoaSkpO1xuICAgICAgICB9KSwgdGhpcyk7XG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ+ato+ehruetlOahiOiuvue9ruWHuumUme+8jOazqOaEj+WvueW6lOeahOmAiemhueaYr+WQpuiuvue9ruS6huetlOahiCdcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFF1ZXN0aW9uO1xuXG59KShCYXNlTW9kZWwpO1xuXG5RdWVzdGlvbnMgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoUXVlc3Rpb25zLCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBRdWVzdGlvbnMoKSB7XG4gICAgcmV0dXJuIFF1ZXN0aW9ucy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFF1ZXN0aW9ucy5wcm90b3R5cGUudXJsID0gJy9hcGkvdjEvcXVlc3Rpb24vJztcblxuICBRdWVzdGlvbnMucHJvdG90eXBlLm1vZGVsID0gUXVlc3Rpb247XG5cbiAgUXVlc3Rpb25zLnByb3RvdHlwZS5zdGF0ZSA9IHt9O1xuXG4gIFF1ZXN0aW9ucy5wcm90b3R5cGUuZmV0Y2ggPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIGRhdGE7XG4gICAgb3B0aW9ucyA9IF8uZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICBkYXRhID0gb3B0aW9ucy5kYXRhO1xuICAgIG9wdGlvbnMuZGF0YSA9IF8uZXh0ZW5kKHt9LCB0aGlzLnN0YXRlLCBkYXRhKTtcbiAgICByZXR1cm4gUXVlc3Rpb25zLl9fc3VwZXJfXy5mZXRjaC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICB9O1xuXG4gIHJldHVybiBRdWVzdGlvbnM7XG5cbn0pKEJhc2VDb2xsZWN0aW9uKTtcblxuUXVlc3Rpb25WaWV3ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKFF1ZXN0aW9uVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gUXVlc3Rpb25WaWV3KCkge1xuICAgIHJldHVybiBRdWVzdGlvblZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBRdWVzdGlvblZpZXcucHJvdG90eXBlLnRhZ05hbWUgPSAndHInO1xuXG4gIFF1ZXN0aW9uVmlldy5wcm90b3R5cGUudGVtcGxhdGUgPSByZXF1aXJlKCd0ZW1wbGF0ZXMvcXVlc3Rpb24tcm93Jyk7XG5cbiAgUXVlc3Rpb25WaWV3LnByb3RvdHlwZS5ldmVudHMgPSB7XG4gICAgJ2NsaWNrICNkZWxldGUnOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLm1vZGVsLmRlc3Ryb3koKTtcbiAgICB9XG4gIH07XG5cbiAgUXVlc3Rpb25WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCBcInN5bmNcIiwgdGhpcy5yZW5kZXIpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsIFwiZGVzdHJveVwiLCB0aGlzLnJlbW92ZSk7XG4gIH07XG5cbiAgUXVlc3Rpb25WaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29ycmVjdCwgZGF0YTtcbiAgICBkYXRhID0gdGhpcy5tb2RlbC50b0pTT04oKTtcbiAgICBjb3JyZWN0ID0gZGF0YVsnY29ycmVjdF9vcHRpb24nXS5zcGxpdCgnLCcpO1xuICAgIGRhdGFbJ2NvcnJlY3Rfb3B0aW9uJ10gPSBfLm1hcChjb3JyZWN0LCBpbnQyQ2hhcikuam9pbigpO1xuICAgIGRhdGFbJ3R5cGUnXSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHN3aXRjaCAoZGF0YVsndHlwZSddKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gJ+WNlemAiSc7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gJ+WkmumAiSc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICflpJrpgIknO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgdGhpcy4kZWwuaHRtbCh0aGlzLnRlbXBsYXRlKGRhdGEpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICByZXR1cm4gUXVlc3Rpb25WaWV3O1xuXG59KShCYWNrYm9uZS5WaWV3KTtcblxuUXVlc3Rpb25zVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWVzdGlvbnNWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBRdWVzdGlvbnNWaWV3KCkge1xuICAgIHJldHVybiBRdWVzdGlvbnNWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVlc3Rpb25zVmlldy5wcm90b3R5cGUucm93ID0gZnVuY3Rpb24obW9kZWwpIHtcbiAgICByZXR1cm4gbmV3IFF1ZXN0aW9uVmlldyh7XG4gICAgICBtb2RlbDogbW9kZWxcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gUXVlc3Rpb25zVmlldztcblxufSkoVGFibGVWaWV3KTtcblxuUXVlc3Rpb25Nb2RhbFZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoUXVlc3Rpb25Nb2RhbFZpZXcsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIFF1ZXN0aW9uTW9kYWxWaWV3KCkge1xuICAgIHJldHVybiBRdWVzdGlvbk1vZGFsVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFF1ZXN0aW9uTW9kYWxWaWV3LnByb3RvdHlwZS50ZW1wbGF0ZSA9IHJlcXVpcmUoJ3RlbXBsYXRlcy9xdWVzdGlvbi1tb2RhbCcpO1xuXG4gIFF1ZXN0aW9uTW9kYWxWaWV3LnByb3RvdHlwZS5iaW5kaW5ncyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBfYmluZGluZ3MsIGNvZGUsIGosIGxlbiwgcmVmO1xuICAgIF9iaW5kaW5ncyA9IHtcbiAgICAgICdbbmFtZT1jb250ZW50XSc6ICdjb250ZW50JyxcbiAgICAgICdbbmFtZT10eXBlXSc6IHtcbiAgICAgICAgb2JzZXJ2ZTogJ3R5cGUnLFxuICAgICAgICBzZWxlY3RPcHRpb25zOiB7XG4gICAgICAgICAgY29sbGVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICfljZXpgIknLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAxXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ+WkmumAiScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldE9wdGlvbnM6IHtcbiAgICAgICAgICBzaWxlbnQ6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAnW25hbWU9Y29ycmVjdF9vcHRpb25dJzoge1xuICAgICAgICBvYnNlcnZlOiAnY29ycmVjdF9vcHRpb24nLFxuICAgICAgICBvbkdldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUuc3BsaXQoJywnKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25TZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKF8uaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5qb2luKCcsJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHJlZiA9IFsnQScsICdCJywgJ0MnLCAnRCcsICdFJywgJ0YnXTtcbiAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgIGNvZGUgPSByZWZbal07XG4gICAgICBfYmluZGluZ3NbXCJbbmFtZT1vcHRpb25fXCIgKyBjb2RlICsgXCJdXCJdID0gJ29wdGlvbl8nICsgY29kZTtcbiAgICB9XG4gICAgcmV0dXJuIF9iaW5kaW5ncztcbiAgfTtcblxuICBRdWVzdGlvbk1vZGFsVmlldy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKGUpIHtcbiAgICBRdWVzdGlvbk1vZGFsVmlldy5fX3N1cGVyX18uc2hvdy5jYWxsKHRoaXMsIGUpO1xuICAgIGlmICh0aGlzLm1vZGVsLmlzTmV3KCkpIHtcbiAgICAgIHRoaXMubW9kZWwuc2V0KCdib29rJywgdGhpcy5jb2xsZWN0aW9uLnN0YXRlLmJvb2spO1xuICAgIH1cbiAgICB0aGlzLmNoYW5nZVR5cGUodGhpcy5tb2RlbCwgdGhpcy5tb2RlbC5nZXQoJ3R5cGUnKSk7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCwgXCJjaGFuZ2U6dHlwZVwiLCB0aGlzLmNoYW5nZVR5cGUpO1xuICB9O1xuXG4gIFF1ZXN0aW9uTW9kYWxWaWV3LnByb3RvdHlwZS5jaGFuZ2VUeXBlID0gZnVuY3Rpb24obW9kZWwsIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgdmFyIGN1clZhbCwgdHlwZTtcbiAgICB0eXBlID0gdmFsdWUgPT09IDEgPyAncmFkaW8nIDogJ2NoZWNrYm94JztcbiAgICBjdXJWYWwgPSBtb2RlbC5nZXQoJ2NvcnJlY3Rfb3B0aW9uJyk7XG4gICAgaWYgKHR5cGUgPT09ICdyYWRpbycgJiYgY3VyVmFsKSB7XG4gICAgICBtb2RlbC5zZXQoJ2NvcnJlY3Rfb3B0aW9uJywgY3VyVmFsWzBdKTtcbiAgICB9XG4gICAgdGhpcy4kKCdpbnB1dFtuYW1lPWNvcnJlY3Rfb3B0aW9uXScpLnByb3AoJ3R5cGUnLCB0eXBlKTtcbiAgICByZXR1cm4gdGhpcy5zdGlja2l0KCk7XG4gIH07XG5cbiAgUXVlc3Rpb25Nb2RhbFZpZXcucHJvdG90eXBlLm9uSW52YWxpZEZpZWxkID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGVycm9ycywgbW9kZWwpIHtcbiAgICB2YXIgZXJyb3IsIGZpZWxkLCBncm91cCwgaiwgbGVuO1xuICAgIGlmIChuYW1lICE9PSAnY29ycmVjdF9vcHRpb24nKSB7XG4gICAgICByZXR1cm4gUXVlc3Rpb25Nb2RhbFZpZXcuX19zdXBlcl9fLm9uSW52YWxpZEZpZWxkLmNhbGwodGhpcywgbmFtZSwgdmFsdWUsIGVycm9ycywgbW9kZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaWVsZCA9IHRoaXMuJChcIltuYW1lPVwiICsgbmFtZSArIFwiXVwiKTtcbiAgICAgIGdyb3VwID0gZmllbGQuY2xvc2VzdCgnLmZvcm0tZ3JvdXAnKTtcbiAgICAgIGdyb3VwLmZpbmQoJy5oZWxwLWJsb2NrJykucmVtb3ZlKCk7XG4gICAgICBmb3IgKGogPSAwLCBsZW4gPSBlcnJvcnMubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgZXJyb3IgPSBlcnJvcnNbal07XG4gICAgICAgIGdyb3VwLmFwcGVuZChcIjxkaXYgY2xhc3M9J2hlbHAtYmxvY2sgY29sLXNtLW9mZnNldC0yJz5cIiArIGVycm9yICsgXCI8L2Rpdj5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ3JvdXAuYWRkQ2xhc3MoJ2hhcy1lcnJvcicpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUXVlc3Rpb25Nb2RhbFZpZXc7XG5cbn0pKE1vZGFsVmlldyk7XG5cblF1ZXN0aW9uTGlzdFBhbmVsVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWVzdGlvbkxpc3RQYW5lbFZpZXcsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIFF1ZXN0aW9uTGlzdFBhbmVsVmlldygpIHtcbiAgICByZXR1cm4gUXVlc3Rpb25MaXN0UGFuZWxWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVlc3Rpb25MaXN0UGFuZWxWaWV3LnByb3RvdHlwZS5ldmVudHMgPSB7XG4gICAgJ2NoYW5nZSAjYm9vayc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbi5zdGF0ZS5ib29rID0gdGhpcy4kKCcjYm9vaycpLnZhbCgpO1xuICAgIH0sXG4gICAgJ2NsaWNrICNsb2FkQm9vayc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbi5mZXRjaCh7XG4gICAgICAgIHJlc2V0OiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFF1ZXN0aW9uTGlzdFBhbmVsVmlldztcblxufSkoQmFja2JvbmUuVmlldyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUXVlc3Rpb25QYWdlVmlldyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChRdWVzdGlvblBhZ2VWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBRdWVzdGlvblBhZ2VWaWV3KCkge1xuICAgIHJldHVybiBRdWVzdGlvblBhZ2VWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgUXVlc3Rpb25QYWdlVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oYm9va0lkKSB7XG4gICAgdmFyIHBhZ2VOYXZWaWV3LCBwYW5lbFZpZXcsIHF1ZXN0aW9uTW9kYWxWaWV3LCBxdWVzdGlvbnMsIHF1ZXN0aW9uc1ZpZXc7XG4gICAgaWYgKCFib29rSWQpIHtcbiAgICAgIGJvb2tJZCA9ICQoJ2Zvcm0gc2VsZWN0W25hbWU9Ym9va10nKS52YWwoKTtcbiAgICB9XG4gICAgcXVlc3Rpb25zID0gbmV3IFF1ZXN0aW9ucztcbiAgICBxdWVzdGlvbnMuc3RhdGUuYm9vayA9IGJvb2tJZDtcbiAgICBwYW5lbFZpZXcgPSBuZXcgUXVlc3Rpb25MaXN0UGFuZWxWaWV3KHtcbiAgICAgIGVsOiAkKCcudGFibGUtY29udHJvbCcpLFxuICAgICAgY29sbGVjdGlvbjogcXVlc3Rpb25zXG4gICAgfSk7XG4gICAgcXVlc3Rpb25zVmlldyA9IG5ldyBRdWVzdGlvbnNWaWV3KHtcbiAgICAgIGVsOiAkKCcjcXVlc3Rpb24tdGFibGUtY29udGFpbmVyJyksXG4gICAgICBjb2xsZWN0aW9uOiBxdWVzdGlvbnNcbiAgICB9KTtcbiAgICBwYWdlTmF2VmlldyA9IG5ldyBQYWdpbmF0aW9uVmlldyh7XG4gICAgICBjb2xsZWN0aW9uOiBxdWVzdGlvbnNcbiAgICB9KTtcbiAgICBxdWVzdGlvbnNWaWV3LiRlbC5hZnRlcihwYWdlTmF2Vmlldy5yZW5kZXIoKS4kZWwpO1xuICAgIHF1ZXN0aW9uTW9kYWxWaWV3ID0gbmV3IFF1ZXN0aW9uTW9kYWxWaWV3KHtcbiAgICAgIGlkOiAncXVlc3Rpb25Nb2RhbEZvcm0nLFxuICAgICAgY29sbGVjdGlvbjogcXVlc3Rpb25zXG4gICAgfSk7XG4gICAgcXVlc3Rpb25Nb2RhbFZpZXcucmVuZGVyKCk7XG4gICAgcXVlc3Rpb25zLmZldGNoKHtcbiAgICAgIHJlc2V0OiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFF1ZXN0aW9uUGFnZVZpZXcuX19zdXBlcl9fLnJlbmRlci5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIHJldHVybiBRdWVzdGlvblBhZ2VWaWV3O1xuXG59KShCYWNrYm9uZS5WaWV3KTtcblxuIiwidmFyIE1vZGFsVmlldyxcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbm1vZHVsZS5leHBvcnRzID0gTW9kYWxWaWV3ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKE1vZGFsVmlldywgc3VwZXJDbGFzcyk7XG5cbiAgZnVuY3Rpb24gTW9kYWxWaWV3KCkge1xuICAgIHJldHVybiBNb2RhbFZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBNb2RhbFZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICQoJyMnICsgdGhpcy5pZCkucmVtb3ZlKCk7XG4gICAgJCgnYm9keScpLmFwcGVuZCh0aGlzLnRlbXBsYXRlKHtcbiAgICAgIGlkOiB0aGlzLmlkXG4gICAgfSkpO1xuICAgIHRoaXMuc2V0RWxlbWVudCgkKCcjJyArIHRoaXMuaWQpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBNb2RhbFZpZXcucHJvdG90eXBlLmV2ZW50cyA9IHtcbiAgICAnc2hvdy5icy5tb2RhbCc6ICdzaG93JyxcbiAgICAnaGlkZGVuLmJzLm1vZGFsJzogJ2hpZGRlbicsXG4gICAgJ2NsaWNrIFt0eXBlPXN1Ym1pdF0nOiAnc2F2ZSdcbiAgfTtcblxuICBNb2RhbFZpZXcucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGRhdGE7XG4gICAgZGF0YSA9ICQoZS5yZWxhdGVkVGFyZ2V0KS5kYXRhKCk7XG4gICAgdGhpcy5tb2RlbCA9IGRhdGEuaWQgPyB0aGlzLmNvbGxlY3Rpb24uZ2V0KGRhdGEuaWQpIDogbmV3IHRoaXMuY29sbGVjdGlvbi5tb2RlbDtcbiAgICB0aGlzLnN0aWNraXQoKTtcbiAgICB0aGlzLmJpbmRWYWxpZGF0aW9uKCk7XG4gICAgaWYgKCF0aGlzLm1vZGVsLmlzTmV3KCkpIHtcbiAgICAgIHJldHVybiB0aGlzLm1vZGVsLnZhbGlkYXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIE1vZGFsVmlldy5wcm90b3R5cGUuaGlkZGVuID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy51bnN0aWNraXQoKTtcbiAgICB0aGlzLnN0b3BMaXN0ZW5pbmcoKTtcbiAgICByZXR1cm4gZGVsZXRlIHRoaXMubW9kZWw7XG4gIH07XG5cbiAgTW9kYWxWaWV3LnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciB4aHI7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHhociA9IHRoaXMubW9kZWwuc2F2ZSgpO1xuICAgIGlmICh4aHIpIHtcbiAgICAgIHJldHVybiB4aHIudGhlbigoKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBfdGhpcy5jb2xsZWN0aW9uLmFkZChfdGhpcy5tb2RlbCk7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLiRlbC5tb2RhbCgnaGlkZScpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpKTtcbiAgICB9XG4gIH07XG5cbiAgTW9kYWxWaWV3LnByb3RvdHlwZS5vblZhbGlkRmllbGQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgbW9kZWwpIHtcbiAgICB2YXIgZmllbGQsIGdyb3VwO1xuICAgIGZpZWxkID0gdGhpcy4kKFwiW25hbWU9XCIgKyBuYW1lICsgXCJdXCIpO1xuICAgIGdyb3VwID0gZmllbGQuY2xvc2VzdCgnLmZvcm0tZ3JvdXAnKTtcbiAgICBncm91cC5yZW1vdmVDbGFzcygnaGFzLWVycm9yJyk7XG4gICAgcmV0dXJuIGdyb3VwLmZpbmQoJy5oZWxwLWJsb2NrJykucmVtb3ZlKCk7XG4gIH07XG5cbiAgTW9kYWxWaWV3LnByb3RvdHlwZS5vbkludmFsaWRGaWVsZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBlcnJvcnMsIG1vZGVsKSB7XG4gICAgdmFyIGVycm9yLCBmaWVsZCwgZ3JvdXAsIGksIGxlbjtcbiAgICBmaWVsZCA9IHRoaXMuJChcIltuYW1lPVwiICsgbmFtZSArIFwiXVwiKTtcbiAgICBncm91cCA9IGZpZWxkLmNsb3Nlc3QoJy5mb3JtLWdyb3VwJyk7XG4gICAgZ3JvdXAuZmluZCgnLmhlbHAtYmxvY2snKS5yZW1vdmUoKTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBlcnJvcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGVycm9yID0gZXJyb3JzW2ldO1xuICAgICAgZmllbGQuYWZ0ZXIoXCI8ZGl2IGNsYXNzPSdoZWxwLWJsb2NrJz5cIiArIGVycm9yICsgXCI8L2Rpdj5cIik7XG4gICAgfVxuICAgIHJldHVybiBncm91cC5hZGRDbGFzcygnaGFzLWVycm9yJyk7XG4gIH07XG5cbiAgcmV0dXJuIE1vZGFsVmlldztcblxufSkoQmFja2JvbmUuVmlldyk7XG5cbiIsInZhciBQYWdpbmF0aW9uVmlldyxcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFnaW5hdGlvblZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoUGFnaW5hdGlvblZpZXcsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIFBhZ2luYXRpb25WaWV3KCkge1xuICAgIHJldHVybiBQYWdpbmF0aW9uVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFBhZ2luYXRpb25WaWV3LnByb3RvdHlwZS50YWdOYW1lID0gJ25hdic7XG5cbiAgUGFnaW5hdGlvblZpZXcucHJvdG90eXBlLmNsYXNzTmFtZSA9ICdwYWdlLW5hdic7XG5cbiAgUGFnaW5hdGlvblZpZXcucHJvdG90eXBlLnRlbXBsYXRlID0gcmVxdWlyZSgndGVtcGxhdGVzL3BhZ2UtbmF2Jyk7XG5cbiAgUGFnaW5hdGlvblZpZXcucHJvdG90eXBlLmV2ZW50cyA9IHtcbiAgICAnY2xpY2sgYVtkYXRhLWlkXSc6ICdsb2FkUGFnZSdcbiAgfTtcblxuICBQYWdpbmF0aW9uVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmxpc3RlblRvKHRoaXMuY29sbGVjdGlvbiwgJ3Jlc2V0JywgdGhpcy5yZW5kZXIpO1xuICB9O1xuXG4gIFBhZ2luYXRpb25WaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5jb2xsZWN0aW9uLm1ldGEpIHtcbiAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSh0aGlzLmNvbGxlY3Rpb24ubWV0YSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBQYWdpbmF0aW9uVmlldy5wcm90b3R5cGUubG9hZFBhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGRhdGE7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGRhdGEgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgpO1xuICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb24uZmV0Y2goe1xuICAgICAgZGF0YToge1xuICAgICAgICBwYWdlOiBkYXRhLmlkXG4gICAgICB9LFxuICAgICAgcmVzZXQ6IHRydWVcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gUGFnaW5hdGlvblZpZXc7XG5cbn0pKEJhY2tib25lLlZpZXcpO1xuXG4iLCJ2YXIgVGFibGVWaWV3LFxuICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxubW9kdWxlLmV4cG9ydHMgPSBUYWJsZVZpZXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoVGFibGVWaWV3LCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBUYWJsZVZpZXcoKSB7XG4gICAgcmV0dXJuIFRhYmxlVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIFRhYmxlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubGlzdGVuVG8odGhpcy5jb2xsZWN0aW9uLCAnYWRkJywgdGhpcy5hZGQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlblRvKHRoaXMuY29sbGVjdGlvbiwgJ3Jlc2V0JywgdGhpcy5yZW5kZXIpO1xuICB9O1xuXG4gIFRhYmxlVmlldy5wcm90b3R5cGUucm93ID0gZnVuY3Rpb24obW9kZWwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICB9O1xuXG4gIFRhYmxlVmlldy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24obW9kZWwpIHtcbiAgICB2YXIgcm93O1xuICAgIHJvdyA9IHRoaXMucm93KG1vZGVsKTtcbiAgICByb3cuJGVsLmFkZENsYXNzKCdzdWNjZXNzJyk7XG4gICAgcmV0dXJuIHRoaXMuJCgndGFibGUgdGJvZHknKS5wcmVwZW5kKHJvdy5yZW5kZXIoKS4kZWwpO1xuICB9O1xuXG4gIFRhYmxlVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oY29sbGVjdGlvbikge1xuICAgIHZhciB0Ym9keTtcbiAgICB0Ym9keSA9IHRoaXMuJCgndGFibGUgdGJvZHknKTtcbiAgICB0Ym9keS5lbXB0eSgpO1xuICAgIGNvbGxlY3Rpb24uZWFjaCgoZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgIHJldHVybiB0Ym9keS5hcHBlbmQodGhpcy5yb3cobW9kZWwpLnJlbmRlcigpLiRlbCk7XG4gICAgfSksIHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBUYWJsZVZpZXc7XG5cbn0pKEJhY2tib25lLlZpZXcpO1xuXG4iLCJ2YXIgamFkZSA9IHJlcXVpcmUoXCJqYWRlL3J1bnRpbWVcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7XG52YXIgYnVmID0gW107XG52YXIgamFkZV9taXhpbnMgPSB7fTtcbnZhciBqYWRlX2ludGVycDtcbjt2YXIgbG9jYWxzX2Zvcl93aXRoID0gKGxvY2FscyB8fCB7fSk7KGZ1bmN0aW9uIChib29rLCBjaGFuY2VzLCBlbmRfYXQsIGlkLCBpbmZvX2ZpZWxkXzIsIGluZm9fZmllbGRfMywgbXVsdGksIG11bHRpX3BvaW50cywgbmFtZSwgc2luZ2xlLCBzaW5nbGVfcG9pbnRzLCBzdGFydF9hdCwgc3RhdHVzLCB0aW1lX2xpbWl0LCB0eXBlLCB1cmwsIHVzZXIsIHdlbGNvbWUpIHtcbmJ1Zi5wdXNoKFwiPHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gaWQpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gbmFtZSkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBib29rLnRpdGxlKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IHR5cGUpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gY2hhbmNlcykgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSB0aW1lX2xpbWl0KSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IHNpbmdsZSkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBtdWx0aSkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBzaW5nbGVfcG9pbnRzKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IG11bHRpX3BvaW50cykgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBzdGF0dXMpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gc3RhcnRfYXQpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gZW5kX2F0KSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChudWxsID09IChqYWRlX2ludGVycCA9IHdlbGNvbWUpID8gXCJcIiA6IGphZGVfaW50ZXJwKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBpbmZvX2ZpZWxkXzMpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+PHRkPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gaW5mb19maWVsZF8yKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IGluZm9fZmllbGRfMykgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+PGFcIiArIChqYWRlLmF0dHIoXCJocmVmXCIsIHVybCwgdHJ1ZSwgZmFsc2UpKSArIFwiPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gdXJsKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L2E+PC90ZD48dGQ+PGFcIiArIChqYWRlLmF0dHIoXCJocmVmXCIsIFwiL2FjdGl2aXRpZXMvZWRpdC9cIiArIChpZCkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeSBidG4teHNcXFwiPue8lui+kTwvYT48L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IHVzZXIudXNlcm5hbWUpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvdGQ+XCIpO30uY2FsbCh0aGlzLFwiYm9va1wiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguYm9vazp0eXBlb2YgYm9vayE9PVwidW5kZWZpbmVkXCI/Ym9vazp1bmRlZmluZWQsXCJjaGFuY2VzXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5jaGFuY2VzOnR5cGVvZiBjaGFuY2VzIT09XCJ1bmRlZmluZWRcIj9jaGFuY2VzOnVuZGVmaW5lZCxcImVuZF9hdFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguZW5kX2F0OnR5cGVvZiBlbmRfYXQhPT1cInVuZGVmaW5lZFwiP2VuZF9hdDp1bmRlZmluZWQsXCJpZFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguaWQ6dHlwZW9mIGlkIT09XCJ1bmRlZmluZWRcIj9pZDp1bmRlZmluZWQsXCJpbmZvX2ZpZWxkXzJcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmluZm9fZmllbGRfMjp0eXBlb2YgaW5mb19maWVsZF8yIT09XCJ1bmRlZmluZWRcIj9pbmZvX2ZpZWxkXzI6dW5kZWZpbmVkLFwiaW5mb19maWVsZF8zXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5pbmZvX2ZpZWxkXzM6dHlwZW9mIGluZm9fZmllbGRfMyE9PVwidW5kZWZpbmVkXCI/aW5mb19maWVsZF8zOnVuZGVmaW5lZCxcIm11bHRpXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5tdWx0aTp0eXBlb2YgbXVsdGkhPT1cInVuZGVmaW5lZFwiP211bHRpOnVuZGVmaW5lZCxcIm11bHRpX3BvaW50c1wiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgubXVsdGlfcG9pbnRzOnR5cGVvZiBtdWx0aV9wb2ludHMhPT1cInVuZGVmaW5lZFwiP211bHRpX3BvaW50czp1bmRlZmluZWQsXCJuYW1lXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5uYW1lOnR5cGVvZiBuYW1lIT09XCJ1bmRlZmluZWRcIj9uYW1lOnVuZGVmaW5lZCxcInNpbmdsZVwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguc2luZ2xlOnR5cGVvZiBzaW5nbGUhPT1cInVuZGVmaW5lZFwiP3NpbmdsZTp1bmRlZmluZWQsXCJzaW5nbGVfcG9pbnRzXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5zaW5nbGVfcG9pbnRzOnR5cGVvZiBzaW5nbGVfcG9pbnRzIT09XCJ1bmRlZmluZWRcIj9zaW5nbGVfcG9pbnRzOnVuZGVmaW5lZCxcInN0YXJ0X2F0XCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5zdGFydF9hdDp0eXBlb2Ygc3RhcnRfYXQhPT1cInVuZGVmaW5lZFwiP3N0YXJ0X2F0OnVuZGVmaW5lZCxcInN0YXR1c1wiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguc3RhdHVzOnR5cGVvZiBzdGF0dXMhPT1cInVuZGVmaW5lZFwiP3N0YXR1czp1bmRlZmluZWQsXCJ0aW1lX2xpbWl0XCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC50aW1lX2xpbWl0OnR5cGVvZiB0aW1lX2xpbWl0IT09XCJ1bmRlZmluZWRcIj90aW1lX2xpbWl0OnVuZGVmaW5lZCxcInR5cGVcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLnR5cGU6dHlwZW9mIHR5cGUhPT1cInVuZGVmaW5lZFwiP3R5cGU6dW5kZWZpbmVkLFwidXJsXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC51cmw6dHlwZW9mIHVybCE9PVwidW5kZWZpbmVkXCI/dXJsOnVuZGVmaW5lZCxcInVzZXJcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLnVzZXI6dHlwZW9mIHVzZXIhPT1cInVuZGVmaW5lZFwiP3VzZXI6dW5kZWZpbmVkLFwid2VsY29tZVwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgud2VsY29tZTp0eXBlb2Ygd2VsY29tZSE9PVwidW5kZWZpbmVkXCI/d2VsY29tZTp1bmRlZmluZWQpKTs7cmV0dXJuIGJ1Zi5qb2luKFwiXCIpO1xufTsiLCJ2YXIgamFkZSA9IHJlcXVpcmUoXCJqYWRlL3J1bnRpbWVcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7XG52YXIgYnVmID0gW107XG52YXIgamFkZV9taXhpbnMgPSB7fTtcbnZhciBqYWRlX2ludGVycDtcbjt2YXIgbG9jYWxzX2Zvcl93aXRoID0gKGxvY2FscyB8fCB7fSk7KGZ1bmN0aW9uIChpZCkge1xuYnVmLnB1c2goXCI8ZGl2XCIgKyAoamFkZS5hdHRyKFwiaWRcIiwgXCJcIiArIChpZCkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwiYm9va0Zvcm1MYWJlbFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJtb2RhbCBmYWRlXFxcIj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCI+PHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPuWFs+mXrTwvc3Bhbj48L2J1dHRvbj48aDQgaWQ9XFxcImJvb2tGb3JtTGFiZWxcXFwiIGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+6L6T5YWl6aKY5bqT5L+h5oGvPC9oND48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj48Zm9ybT48ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj48bGFiZWwgZm9yPVxcXCJ0aXRsZVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPumimOW6k+WQjTwvbGFiZWw+PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGlkPVxcXCJ0aXRsZVxcXCIgcGxhY2Vob2xkZXI9XFxcIumimOW6k+WQjVxcXCIgbmFtZT1cXFwidGl0bGVcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiLz48L2Rpdj48L2Zvcm0+PC9kaXY+PGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+5Y+W5raIPC9idXR0b24+PGJ1dHRvbiBpZD1cXFwic2F2ZVxcXCIgdHlwZT1cXFwic3VibWl0XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5XFxcIj7kv53lrZg8L2J1dHRvbj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj5cIik7fS5jYWxsKHRoaXMsXCJpZFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguaWQ6dHlwZW9mIGlkIT09XCJ1bmRlZmluZWRcIj9pZDp1bmRlZmluZWQpKTs7cmV0dXJuIGJ1Zi5qb2luKFwiXCIpO1xufTsiLCJ2YXIgamFkZSA9IHJlcXVpcmUoXCJqYWRlL3J1bnRpbWVcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7XG52YXIgYnVmID0gW107XG52YXIgamFkZV9taXhpbnMgPSB7fTtcbnZhciBqYWRlX2ludGVycDtcbjt2YXIgbG9jYWxzX2Zvcl93aXRoID0gKGxvY2FscyB8fCB7fSk7KGZ1bmN0aW9uIChidXR0b24sIGlkLCB0aXRsZSwgdXNlcikge1xuYnVmLnB1c2goXCI8dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSB0aXRsZSkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSB1c2VyLnVzZXJuYW1lKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD48YVwiICsgKGphZGUuYXR0cihcImhyZWZcIiwgJy9xdWl6Ym9va3MvJyArIChpZCkgKyAnL3F1ZXN0aW9ucycsIHRydWUsIGZhbHNlKSkgKyBcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi14c1xcXCI+5p+l55yLPC9hPjxhXCIgKyAoamFkZS5hdHRyKFwidHlwZVwiLCBidXR0b24sIHRydWUsIGZhbHNlKSkgKyAoamFkZS5hdHRyKFwiZGF0YS1pZFwiLCBpZCwgdHJ1ZSwgZmFsc2UpKSArIFwiIGRhdGEtdG9nZ2xlPVxcXCJtb2RhbFxcXCIgZGF0YS10YXJnZXQ9XFxcIiNib29rTW9kYWxGb3JtXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14c1xcXCI+57yW6L6RPC9hPjwvdGQ+XCIpO30uY2FsbCh0aGlzLFwiYnV0dG9uXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5idXR0b246dHlwZW9mIGJ1dHRvbiE9PVwidW5kZWZpbmVkXCI/YnV0dG9uOnVuZGVmaW5lZCxcImlkXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5pZDp0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiP2lkOnVuZGVmaW5lZCxcInRpdGxlXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC50aXRsZTp0eXBlb2YgdGl0bGUhPT1cInVuZGVmaW5lZFwiP3RpdGxlOnVuZGVmaW5lZCxcInVzZXJcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLnVzZXI6dHlwZW9mIHVzZXIhPT1cInVuZGVmaW5lZFwiP3VzZXI6dW5kZWZpbmVkKSk7O3JldHVybiBidWYuam9pbihcIlwiKTtcbn07IiwidmFyIGphZGUgPSByZXF1aXJlKFwiamFkZS9ydW50aW1lXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRlbXBsYXRlKGxvY2Fscykge1xudmFyIGJ1ZiA9IFtdO1xudmFyIGphZGVfbWl4aW5zID0ge307XG52YXIgamFkZV9pbnRlcnA7XG47dmFyIGxvY2Fsc19mb3Jfd2l0aCA9IChsb2NhbHMgfHwge30pOyhmdW5jdGlvbiAoTWF0aCwgZW5kLCBwYWdlLCBwYWdlcywgc3RhcnQpIHtcbnN0YXJ0ID0gTWF0aC5tYXgoMSwgcGFnZSAtIDUpXG5lbmQgPSBNYXRoLm1pbihwYWdlcywgcGFnZSArIDUpXG5idWYucHVzaChcIjx1bCBjbGFzcz1cXFwicGFnaW5hdGlvblxcXCI+PGxpXCIgKyAoamFkZS5jbHMoWyhwYWdlID09IDEpID8gJ2Rpc2FibGVkJyA6ICcnXSwgW3RydWVdKSkgKyBcIj48YSBocmVmPVxcXCIjXFxcIiBhcmlhLWxhYmVsPVxcXCJTdGFydFxcXCIgZGF0YS1pZD0nMSc+PHNwYW4gYXJpYS1oaWRkZW49XFxcImFyaWEtaGlkZGVuXFxcIj4mbGFxdW87PC9zcGFuPjwvYT48L2xpPlwiKTtcbnZhciBpID0gc3RhcnRcbndoaWxlIChpIDwgcGFnZSlcbntcbmJ1Zi5wdXNoKFwiPGxpPjxhIGhyZWY9XFxcIiNcXFwiXCIgKyAoamFkZS5hdHRyKFwiZGF0YS1pZFwiLCBpLCB0cnVlLCBmYWxzZSkpICsgXCI+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBpKyspID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvYT48L2xpPlwiKTtcbn1cbmJ1Zi5wdXNoKFwiPGxpXCIgKyAoamFkZS5hdHRyKFwiZGF0YS1pZFwiLCBwYWdlLCB0cnVlLCBmYWxzZSkpICsgXCIgY2xhc3M9XFxcImFjdGl2ZVxcXCI+PGEgaHJlZj1cXFwiI1xcXCI+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBwYWdlKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L2E+PC9saT5cIik7XG52YXIgaSA9IHBhZ2UgKyAxXG53aGlsZSAoaSA8PSBlbmQpXG57XG5idWYucHVzaChcIjxsaT48YSBocmVmPVxcXCIjXFxcIlwiICsgKGphZGUuYXR0cihcImRhdGEtaWRcIiwgaSwgdHJ1ZSwgZmFsc2UpKSArIFwiPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gaSsrKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L2E+PC9saT5cIik7XG59XG5idWYucHVzaChcIjxsaVwiICsgKGphZGUuY2xzKFsocGFnZSA9PSBwYWdlcykgPyAnZGlzYWJsZWQnIDogJyddLCBbdHJ1ZV0pKSArIFwiPjxhIGhyZWY9XFxcIiNcXFwiIGFyaWEtbGFiZWw9XFxcIkVuZFxcXCJcIiArIChqYWRlLmF0dHIoXCJkYXRhLWlkXCIsIHBhZ2VzLCB0cnVlLCBmYWxzZSkpICsgXCI+PHNwYW4gYXJpYS1oaWRkZW49XFxcImFyaWEtaGlkZGVuXFxcIj4mcmFxdW87PC9zcGFuPjwvYT48L2xpPjwvdWw+XCIpO30uY2FsbCh0aGlzLFwiTWF0aFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguTWF0aDp0eXBlb2YgTWF0aCE9PVwidW5kZWZpbmVkXCI/TWF0aDp1bmRlZmluZWQsXCJlbmRcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmVuZDp0eXBlb2YgZW5kIT09XCJ1bmRlZmluZWRcIj9lbmQ6dW5kZWZpbmVkLFwicGFnZVwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgucGFnZTp0eXBlb2YgcGFnZSE9PVwidW5kZWZpbmVkXCI/cGFnZTp1bmRlZmluZWQsXCJwYWdlc1wiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgucGFnZXM6dHlwZW9mIHBhZ2VzIT09XCJ1bmRlZmluZWRcIj9wYWdlczp1bmRlZmluZWQsXCJzdGFydFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguc3RhcnQ6dHlwZW9mIHN0YXJ0IT09XCJ1bmRlZmluZWRcIj9zdGFydDp1bmRlZmluZWQpKTs7cmV0dXJuIGJ1Zi5qb2luKFwiXCIpO1xufTsiLCJ2YXIgamFkZSA9IHJlcXVpcmUoXCJqYWRlL3J1bnRpbWVcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7XG52YXIgYnVmID0gW107XG52YXIgamFkZV9taXhpbnMgPSB7fTtcbnZhciBqYWRlX2ludGVycDtcbjt2YXIgbG9jYWxzX2Zvcl93aXRoID0gKGxvY2FscyB8fCB7fSk7KGZ1bmN0aW9uIChpZCwgdW5kZWZpbmVkKSB7XG5qYWRlX21peGluc1tcInRleHRhcmVhXCJdID0gamFkZV9pbnRlcnAgPSBmdW5jdGlvbihpZCxsYWJlbCxuYW1lKXtcbnZhciBibG9jayA9ICh0aGlzICYmIHRoaXMuYmxvY2spLCBhdHRyaWJ1dGVzID0gKHRoaXMgJiYgdGhpcy5hdHRyaWJ1dGVzKSB8fCB7fTtcbmJ1Zi5wdXNoKFwiPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+PGxhYmVsXCIgKyAoamFkZS5hdHRyKFwiZm9yXCIsIFwiXCIgKyAoaWQpICsgXCJcIiwgdHJ1ZSwgZmFsc2UpKSArIFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj5cIiArIChqYWRlLmVzY2FwZSgoamFkZV9pbnRlcnAgPSBsYWJlbCkgPT0gbnVsbCA/ICcnIDogamFkZV9pbnRlcnApKSArIFwiPC9sYWJlbD48ZGl2IGNsYXNzPVxcXCJjb2wtc20tMTBcXFwiPjx0ZXh0YXJlYVwiICsgKGphZGUuYXR0cihcImlkXCIsIFwiXCIgKyAoaWQpICsgXCJcIiwgdHJ1ZSwgZmFsc2UpKSArIChqYWRlLmF0dHIoXCJuYW1lXCIsIFwiXCIgKyAobmFtZSkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgXCIgcm93PVxcXCI0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj48L3RleHRhcmVhPjwvZGl2PjwvZGl2PlwiKTtcbn07XG5idWYucHVzaChcIjxkaXZcIiArIChqYWRlLmF0dHIoXCJpZFwiLCBcIlwiICsgKGlkKSArIFwiXCIsIHRydWUsIGZhbHNlKSkgKyBcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHJvbGU9XFxcImRpYWxvZ1xcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJxdWVzdGlvbkZvcm1MYWJlbFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJtb2RhbCBmYWRlXFxcIj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCI+PHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPuWFs+mXrTwvc3Bhbj48L2J1dHRvbj48aDQgaWQ9XFxcInF1ZXN0aW9uRm9ybUxhYmVsXFxcIiBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPui+k+WFpemXrumimOivpue7huS/oeaBrzwvaDQ+PC9kaXY+PGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+PGZvcm0gY2xhc3M9XFxcImZvcm0taG9yaXpvbnRhbFxcXCI+XCIpO1xuamFkZV9taXhpbnNbXCJ0ZXh0YXJlYVwiXSgnY29udGVudCcsICfpl67popjlhoXlrrknLCAnY29udGVudCcpO1xuYnVmLnB1c2goXCI8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj48bGFiZWwgZm9yPVxcXCJ0eXBlXFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbFxcXCI+6Zeu6aKY5YaF5a65PC9sYWJlbD48ZGl2IGNsYXNzPVxcXCJjb2wtc20tMTBcXFwiPjxzZWxlY3QgaWQ9XFxcInR5cGVcXFwiIHJvdz1cXFwiNFxcXCIgbmFtZT1cXFwidHlwZVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCB0ZXh0YXJlYVxcXCI+PC9zZWxlY3Q+PC9kaXY+PC9kaXY+XCIpO1xudmFyIG9wdGlvbnMgPSBbJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJ11cbi8vIGl0ZXJhdGUgb3B0aW9uc1xuOyhmdW5jdGlvbigpe1xuICB2YXIgJCRvYmogPSBvcHRpb25zO1xuICBpZiAoJ251bWJlcicgPT0gdHlwZW9mICQkb2JqLmxlbmd0aCkge1xuXG4gICAgZm9yICh2YXIgJGluZGV4ID0gMCwgJCRsID0gJCRvYmoubGVuZ3RoOyAkaW5kZXggPCAkJGw7ICRpbmRleCsrKSB7XG4gICAgICB2YXIgb3B0aW9uID0gJCRvYmpbJGluZGV4XTtcblxuamFkZV9taXhpbnNbXCJ0ZXh0YXJlYVwiXSgnb3B0aW9uXycgKyBvcHRpb24sIFwi6YCJ6aG5XCIgKyBvcHRpb24sICdvcHRpb25fJyArIG9wdGlvbik7XG4gICAgfVxuXG4gIH0gZWxzZSB7XG4gICAgdmFyICQkbCA9IDA7XG4gICAgZm9yICh2YXIgJGluZGV4IGluICQkb2JqKSB7XG4gICAgICAkJGwrKzsgICAgICB2YXIgb3B0aW9uID0gJCRvYmpbJGluZGV4XTtcblxuamFkZV9taXhpbnNbXCJ0ZXh0YXJlYVwiXSgnb3B0aW9uXycgKyBvcHRpb24sIFwi6YCJ6aG5XCIgKyBvcHRpb24sICdvcHRpb25fJyArIG9wdGlvbik7XG4gICAgfVxuXG4gIH1cbn0pLmNhbGwodGhpcyk7XG5cbmJ1Zi5wdXNoKFwiPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+PGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7mraPnoa7nrZTmoYg8L2xhYmVsPjxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMFxcXCI+XCIpO1xuLy8gaXRlcmF0ZSBvcHRpb25zXG47KGZ1bmN0aW9uKCl7XG4gIHZhciAkJG9iaiA9IG9wdGlvbnM7XG4gIGlmICgnbnVtYmVyJyA9PSB0eXBlb2YgJCRvYmoubGVuZ3RoKSB7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgJCRsID0gJCRvYmoubGVuZ3RoOyBpIDwgJCRsOyBpKyspIHtcbiAgICAgIHZhciBvcHRpb24gPSAkJG9ialtpXTtcblxuYnVmLnB1c2goXCI8ZGl2IGNsYXNzPVxcXCJjaGVja2JveCBjb2wteHMtNiBjb2wtc20tNFxcXCI+PGxhYmVsPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwiY29ycmVjdF9vcHRpb25cXFwiXCIgKyAoamFkZS5hdHRyKFwidmFsdWVcIiwgaSsxLCB0cnVlLCBmYWxzZSkpICsgXCIvPumAiemhuVwiICsgKGphZGUuZXNjYXBlKChqYWRlX2ludGVycCA9IG9wdGlvbikgPT0gbnVsbCA/ICcnIDogamFkZV9pbnRlcnApKSArIFwiPC9sYWJlbD48L2Rpdj5cIik7XG4gICAgfVxuXG4gIH0gZWxzZSB7XG4gICAgdmFyICQkbCA9IDA7XG4gICAgZm9yICh2YXIgaSBpbiAkJG9iaikge1xuICAgICAgJCRsKys7ICAgICAgdmFyIG9wdGlvbiA9ICQkb2JqW2ldO1xuXG5idWYucHVzaChcIjxkaXYgY2xhc3M9XFxcImNoZWNrYm94IGNvbC14cy02IGNvbC1zbS00XFxcIj48bGFiZWw+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJjb3JyZWN0X29wdGlvblxcXCJcIiArIChqYWRlLmF0dHIoXCJ2YWx1ZVwiLCBpKzEsIHRydWUsIGZhbHNlKSkgKyBcIi8+6YCJ6aG5XCIgKyAoamFkZS5lc2NhcGUoKGphZGVfaW50ZXJwID0gb3B0aW9uKSA9PSBudWxsID8gJycgOiBqYWRlX2ludGVycCkpICsgXCI8L2xhYmVsPjwvZGl2PlwiKTtcbiAgICB9XG5cbiAgfVxufSkuY2FsbCh0aGlzKTtcblxuYnVmLnB1c2goXCI8L2Rpdj48L2Rpdj48L2Zvcm0+PC9kaXY+PGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+5Y+W5raIPC9idXR0b24+PGJ1dHRvbiB0eXBlPVxcXCJzdWJtaXRcXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnlcXFwiPuS/neWtmDwvYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PlwiKTt9LmNhbGwodGhpcyxcImlkXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5pZDp0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiP2lkOnVuZGVmaW5lZCxcInVuZGVmaW5lZFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgudW5kZWZpbmVkOnR5cGVvZiB1bmRlZmluZWQhPT1cInVuZGVmaW5lZFwiP3VuZGVmaW5lZDp1bmRlZmluZWQpKTs7cmV0dXJuIGJ1Zi5qb2luKFwiXCIpO1xufTsiLCJ2YXIgamFkZSA9IHJlcXVpcmUoXCJqYWRlL3J1bnRpbWVcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7XG52YXIgYnVmID0gW107XG52YXIgamFkZV9taXhpbnMgPSB7fTtcbnZhciBqYWRlX2ludGVycDtcbjt2YXIgbG9jYWxzX2Zvcl93aXRoID0gKGxvY2FscyB8fCB7fSk7KGZ1bmN0aW9uIChidXR0b24sIGNvbnRlbnQsIGNvcnJlY3Rfb3B0aW9uLCBpZCwgb3B0aW9uX0EsIG9wdGlvbl9CLCBvcHRpb25fQywgb3B0aW9uX0QsIG9wdGlvbl9FLCBvcHRpb25fRiwgdHlwZSkge1xuYnVmLnB1c2goXCI8dGQgY2xhc3M9XFxcImNvbnRlbnRcXFwiPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gY29udGVudCkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSB0eXBlKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IGNvcnJlY3Rfb3B0aW9uKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IG9wdGlvbl9BKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IG9wdGlvbl9CKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IG9wdGlvbl9DKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IG9wdGlvbl9EKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IG9wdGlvbl9FKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IG9wdGlvbl9GKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L3RkPjx0ZD48YVwiICsgKGphZGUuYXR0cihcInR5cGVcIiwgYnV0dG9uLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcImRhdGEtaWRcIiwgaWQsIHRydWUsIGZhbHNlKSkgKyBcIiBkYXRhLXRvZ2dsZT1cXFwibW9kYWxcXFwiIGRhdGEtdGFyZ2V0PVxcXCIjcXVlc3Rpb25Nb2RhbEZvcm1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnkgYnRuLXhzXFxcIj7nvJbovpE8L2E+PGEgaWQ9XFxcImRlbGV0ZVxcXCJcIiArIChqYWRlLmF0dHIoXCJ0eXBlXCIsIGJ1dHRvbiwgdHJ1ZSwgZmFsc2UpKSArIFwiIGNsYXNzPVxcXCJidG4gYnRuLWRhbmdlciBidG4teHNcXFwiPuWIoOmZpDwvYT48L3RkPlwiKTt9LmNhbGwodGhpcyxcImJ1dHRvblwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguYnV0dG9uOnR5cGVvZiBidXR0b24hPT1cInVuZGVmaW5lZFwiP2J1dHRvbjp1bmRlZmluZWQsXCJjb250ZW50XCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5jb250ZW50OnR5cGVvZiBjb250ZW50IT09XCJ1bmRlZmluZWRcIj9jb250ZW50OnVuZGVmaW5lZCxcImNvcnJlY3Rfb3B0aW9uXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5jb3JyZWN0X29wdGlvbjp0eXBlb2YgY29ycmVjdF9vcHRpb24hPT1cInVuZGVmaW5lZFwiP2NvcnJlY3Rfb3B0aW9uOnVuZGVmaW5lZCxcImlkXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5pZDp0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiP2lkOnVuZGVmaW5lZCxcIm9wdGlvbl9BXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5vcHRpb25fQTp0eXBlb2Ygb3B0aW9uX0EhPT1cInVuZGVmaW5lZFwiP29wdGlvbl9BOnVuZGVmaW5lZCxcIm9wdGlvbl9CXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5vcHRpb25fQjp0eXBlb2Ygb3B0aW9uX0IhPT1cInVuZGVmaW5lZFwiP29wdGlvbl9COnVuZGVmaW5lZCxcIm9wdGlvbl9DXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5vcHRpb25fQzp0eXBlb2Ygb3B0aW9uX0MhPT1cInVuZGVmaW5lZFwiP29wdGlvbl9DOnVuZGVmaW5lZCxcIm9wdGlvbl9EXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5vcHRpb25fRDp0eXBlb2Ygb3B0aW9uX0QhPT1cInVuZGVmaW5lZFwiP29wdGlvbl9EOnVuZGVmaW5lZCxcIm9wdGlvbl9FXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5vcHRpb25fRTp0eXBlb2Ygb3B0aW9uX0UhPT1cInVuZGVmaW5lZFwiP29wdGlvbl9FOnVuZGVmaW5lZCxcIm9wdGlvbl9GXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5vcHRpb25fRjp0eXBlb2Ygb3B0aW9uX0YhPT1cInVuZGVmaW5lZFwiP29wdGlvbl9GOnVuZGVmaW5lZCxcInR5cGVcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLnR5cGU6dHlwZW9mIHR5cGUhPT1cInVuZGVmaW5lZFwiP3R5cGU6dW5kZWZpbmVkKSk7O3JldHVybiBidWYuam9pbihcIlwiKTtcbn07IiwidmFyIGphZGUgPSByZXF1aXJlKFwiamFkZS9ydW50aW1lXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRlbXBsYXRlKGxvY2Fscykge1xudmFyIGJ1ZiA9IFtdO1xudmFyIGphZGVfbWl4aW5zID0ge307XG52YXIgamFkZV9pbnRlcnA7XG47dmFyIGxvY2Fsc19mb3Jfd2l0aCA9IChsb2NhbHMgfHwge30pOyhmdW5jdGlvbiAoaWQpIHtcbmphZGVfbWl4aW5zW1wiaW5wdXRcIl0gPSBqYWRlX2ludGVycCA9IGZ1bmN0aW9uKHR5cGUsaWQscGxhY2Vob2xkZXIsbGFiZWwsbmFtZSl7XG52YXIgYmxvY2sgPSAodGhpcyAmJiB0aGlzLmJsb2NrKSwgYXR0cmlidXRlcyA9ICh0aGlzICYmIHRoaXMuYXR0cmlidXRlcykgfHwge307XG5idWYucHVzaChcIjxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPjxsYWJlbFwiICsgKGphZGUuYXR0cihcImZvclwiLCBcIlwiICsgKGlkKSArIFwiXCIsIHRydWUsIGZhbHNlKSkgKyBcIiBjbGFzcz1cXFwiY29sLXhzLTIgY29udHJvbC1sYWJlbFxcXCI+XCIgKyAoamFkZS5lc2NhcGUoKGphZGVfaW50ZXJwID0gbGFiZWwpID09IG51bGwgPyAnJyA6IGphZGVfaW50ZXJwKSkgKyBcIjwvbGFiZWw+PGRpdiBjbGFzcz1cXFwiY29sLXhzLTEwXFxcIj48aW5wdXRcIiArIChqYWRlLmF0dHIoXCJ0eXBlXCIsIFwiXCIgKyAodHlwZSkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcImlkXCIsIFwiXCIgKyAoaWQpICsgXCJcIiwgdHJ1ZSwgZmFsc2UpKSArIChqYWRlLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcIlwiICsgKHBsYWNlaG9sZGVyKSArIFwiXCIsIHRydWUsIGZhbHNlKSkgKyAoamFkZS5hdHRyKFwibmFtZVwiLCBcIlwiICsgKG5hbWUpICsgXCJcIiwgdHJ1ZSwgZmFsc2UpKSArIFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiLz48L2Rpdj48L2Rpdj5cIik7XG59O1xuYnVmLnB1c2goXCI8ZGl2XCIgKyAoamFkZS5hdHRyKFwiaWRcIiwgXCJcIiArIChpZCkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwidXNlckZvcm1MYWJlbFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJtb2RhbCBmYWRlXFxcIj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCI+PHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPuWFs+mXrTwvc3Bhbj48L2J1dHRvbj48aDQgaWQ9XFxcInVzZXJGb3JtTGFiZWxcXFwiIGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+6L6T5YWl55So5oi35L+h5oGvPC9oND48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj48cm93Pjxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiPlwiKTtcbmphZGVfbWl4aW5zW1wiaW5wdXRcIl0oJ3RleHQnLCAndXNlcm5hbWUnLCAn55So5oi35ZCNJywgJ+eUqOaIt+WQjScsICd1c2VybmFtZScpO1xuamFkZV9taXhpbnNbXCJpbnB1dFwiXSgncGFzc3dvcmQnLCAncGFzc3dvcmQnLCAn5a+G56CBJywgJ+WvhueggScsICdwYXNzd29yZCcpO1xuYnVmLnB1c2goXCI8L2Zvcm0+PC9yb3c+PC9kaXY+PGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+5Y+W5raIPC9idXR0b24+PGJ1dHRvbiB0eXBlPVxcXCJzdWJtaXRcXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnlcXFwiPuS/neWtmDwvYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PlwiKTt9LmNhbGwodGhpcyxcImlkXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5pZDp0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiP2lkOnVuZGVmaW5lZCkpOztyZXR1cm4gYnVmLmpvaW4oXCJcIik7XG59OyIsInZhciBqYWRlID0gcmVxdWlyZShcImphZGUvcnVudGltZVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0ZW1wbGF0ZShsb2NhbHMpIHtcbnZhciBidWYgPSBbXTtcbnZhciBqYWRlX21peGlucyA9IHt9O1xudmFyIGphZGVfaW50ZXJwO1xuO3ZhciBsb2NhbHNfZm9yX3dpdGggPSAobG9jYWxzIHx8IHt9KTsoZnVuY3Rpb24gKGFjdGl2ZSwgYWRtaW4sIGlkLCB1c2VybmFtZSkge1xuYnVmLnB1c2goXCI8dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBpZCkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSB1c2VybmFtZSkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC90ZD48dGQ+XCIpO1xuaWYgKCAhYWRtaW4pXG57XG5idWYucHVzaChcIjxhIHR5cGU9XFxcImJ1dHRvblxcXCJcIiArIChqYWRlLmF0dHIoXCJkYXRhLWlkXCIsIGlkLCB0cnVlLCBmYWxzZSkpICsgXCIgZGF0YS10b2dnbGU9XFxcIm1vZGFsXFxcIiBkYXRhLXRhcmdldD1cXFwiI3VzZXJNb2RhbEZvcm1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXhzXFxcIj7kv67mlLnlr4bnoIFcIik7XG5pZiAoIGFjdGl2ZSlcbntcbmJ1Zi5wdXNoKFwiPGEgaWQ9XFxcImRlYWN0aXZhdGVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGFuZ2VyIGJ0bi14c1xcXCI+5Ya757uT5biQ5Y+3PC9hPlwiKTtcbn1cbmVsc2VcbntcbmJ1Zi5wdXNoKFwiPGEgaWQ9XFxcImFjdGl2YXRlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzXFxcIj7mv4DmtLvluJDlj7c8L2E+XCIpO1xufVxuYnVmLnB1c2goXCI8L2E+XCIpO1xufVxuYnVmLnB1c2goXCI8L3RkPlwiKTt9LmNhbGwodGhpcyxcImFjdGl2ZVwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguYWN0aXZlOnR5cGVvZiBhY3RpdmUhPT1cInVuZGVmaW5lZFwiP2FjdGl2ZTp1bmRlZmluZWQsXCJhZG1pblwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguYWRtaW46dHlwZW9mIGFkbWluIT09XCJ1bmRlZmluZWRcIj9hZG1pbjp1bmRlZmluZWQsXCJpZFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguaWQ6dHlwZW9mIGlkIT09XCJ1bmRlZmluZWRcIj9pZDp1bmRlZmluZWQsXCJ1c2VybmFtZVwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgudXNlcm5hbWU6dHlwZW9mIHVzZXJuYW1lIT09XCJ1bmRlZmluZWRcIj91c2VybmFtZTp1bmRlZmluZWQpKTs7cmV0dXJuIGJ1Zi5qb2luKFwiXCIpO1xufTsiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG4oZnVuY3Rpb24oZil7aWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiJiZ0eXBlb2YgbW9kdWxlIT09XCJ1bmRlZmluZWRcIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtdLGYpfWVsc2V7dmFyIGc7aWYodHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCIpe2c9d2luZG93fWVsc2UgaWYodHlwZW9mIGdsb2JhbCE9PVwidW5kZWZpbmVkXCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT1cInVuZGVmaW5lZFwiKXtnPXNlbGZ9ZWxzZXtnPXRoaXN9Zy5qYWRlID0gZigpfX0pKGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIE1lcmdlIHR3byBhdHRyaWJ1dGUgb2JqZWN0cyBnaXZpbmcgcHJlY2VkZW5jZVxuICogdG8gdmFsdWVzIGluIG9iamVjdCBgYmAuIENsYXNzZXMgYXJlIHNwZWNpYWwtY2FzZWRcbiAqIGFsbG93aW5nIGZvciBhcnJheXMgYW5kIG1lcmdpbmcvam9pbmluZyBhcHByb3ByaWF0ZWx5XG4gKiByZXN1bHRpbmcgaW4gYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBiXG4gKiBAcmV0dXJuIHtPYmplY3R9IGFcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMubWVyZ2UgPSBmdW5jdGlvbiBtZXJnZShhLCBiKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgdmFyIGF0dHJzID0gYVswXTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGF0dHJzID0gbWVyZ2UoYXR0cnMsIGFbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYXR0cnM7XG4gIH1cbiAgdmFyIGFjID0gYVsnY2xhc3MnXTtcbiAgdmFyIGJjID0gYlsnY2xhc3MnXTtcblxuICBpZiAoYWMgfHwgYmMpIHtcbiAgICBhYyA9IGFjIHx8IFtdO1xuICAgIGJjID0gYmMgfHwgW107XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFjKSkgYWMgPSBbYWNdO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShiYykpIGJjID0gW2JjXTtcbiAgICBhWydjbGFzcyddID0gYWMuY29uY2F0KGJjKS5maWx0ZXIobnVsbHMpO1xuICB9XG5cbiAgZm9yICh2YXIga2V5IGluIGIpIHtcbiAgICBpZiAoa2V5ICE9ICdjbGFzcycpIHtcbiAgICAgIGFba2V5XSA9IGJba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYTtcbn07XG5cbi8qKlxuICogRmlsdGVyIG51bGwgYHZhbGBzLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbnVsbHModmFsKSB7XG4gIHJldHVybiB2YWwgIT0gbnVsbCAmJiB2YWwgIT09ICcnO1xufVxuXG4vKipcbiAqIGpvaW4gYXJyYXkgYXMgY2xhc3Nlcy5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnRzLmpvaW5DbGFzc2VzID0gam9pbkNsYXNzZXM7XG5mdW5jdGlvbiBqb2luQ2xhc3Nlcyh2YWwpIHtcbiAgcmV0dXJuIChBcnJheS5pc0FycmF5KHZhbCkgPyB2YWwubWFwKGpvaW5DbGFzc2VzKSA6XG4gICAgKHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JykgPyBPYmplY3Qua2V5cyh2YWwpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7IHJldHVybiB2YWxba2V5XTsgfSkgOlxuICAgIFt2YWxdKS5maWx0ZXIobnVsbHMpLmpvaW4oJyAnKTtcbn1cblxuLyoqXG4gKiBSZW5kZXIgdGhlIGdpdmVuIGNsYXNzZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gY2xhc3Nlc1xuICogQHBhcmFtIHtBcnJheS48Qm9vbGVhbj59IGVzY2FwZWRcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZXhwb3J0cy5jbHMgPSBmdW5jdGlvbiBjbHMoY2xhc3NlcywgZXNjYXBlZCkge1xuICB2YXIgYnVmID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChlc2NhcGVkICYmIGVzY2FwZWRbaV0pIHtcbiAgICAgIGJ1Zi5wdXNoKGV4cG9ydHMuZXNjYXBlKGpvaW5DbGFzc2VzKFtjbGFzc2VzW2ldXSkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmLnB1c2goam9pbkNsYXNzZXMoY2xhc3Nlc1tpXSkpO1xuICAgIH1cbiAgfVxuICB2YXIgdGV4dCA9IGpvaW5DbGFzc2VzKGJ1Zik7XG4gIGlmICh0ZXh0Lmxlbmd0aCkge1xuICAgIHJldHVybiAnIGNsYXNzPVwiJyArIHRleHQgKyAnXCInO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAnJztcbiAgfVxufTtcblxuXG5leHBvcnRzLnN0eWxlID0gZnVuY3Rpb24gKHZhbCkge1xuICBpZiAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHZhbCkubWFwKGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgcmV0dXJuIHN0eWxlICsgJzonICsgdmFsW3N0eWxlXTtcbiAgICB9KS5qb2luKCc7Jyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxufTtcbi8qKlxuICogUmVuZGVyIHRoZSBnaXZlbiBhdHRyaWJ1dGUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICogQHBhcmFtIHtTdHJpbmd9IHZhbFxuICogQHBhcmFtIHtCb29sZWFufSBlc2NhcGVkXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHRlcnNlXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmV4cG9ydHMuYXR0ciA9IGZ1bmN0aW9uIGF0dHIoa2V5LCB2YWwsIGVzY2FwZWQsIHRlcnNlKSB7XG4gIGlmIChrZXkgPT09ICdzdHlsZScpIHtcbiAgICB2YWwgPSBleHBvcnRzLnN0eWxlKHZhbCk7XG4gIH1cbiAgaWYgKCdib29sZWFuJyA9PSB0eXBlb2YgdmFsIHx8IG51bGwgPT0gdmFsKSB7XG4gICAgaWYgKHZhbCkge1xuICAgICAgcmV0dXJuICcgJyArICh0ZXJzZSA/IGtleSA6IGtleSArICc9XCInICsga2V5ICsgJ1wiJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH0gZWxzZSBpZiAoMCA9PSBrZXkuaW5kZXhPZignZGF0YScpICYmICdzdHJpbmcnICE9IHR5cGVvZiB2YWwpIHtcbiAgICBpZiAoSlNPTi5zdHJpbmdpZnkodmFsKS5pbmRleE9mKCcmJykgIT09IC0xKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1NpbmNlIEphZGUgMi4wLjAsIGFtcGVyc2FuZHMgKGAmYCkgaW4gZGF0YSBhdHRyaWJ1dGVzICcgK1xuICAgICAgICAgICAgICAgICAgICd3aWxsIGJlIGVzY2FwZWQgdG8gYCZhbXA7YCcpO1xuICAgIH07XG4gICAgaWYgKHZhbCAmJiB0eXBlb2YgdmFsLnRvSVNPU3RyaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0phZGUgd2lsbCBlbGltaW5hdGUgdGhlIGRvdWJsZSBxdW90ZXMgYXJvdW5kIGRhdGVzIGluICcgK1xuICAgICAgICAgICAgICAgICAgICdJU08gZm9ybSBhZnRlciAyLjAuMCcpO1xuICAgIH1cbiAgICByZXR1cm4gJyAnICsga2V5ICsgXCI9J1wiICsgSlNPTi5zdHJpbmdpZnkodmFsKS5yZXBsYWNlKC8nL2csICcmYXBvczsnKSArIFwiJ1wiO1xuICB9IGVsc2UgaWYgKGVzY2FwZWQpIHtcbiAgICBpZiAodmFsICYmIHR5cGVvZiB2YWwudG9JU09TdHJpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnNvbGUud2FybignSmFkZSB3aWxsIHN0cmluZ2lmeSBkYXRlcyBpbiBJU08gZm9ybSBhZnRlciAyLjAuMCcpO1xuICAgIH1cbiAgICByZXR1cm4gJyAnICsga2V5ICsgJz1cIicgKyBleHBvcnRzLmVzY2FwZSh2YWwpICsgJ1wiJztcbiAgfSBlbHNlIHtcbiAgICBpZiAodmFsICYmIHR5cGVvZiB2YWwudG9JU09TdHJpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnNvbGUud2FybignSmFkZSB3aWxsIHN0cmluZ2lmeSBkYXRlcyBpbiBJU08gZm9ybSBhZnRlciAyLjAuMCcpO1xuICAgIH1cbiAgICByZXR1cm4gJyAnICsga2V5ICsgJz1cIicgKyB2YWwgKyAnXCInO1xuICB9XG59O1xuXG4vKipcbiAqIFJlbmRlciB0aGUgZ2l2ZW4gYXR0cmlidXRlcyBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtPYmplY3R9IGVzY2FwZWRcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZXhwb3J0cy5hdHRycyA9IGZ1bmN0aW9uIGF0dHJzKG9iaiwgdGVyc2Upe1xuICB2YXIgYnVmID0gW107XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuXG4gIGlmIChrZXlzLmxlbmd0aCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV1cbiAgICAgICAgLCB2YWwgPSBvYmpba2V5XTtcblxuICAgICAgaWYgKCdjbGFzcycgPT0ga2V5KSB7XG4gICAgICAgIGlmICh2YWwgPSBqb2luQ2xhc3Nlcyh2YWwpKSB7XG4gICAgICAgICAgYnVmLnB1c2goJyAnICsga2V5ICsgJz1cIicgKyB2YWwgKyAnXCInKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnVmLnB1c2goZXhwb3J0cy5hdHRyKGtleSwgdmFsLCBmYWxzZSwgdGVyc2UpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmLmpvaW4oJycpO1xufTtcblxuLyoqXG4gKiBFc2NhcGUgdGhlIGdpdmVuIHN0cmluZyBvZiBgaHRtbGAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGh0bWxcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbnZhciBqYWRlX2VuY29kZV9odG1sX3J1bGVzID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJyZxdW90Oydcbn07XG52YXIgamFkZV9tYXRjaF9odG1sID0gL1smPD5cIl0vZztcblxuZnVuY3Rpb24gamFkZV9lbmNvZGVfY2hhcihjKSB7XG4gIHJldHVybiBqYWRlX2VuY29kZV9odG1sX3J1bGVzW2NdIHx8IGM7XG59XG5cbmV4cG9ydHMuZXNjYXBlID0gamFkZV9lc2NhcGU7XG5mdW5jdGlvbiBqYWRlX2VzY2FwZShodG1sKXtcbiAgdmFyIHJlc3VsdCA9IFN0cmluZyhodG1sKS5yZXBsYWNlKGphZGVfbWF0Y2hfaHRtbCwgamFkZV9lbmNvZGVfY2hhcik7XG4gIGlmIChyZXN1bHQgPT09ICcnICsgaHRtbCkgcmV0dXJuIGh0bWw7XG4gIGVsc2UgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogUmUtdGhyb3cgdGhlIGdpdmVuIGBlcnJgIGluIGNvbnRleHQgdG8gdGhlXG4gKiB0aGUgamFkZSBpbiBgZmlsZW5hbWVgIGF0IHRoZSBnaXZlbiBgbGluZW5vYC5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlbmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IGxpbmVub1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5yZXRocm93ID0gZnVuY3Rpb24gcmV0aHJvdyhlcnIsIGZpbGVuYW1lLCBsaW5lbm8sIHN0cil7XG4gIGlmICghKGVyciBpbnN0YW5jZW9mIEVycm9yKSkgdGhyb3cgZXJyO1xuICBpZiAoKHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgfHwgIWZpbGVuYW1lKSAmJiAhc3RyKSB7XG4gICAgZXJyLm1lc3NhZ2UgKz0gJyBvbiBsaW5lICcgKyBsaW5lbm87XG4gICAgdGhyb3cgZXJyO1xuICB9XG4gIHRyeSB7XG4gICAgc3RyID0gc3RyIHx8IHJlcXVpcmUoJ2ZzJykucmVhZEZpbGVTeW5jKGZpbGVuYW1lLCAndXRmOCcpXG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgcmV0aHJvdyhlcnIsIG51bGwsIGxpbmVubylcbiAgfVxuICB2YXIgY29udGV4dCA9IDNcbiAgICAsIGxpbmVzID0gc3RyLnNwbGl0KCdcXG4nKVxuICAgICwgc3RhcnQgPSBNYXRoLm1heChsaW5lbm8gLSBjb250ZXh0LCAwKVxuICAgICwgZW5kID0gTWF0aC5taW4obGluZXMubGVuZ3RoLCBsaW5lbm8gKyBjb250ZXh0KTtcblxuICAvLyBFcnJvciBjb250ZXh0XG4gIHZhciBjb250ZXh0ID0gbGluZXMuc2xpY2Uoc3RhcnQsIGVuZCkubWFwKGZ1bmN0aW9uKGxpbmUsIGkpe1xuICAgIHZhciBjdXJyID0gaSArIHN0YXJ0ICsgMTtcbiAgICByZXR1cm4gKGN1cnIgPT0gbGluZW5vID8gJyAgPiAnIDogJyAgICAnKVxuICAgICAgKyBjdXJyXG4gICAgICArICd8ICdcbiAgICAgICsgbGluZTtcbiAgfSkuam9pbignXFxuJyk7XG5cbiAgLy8gQWx0ZXIgZXhjZXB0aW9uIG1lc3NhZ2VcbiAgZXJyLnBhdGggPSBmaWxlbmFtZTtcbiAgZXJyLm1lc3NhZ2UgPSAoZmlsZW5hbWUgfHwgJ0phZGUnKSArICc6JyArIGxpbmVub1xuICAgICsgJ1xcbicgKyBjb250ZXh0ICsgJ1xcblxcbicgKyBlcnIubWVzc2FnZTtcbiAgdGhyb3cgZXJyO1xufTtcblxuZXhwb3J0cy5EZWJ1Z0l0ZW0gPSBmdW5jdGlvbiBEZWJ1Z0l0ZW0obGluZW5vLCBmaWxlbmFtZSkge1xuICB0aGlzLmxpbmVubyA9IGxpbmVubztcbiAgdGhpcy5maWxlbmFtZSA9IGZpbGVuYW1lO1xufVxuXG59LHtcImZzXCI6Mn1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXG59LHt9XX0se30sWzFdKSgxKVxufSk7XG59KS5jYWxsKHRoaXMsdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSJdfQ==\n"],"sourceRoot":"/source/"}