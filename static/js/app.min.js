!function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return i(n?n:t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){var o,i;i=t("ui-mixin"),window.IntApp=o={AccountPageView:t("account-page"),BookPageView:t("book-page"),QuestionPageView:t("question-page"),ActivityPageView:t("activity-page")},_.extend(o,i),o.initUI=function(){return this.layout.activate(),this.pushMenu.activate(),this.tree()},$(function(){return o.initUI()})},{"account-page":3,"activity-page":4,"book-page":5,"question-page":8,"ui-mixin":9}],2:[function(t,e,n){},{}],3:[function(t,e,n){var o,i,r,a,s,l,u,p,d,c,f,v=function(t,e){function n(){this.constructor=t}for(var o in e)h.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;r=t("data/base-model"),i=t("data/base-collection"),l=t("views/table-view"),s=t("views/pagination-view"),a=t("views/modal-view"),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return v(e,t),e.prototype.urlRoot="/api/v1/user",e.prototype.defaults={username:"",password:""},e.prototype.validation={username:{blank:!1,message:"用户名不能为空"},password:{blank:!1,minLength:6,message:"密码不能少于6位"}},e.prototype.activate=function(){var t,e;return t={active:!0},e="/accounts/"+this.id+"/toggle",this.save(t,{attrs:t,url:e})},e.prototype.deactivate=function(){var t,e;return t={active:!1},e="/accounts/"+this.id+"/toggle",this.save(t,{attrs:t,url:e})},e}(r),c=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return v(e,t),e.prototype.url="/api/v1/user",e.prototype.model=u,e}(i),d=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return v(n,e),n.prototype.tagName="tr",n.prototype.template=t("templates/user-row"),n.prototype.events={"click #deactivate":function(){return this.model.deactivate()},"click #activate":function(){return this.model.activate()}},n.prototype.initialize=function(){return this.listenTo(this.model,"sync",this.render),this.listenTo(this.model,"destroy",this.remove)},n.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},n}(Backbone.View),p=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return v(n,e),n.prototype.template=t("templates/user-modal"),n.prototype.bindings={"#username":"username","#password":"password"},n.prototype.save=function(t){var e,n;return t.preventDefault(),e=this.model.isNew()?"/accounts/create":"/accounts/"+this.model.id+"/changePwd",n=this.model.save(null,{url:e}),n?n.then(function(t){return function(){return t.collection.add(t.model),t.$el.modal("hide")}}(this)):void 0},n}(a),f=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return v(e,t),e.prototype.row=function(t){return new d({model:t})},e}(l),e.exports=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return v(e,t),e.prototype.render=function(){var t,e,n,o;return n=new c,o=new f({el:$(".table-container"),collection:n}),t=new s({collection:n}),o.$el.after(t.render().$el),e=new p({id:"userModalForm",collection:n}),e.render(),n.fetch({reset:!0}),this},e}(Backbone.View)},{"data/base-collection":6,"data/base-model":7,"templates/user-modal":19,"templates/user-row":20,"views/modal-view":10,"views/pagination-view":11,"views/table-view":12}],4:[function(t,e,n){var o,i,r,a,s,l,u,p,d,c,f,v=function(t,e){function n(){this.constructor=t}for(var o in e)h.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;u=t("data/base-model"),l=t("data/base-collection"),f=t("views/table-view"),c=t("views/pagination-view"),d=t("views/modal-view"),p="YYYY-MM-DD HH:mm:ss",r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return v(e,t),e.prototype.urlRoot="/api/v1/activity/",e.prototype.defaults={info_field_1:"",info_field_2:"",info_field_3:""},e}(u),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return v(e,t),e.prototype.url="/api/v1/activity/",e.prototype.model=r,e}(l),s=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return v(n,e),n.prototype.tagName="tr",n.prototype.template=t("templates/activity-row"),n.prototype.render=function(){var t,e,n,o,i;return n=window.front_host||"/",t=this.model.toJSON(),i=new moment(t.start_at,p),e=new moment(t.end_at,p),o=new moment,t.status=o>i&&e>o?"开启":"关闭",t.url="http://"+n+"/index.html#"+t.code,t.type=function(){switch(t.type){case 0:return"普通";case 1:return"限时";case 2:return"挑战";default:return"未知"}}(),this.$el.html(this.template(t)),this},n}(Backbone.View),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return v(e,t),e.prototype.row=function(t){return new s({model:t})},e}(f),e.exports=a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return v(e,t),e.prototype.render=function(){var t,e,n;return t=new o,e=new i({el:$("#activity-table-container"),collection:t}),n=new c({collection:t}),e.$el.after(n.render().$el),t.fetch({reset:!0}),this},e}(Backbone.View)},{"data/base-collection":6,"data/base-model":7,"templates/activity-row":13,"views/modal-view":10,"views/pagination-view":11,"views/table-view":12}],5:[function(t,e,n){var o,i,r,a,s,l,u,p,d,c,f,v=function(t,e){function n(){this.constructor=t}for(var o in e)h.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;i=t("data/base-model"),o=t("data/base-collection"),f=t("views/table-view"),s=t("views/pagination-view"),a=t("views/modal-view"),l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return v(e,t),e.prototype.urlRoot="/api/v1/quizbook",e.prototype.validation={title:{blank:!1,message:"题库名不能为空"}},e}(i),d=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return v(e,t),e.prototype.url="/api/v1/quizbook",e.prototype.model=l,e}(o),p=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return v(n,e),n.prototype.tagName="tr",n.prototype.template=t("templates/book-row"),n.prototype.initialize=function(){return this.listenTo(this.model,"sync",this.render)},n.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},n}(Backbone.View),u=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return v(n,e),n.prototype.template=t("templates/book-modal"),n.prototype.bindings={"#title":"title"},n}(a),c=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return v(e,t),e.prototype.row=function(t){return new p({model:t})},e}(f),e.exports=r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return v(e,t),e.prototype.render=function(){var t,e,n,o;return n=new d,o=new c({el:$("#quizbook-table-container"),collection:n}),t=new s({collection:n}),o.$el.after(t.render().$el),e=new u({id:"bookModalForm",collection:n}),e.render(),n.fetch({reset:!0}),this},e}(Backbone.View)},{"data/base-collection":6,"data/base-model":7,"templates/book-modal":14,"templates/book-row":15,"views/modal-view":10,"views/pagination-view":11,"views/table-view":12}],6:[function(t,e,n){var o,i=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.parse=function(t){return t&&t.meta&&(this.meta=t.meta),t&&t.objects||t},e}(Backbone.Collection),e.exports=o},{}],7:[function(t,e,n){var o,i=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.url=function(){var t;return t=e.__super__.url.call(this),t+(t.length>0&&"/"===t.charAt(t.length-1)?"":"/")},e.prototype.parse=function(t){return t&&t.objects&&_.isArray(t.objects)?t.objects[0]||{}:t},e}(Backbone.Model),e.exports=o},{}],8:[function(t,e,n){var o,i,r,a,s,l,u,p,d,c,f,v,h,m,y=function(t,e){function n(){this.constructor=t}for(var o in e)b.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},b={}.hasOwnProperty;i=t("data/base-model"),o=t("data/base-collection"),v=t("views/table-view"),a=t("views/pagination-view"),r=t("views/modal-view"),m=function(t){return String.fromCharCode(64+parseInt(t))},h=function(t){return t?t.charCodeAt(0):t},s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.urlRoot="/api/v1/question/",e.prototype.defaults={type:1,correct_option:"1",option_A:"",option_B:"",option_C:"",option_D:"",option_E:"",option_F:""},e.prototype.validation={content:{blank:!1,message:"题目内容不能为空"},type:{blank:!1,fn:function(t){return 1===t||2===t},message:"题目类型必须是多选或单选"},correct_option:{blank:!1,fn:function(t){return t=function(){switch(!1){case!_.isArray(t):return t;case!_.isString(t):return t.split(",");default:return!1}}(),!_.isEmpty(t)&&_.every(t,function(t){return this.get("option_"+m(t))},this)},message:"正确答案设置出错，注意对应的选项是否设置了答案"}},e}(i),c=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.url="/api/v1/question/",e.prototype.model=s,e.prototype.state={},e.prototype.fetch=function(t){var n;return t=_.extend({},t),n=t.data,t.data=_.extend({},this.state,n),e.__super__.fetch.call(this,t)},e}(o),d=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return y(n,e),n.prototype.tagName="tr",n.prototype.template=t("templates/question-row"),n.prototype.events={"click #delete":function(){return window.confirm("是否删除?")?this.model.destroy():void 0}},n.prototype.initialize=function(){return this.listenTo(this.model,"sync",this.render),this.listenTo(this.model,"destroy",this.remove)},n.prototype.render=function(){var t,e;return e=this.model.toJSON(),t=e.correct_option.split(","),e.correct_option=_.map(t,m).join(),e.type=function(){switch(e.type){case 1:return"单选";case 2:return"多选";default:return"多选"}}(),this.$el.html(this.template(e)),this},n}(Backbone.View),f=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.row=function(t){return new d({model:t})},e}(v),u=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return y(n,e),n.prototype.template=t("templates/question-modal"),n.prototype.bindings=function(){var t,e,n,o,i;for(t={"[name=content]":"content","[name=type]":{observe:"type",selectOptions:{collection:function(){return[{label:"单选",value:1},{label:"多选",value:2}]}},setOptions:{silent:!1}},"[name=correct_option]":{observe:"correct_option",onGet:function(t){return t.split(",")},onSet:function(t){return _.isArray(t)?t.join(","):t}}},i=["A","B","C","D","E","F"],n=0,o=i.length;o>n;n++)e=i[n],t["[name=option_"+e+"]"]="option_"+e;return t},n.prototype.show=function(t){return n.__super__.show.call(this,t),this.model.isNew()&&this.model.set("book",this.collection.state.book),this.changeType(this.model,this.model.get("type")),this.listenTo(this.model,"change:type",this.changeType)},n.prototype.changeType=function(t,e,n){var o,i;return i=1===e?"radio":"checkbox",o=t.get("correct_option"),"radio"===i&&o&&t.set("correct_option",o[0]),this.$("input[name=correct_option]").prop("type",i),this.stickit()},n.prototype.onInvalidField=function(t,e,o,i){var r,a,s,l,u;if("correct_option"!==t)return n.__super__.onInvalidField.call(this,t,e,o,i);for(a=this.$("[name="+t+"]"),s=a.closest(".form-group"),s.find(".help-block").remove(),l=0,u=o.length;u>l;l++)r=o[l],s.append("<div class='help-block col-sm-offset-2'>"+r+"</div>");return s.addClass("has-error")},n}(r),l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.events={"change #book":function(){return this.collection.state.book=this.$("#book").val()},"click #loadBook":function(){return this.collection.fetch({reset:!0})}},e}(Backbone.View),e.exports=p=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.render=function(t){var n,o,i,r,s;return t||(t=$("form select[name=book]").val()),r=new c,r.state.book=t,o=new l({el:$(".table-control"),collection:r}),s=new f({el:$("#question-table-container"),collection:r}),n=new a({collection:r}),s.$el.after(n.render().$el),i=new u({id:"questionModalForm",collection:r}),i.render(),r.fetch({reset:!0}),e.__super__.render.call(this)},e}(Backbone.View)},{"data/base-collection":6,"data/base-model":7,"templates/question-modal":17,"templates/question-row":18,"views/modal-view":10,"views/pagination-view":11,"views/table-view":12}],9:[function(t,e,n){e.exports={layout:{activate:function(){var t;return t=this,t.fix(),$(window,".wrapper").resize(function(){return t.fix()})},fix:function(){var t,e,n;return t=$(".main-header").outerHeight()+$(".main-footer").outerHeight(),n=$(window).height(),e=$(".sidebar").height(),n>=e?$(".content-wrapper").css("min-height",n-t):$(".content-wrapper").css("min-height",e)}},pushMenu:{activate:function(){return $("#collapseToggle").on("click",function(t){return t.preventDefault(),$(window).width()>767?$("body").hasClass("sidebar-collapse")?$("body").removeClass("sidebar-collapse"):$("body").addClass("sidebar-collapse"):$("body").hasClass("sidebar-open")?$("body").removeClass("sidebar-open").removeClass("sidebar-collapse"):$("body").addClass("sidebar-open")}),$(".content-wrapper").click(function(){return $(window).width()<=767&&$("body").hasClass("sidebar-open")?$("body").removeClass("sidebar-open"):void 0})}},tree:function(){var t,e;return e=this,t=500,$("body").on("click",".sidebar li a",function(n){var o,i,r,a,s;return o=$(this),i=o.next(),i.is(".treeview-menu")&&i.is(":visible")?(i.slideUp(t,function(){return i.removeClass("menu-open")}),e.layout.fix(),i.parent("li").removeClass("active")):i.is(".treeview-menu")&&(r=o.parents("ul").first(),s=r.find("ul:visible").slideUp(t),s.removeClass("menu-open"),a=o.parent("li"),i.slideDown(t,function(){return i.addClass("menu-open"),r.find("li.active").removeClass("active"),a.addClass("active"),e.layout.fix()})),i.is(".treeview-menu")?n.preventDefault():void 0})}}},{}],10:[function(t,e,n){var o,i=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.exports=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.render=function(){return $("#"+this.id).remove(),$("body").append(this.template({id:this.id})),this.setElement($("#"+this.id)),this},e.prototype.events={"show.bs.modal":"show","hidden.bs.modal":"hidden","click [type=submit]":"save"},e.prototype.show=function(t){var e;return e=$(t.relatedTarget).data(),this.model=e.id?this.collection.get(e.id):new this.collection.model,this.stickit(),this.bindValidation(),this.model.isNew()?void 0:this.model.validate()},e.prototype.hidden=function(){return this.unstickit(),this.stopListening(),delete this.model},e.prototype.save=function(t){var e;return t.preventDefault(),e=this.model.save(),e?e.then(function(t){return function(){return t.collection.add(t.model),t.$el.modal("hide")}}(this)):void 0},e.prototype.onValidField=function(t,e,n){var o,i;return o=this.$("[name="+t+"]"),i=o.closest(".form-group"),i.removeClass("has-error"),i.find(".help-block").remove()},e.prototype.onInvalidField=function(t,e,n,o){var i,r,a,s,l;for(r=this.$("[name="+t+"]"),a=r.closest(".form-group"),a.find(".help-block").remove(),s=0,l=n.length;l>s;s++)i=n[s],r.after("<div class='help-block'>"+i+"</div>");return a.addClass("has-error")},e}(Backbone.View)},{}],11:[function(t,e,n){var o,i=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.exports=o=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.tagName="nav",n.prototype.className="page-nav",n.prototype.template=t("templates/page-nav"),n.prototype.events={"click a[data-id]":"loadPage"},n.prototype.initialize=function(){return this.listenTo(this.collection,"reset",this.render)},n.prototype.render=function(){return this.collection.meta&&this.$el.html(this.template(this.collection.meta)),this},n.prototype.loadPage=function(t){var e;return t.preventDefault(),e=$(t.currentTarget).data(),this.collection.fetch({data:{page:e.id},reset:!0})},n}(Backbone.View)},{"templates/page-nav":16}],12:[function(t,e,n){var o,i=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.exports=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.initialize=function(){return this.listenTo(this.collection,"add",this.add),this.listenTo(this.collection,"reset",this.render)},e.prototype.row=function(t){throw new Error("Not implemented")},e.prototype.add=function(t){var e;return e=this.row(t),e.$el.addClass("success"),this.$("table tbody").prepend(e.render().$el)},e.prototype.render=function(t){var e;return e=this.$("table tbody"),e.empty(),t.each(function(t){return e.append(this.row(t).render().$el)},this),this},e}(Backbone.View)},{}],13:[function(t,e,n){var o=t("jade/runtime");e.exports=function(t){var e,n=[],i=t||{};return function(t,i,r,a,s,l,u,p,d,c,f,v,h,m,y,_,b,w){n.push("<td>"+o.escape(null==(e=a)?"":e)+"</td><td>"+o.escape(null==(e=d)?"":e)+"</td><td>"+o.escape(null==(e=t.title)?"":e)+"</td><td>"+o.escape(null==(e=y)?"":e)+"</td><td>"+o.escape(null==(e=i)?"":e)+"</td><td>"+o.escape(null==(e=m)?"":e)+"</td><td>"+o.escape(null==(e=c)?"":e)+"</td><td>"+o.escape(null==(e=u)?"":e)+"</td><td>"+o.escape(null==(e=f)?"":e)+"</td><td>"+o.escape(null==(e=p)?"":e)+"</td><td>"+o.escape(null==(e=h)?"":e)+"</td><td>"+o.escape(null==(e=v)?"":e)+"</td><td>"+o.escape(null==(e=r)?"":e)+"</td><td>"+(null==(e=w)?"":e)+"</td><td>"+o.escape(null==(e=l)?"":e)+"</td><td>"+o.escape(null==(e=s)?"":e)+"</td><td>"+o.escape(null==(e=l)?"":e)+"</td><td><a"+o.attr("href",_,!0,!1)+">"+o.escape(null==(e=_)?"":e)+"</a></td><td><a"+o.attr("href","/activities/edit/"+a,!0,!1)+' class="btn btn-primary btn-xs">编辑</a></td><td>'+o.escape(null==(e=b.username)?"":e)+"</td>")}.call(this,"book"in i?i.book:"undefined"!=typeof book?book:void 0,"chances"in i?i.chances:"undefined"!=typeof chances?chances:void 0,"end_at"in i?i.end_at:"undefined"!=typeof end_at?end_at:void 0,"id"in i?i.id:"undefined"!=typeof id?id:void 0,"info_field_2"in i?i.info_field_2:"undefined"!=typeof info_field_2?info_field_2:void 0,"info_field_3"in i?i.info_field_3:"undefined"!=typeof info_field_3?info_field_3:void 0,"multi"in i?i.multi:"undefined"!=typeof multi?multi:void 0,"multi_points"in i?i.multi_points:"undefined"!=typeof multi_points?multi_points:void 0,"name"in i?i.name:"undefined"!=typeof name?name:void 0,"single"in i?i.single:"undefined"!=typeof single?single:void 0,"single_points"in i?i.single_points:"undefined"!=typeof single_points?single_points:void 0,"start_at"in i?i.start_at:"undefined"!=typeof start_at?start_at:void 0,"status"in i?i.status:"undefined"!=typeof status?status:void 0,"time_limit"in i?i.time_limit:"undefined"!=typeof time_limit?time_limit:void 0,"type"in i?i.type:"undefined"!=typeof type?type:void 0,"url"in i?i.url:"undefined"!=typeof url?url:void 0,"user"in i?i.user:"undefined"!=typeof user?user:void 0,"welcome"in i?i.welcome:"undefined"!=typeof welcome?welcome:void 0),n.join("")}},{"jade/runtime":21}],14:[function(t,e,n){var o=t("jade/runtime");e.exports=function(t){var e=[],n=t||{};return function(t){e.push("<div"+o.attr("id",""+t,!0,!1)+' tabindex="-1" role="dialog" aria-labelledby="bookFormLabel" aria-hidden="true" class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" class="close"><span aria-hidden="true">&times;</span><span class="sr-only">关闭</span></button><h4 id="bookFormLabel" class="modal-title">输入题库信息</h4></div><div class="modal-body"><form><div class="form-group"><label for="title" class="control-label">题库名</label><input type="text" id="title" placeholder="题库名" name="title" class="form-control"/></div></form></div><div class="modal-footer"><button type="button" data-dismiss="modal" class="btn btn-default">取消</button><button id="save" type="submit" class="btn btn-primary">保存</button></div></div></div></div>')}.call(this,"id"in n?n.id:"undefined"!=typeof id?id:void 0),e.join("")}},{"jade/runtime":21}],15:[function(t,e,n){var o=t("jade/runtime");e.exports=function(t){var e,n=[],i=t||{};return function(t,i,r,a){n.push("<td>"+o.escape(null==(e=r)?"":e)+"</td><td>"+o.escape(null==(e=a.username)?"":e)+"</td><td><a"+o.attr("href","/quizbooks/"+i+"/questions",!0,!1)+' class="btn btn-default btn-xs">查看</a><a'+o.attr("type",t,!0,!1)+o.attr("data-id",i,!0,!1)+' data-toggle="modal" data-target="#bookModalForm" class="btn btn-primary btn-xs">编辑</a></td>')}.call(this,"button"in i?i.button:"undefined"!=typeof button?button:void 0,"id"in i?i.id:"undefined"!=typeof id?id:void 0,"title"in i?i.title:"undefined"!=typeof title?title:void 0,"user"in i?i.user:"undefined"!=typeof user?user:void 0),n.join("")}},{"jade/runtime":21}],16:[function(t,e,n){var o=t("jade/runtime");e.exports=function(t){var e,n=[],i=t||{};return function(t,i,r,a,s){s=t.max(1,r-5),i=t.min(a,r+5),n.push('<ul class="pagination"><li'+o.cls([1==r?"disabled":""],[!0])+'><a href="#" aria-label="Start" data-id=\'1\'><span aria-hidden="aria-hidden">&laquo;</span></a></li>');for(var l=s;r>l;)n.push('<li><a href="#"'+o.attr("data-id",l,!0,!1)+">"+o.escape(null==(e=l++)?"":e)+"</a></li>");n.push("<li"+o.attr("data-id",r,!0,!1)+' class="active"><a href="#">'+o.escape(null==(e=r)?"":e)+"</a></li>");for(var l=r+1;i>=l;)n.push('<li><a href="#"'+o.attr("data-id",l,!0,!1)+">"+o.escape(null==(e=l++)?"":e)+"</a></li>");n.push("<li"+o.cls([r==a?"disabled":""],[!0])+'><a href="#" aria-label="End"'+o.attr("data-id",a,!0,!1)+'><span aria-hidden="aria-hidden">&raquo;</span></a></li></ul>')}.call(this,"Math"in i?i.Math:"undefined"!=typeof Math?Math:void 0,"end"in i?i.end:"undefined"!=typeof end?end:void 0,"page"in i?i.page:"undefined"!=typeof page?page:void 0,"pages"in i?i.pages:"undefined"!=typeof pages?pages:void 0,"start"in i?i.start:"undefined"!=typeof start?start:void 0),n.join("")}},{"jade/runtime":21}],17:[function(t,e,n){var o=t("jade/runtime");e.exports=function(t){var e,n=[],i={},r=t||{};return function(t,r){i.textarea=e=function(t,i,r){this&&this.block,this&&this.attributes||{};n.push('<div class="form-group"><label'+o.attr("for",""+t,!0,!1)+' class="col-sm-2 control-label">'+o.escape(null==(e=i)?"":e)+'</label><div class="col-sm-10"><textarea'+o.attr("id",""+t,!0,!1)+o.attr("name",""+r,!0,!1)+' row="4" class="form-control"></textarea></div></div>')},n.push("<div"+o.attr("id",""+t,!0,!1)+' tabindex="-1" role="dialog" aria-labelledby="questionFormLabel" aria-hidden="true" class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" class="close"><span aria-hidden="true">&times;</span><span class="sr-only">关闭</span></button><h4 id="questionFormLabel" class="modal-title">输入问题详细信息</h4></div><div class="modal-body"><form class="form-horizontal">'),i.textarea("content","问题内容","content"),n.push('<div class="form-group"><label for="type" class="col-sm-2 control-label">问题内容</label><div class="col-sm-10"><select id="type" row="4" name="type" class="form-control textarea"></select></div></div>');var a=["A","B","C","D","E","F"];(function(){var t=a;if("number"==typeof t.length)for(var e=0,n=t.length;n>e;e++){var o=t[e];i.textarea("option_"+o,"选项"+o,"option_"+o)}else{var n=0;for(var e in t){n++;var o=t[e];i.textarea("option_"+o,"选项"+o,"option_"+o)}}}).call(this),n.push('<div class="form-group"><label class="col-sm-2 control-label">正确答案</label><div class="col-sm-10">'),function(){var t=a;if("number"==typeof t.length)for(var i=0,r=t.length;r>i;i++){var s=t[i];n.push('<div class="checkbox col-xs-6 col-sm-4"><label><input type="checkbox" name="correct_option"'+o.attr("value",i+1,!0,!1)+"/>选项"+o.escape(null==(e=s)?"":e)+"</label></div>")}else{var r=0;for(var i in t){r++;var s=t[i];n.push('<div class="checkbox col-xs-6 col-sm-4"><label><input type="checkbox" name="correct_option"'+o.attr("value",i+1,!0,!1)+"/>选项"+o.escape(null==(e=s)?"":e)+"</label></div>")}}}.call(this),n.push('</div></div></form></div><div class="modal-footer"><button type="button" data-dismiss="modal" class="btn btn-default">取消</button><button type="submit" class="btn btn-primary">保存</button></div></div></div></div>')}.call(this,"id"in r?r.id:"undefined"!=typeof id?id:void 0,"undefined"in r?r.undefined:void 0),n.join("")}},{"jade/runtime":21}],18:[function(t,e,n){var o=t("jade/runtime");e.exports=function(t){var e,n=[],i=t||{};return function(t,i,r,a,s,l,u,p,d,c,f){n.push('<td class="content">'+o.escape(null==(e=i)?"":e)+"</td><td>"+o.escape(null==(e=f)?"":e)+"</td><td>"+o.escape(null==(e=r)?"":e)+"</td><td>"+o.escape(null==(e=s)?"":e)+"</td><td>"+o.escape(null==(e=l)?"":e)+"</td><td>"+o.escape(null==(e=u)?"":e)+"</td><td>"+o.escape(null==(e=p)?"":e)+"</td><td>"+o.escape(null==(e=d)?"":e)+"</td><td>"+o.escape(null==(e=c)?"":e)+"</td><td><a"+o.attr("type",t,!0,!1)+o.attr("data-id",a,!0,!1)+' data-toggle="modal" data-target="#questionModalForm" class="btn btn-primary btn-xs">编辑</a><a id="delete"'+o.attr("type",t,!0,!1)+' class="btn btn-danger btn-xs">删除</a></td>')}.call(this,"button"in i?i.button:"undefined"!=typeof button?button:void 0,"content"in i?i.content:"undefined"!=typeof content?content:void 0,"correct_option"in i?i.correct_option:"undefined"!=typeof correct_option?correct_option:void 0,"id"in i?i.id:"undefined"!=typeof id?id:void 0,"option_A"in i?i.option_A:"undefined"!=typeof option_A?option_A:void 0,"option_B"in i?i.option_B:"undefined"!=typeof option_B?option_B:void 0,"option_C"in i?i.option_C:"undefined"!=typeof option_C?option_C:void 0,"option_D"in i?i.option_D:"undefined"!=typeof option_D?option_D:void 0,"option_E"in i?i.option_E:"undefined"!=typeof option_E?option_E:void 0,"option_F"in i?i.option_F:"undefined"!=typeof option_F?option_F:void 0,"type"in i?i.type:"undefined"!=typeof type?type:void 0),n.join("")}},{"jade/runtime":21}],19:[function(t,e,n){var o=t("jade/runtime");e.exports=function(t){var e,n=[],i={},r=t||{};return function(t){i.input=e=function(t,i,r,a,s){this&&this.block,this&&this.attributes||{};n.push('<div class="form-group"><label'+o.attr("for",""+i,!0,!1)+' class="col-xs-2 control-label">'+o.escape(null==(e=a)?"":e)+'</label><div class="col-xs-10"><input'+o.attr("type",""+t,!0,!1)+o.attr("id",""+i,!0,!1)+o.attr("placeholder",""+r,!0,!1)+o.attr("name",""+s,!0,!1)+' class="form-control"/></div></div>')},n.push("<div"+o.attr("id",""+t,!0,!1)+' tabindex="-1" role="dialog" aria-labelledby="userFormLabel" aria-hidden="true" class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" class="close"><span aria-hidden="true">&times;</span><span class="sr-only">关闭</span></button><h4 id="userFormLabel" class="modal-title">输入用户信息</h4></div><div class="modal-body"><row><form class="form-horizontal">'),i.input("text","username","用户名","用户名","username"),i.input("password","password","密码","密码","password"),n.push('</form></row></div><div class="modal-footer"><button type="button" data-dismiss="modal" class="btn btn-default">取消</button><button type="submit" class="btn btn-primary">保存</button></div></div></div></div>')}.call(this,"id"in r?r.id:"undefined"!=typeof id?id:void 0),n.join("")}},{"jade/runtime":21}],20:[function(t,e,n){var o=t("jade/runtime");e.exports=function(t){var e,n=[],i=t||{};return function(t,i,r,a){n.push("<td>"+o.escape(null==(e=r)?"":e)+"</td><td>"+o.escape(null==(e=a)?"":e)+"</td><td>"),i||(n.push('<a type="button"'+o.attr("data-id",r,!0,!1)+' data-toggle="modal" data-target="#userModalForm" class="btn btn-default btn-xs">修改密码'),t?n.push('<a id="deactivate" type="button" class="btn btn-danger btn-xs">冻结帐号</a>'):n.push('<a id="activate" type="button" class="btn btn-success btn-xs">激活帐号</a>'),n.push("</a>")),n.push("</td>")}.call(this,"active"in i?i.active:"undefined"!=typeof active?active:void 0,"admin"in i?i.admin:"undefined"!=typeof admin?admin:void 0,"id"in i?i.id:"undefined"!=typeof id?id:void 0,"username"in i?i.username:"undefined"!=typeof username?username:void 0),n.join("")}},{"jade/runtime":21}],21:[function(t,e,n){(function(o){!function(t){if("object"==typeof n&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof o?o:"undefined"!=typeof self?self:this,i.jade=t()}}(function(){return function e(n,o,i){function r(s,l){if(!o[s]){if(!n[s]){var u="function"==typeof t&&t;if(!l&&u)return u(s,!0);if(a)return a(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var d=o[s]={exports:{}};n[s][0].call(d.exports,function(t){var e=n[s][1][t];return r(e?e:t)},d,d.exports,e,n,o,i)}return o[s].exports}for(var a="function"==typeof t&&t,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";function o(t){return null!=t&&""!==t}function i(t){return(Array.isArray(t)?t.map(i):t&&"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}):[t]).filter(o).join(" ")}function r(t){return s[t]||t}function a(t){var e=String(t).replace(l,r);return e===""+t?t:e}n.merge=function u(t,e){if(1===arguments.length){for(var n=t[0],i=1;i<t.length;i++)n=u(n,t[i]);return n}var r=t["class"],a=e["class"];(r||a)&&(r=r||[],a=a||[],Array.isArray(r)||(r=[r]),Array.isArray(a)||(a=[a]),t["class"]=r.concat(a).filter(o));for(var s in e)"class"!=s&&(t[s]=e[s]);return t},n.joinClasses=i,n.cls=function(t,e){for(var o=[],r=0;r<t.length;r++)e&&e[r]?o.push(n.escape(i([t[r]]))):o.push(i(t[r]));var a=i(o);return a.length?' class="'+a+'"':""},n.style=function(t){return t&&"object"==typeof t?Object.keys(t).map(function(e){return e+":"+t[e]}).join(";"):t},n.attr=function(t,e,o,i){return"style"===t&&(e=n.style(e)),"boolean"==typeof e||null==e?e?" "+(i?t:t+'="'+t+'"'):"":0==t.indexOf("data")&&"string"!=typeof e?(-1!==JSON.stringify(e).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),e&&"function"==typeof e.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+t+"='"+JSON.stringify(e).replace(/'/g,"&apos;")+"'"):o?(e&&"function"==typeof e.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+n.escape(e)+'"'):(e&&"function"==typeof e.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+e+'"')},n.attrs=function(t,e){var o=[],r=Object.keys(t);if(r.length)for(var a=0;a<r.length;++a){var s=r[a],l=t[s];"class"==s?(l=i(l))&&o.push(" "+s+'="'+l+'"'):o.push(n.attr(s,l,!1,e))}return o.join("")};var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},l=/[&<>"]/g;n.escape=a,n.rethrow=function p(e,n,o,i){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&n||i))throw e.message+=" on line "+o,e;try{i=i||t("fs").readFileSync(n,"utf8");
}catch(r){p(e,null,o)}var a=3,s=i.split("\n"),l=Math.max(o-a,0),u=Math.min(s.length,o+a),a=s.slice(l,u).map(function(t,e){var n=e+l+1;return(n==o?"  > ":"    ")+n+"| "+t}).join("\n");throw e.path=n,e.message=(n||"Jade")+":"+o+"\n"+a+"\n\n"+e.message,e},n.DebugItem=function(t,e){this.lineno=t,this.filename=e}},{fs:2}],2:[function(t,e,n){},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{fs:2}]},{},[1]);
//# sourceMappingURL=app.min.js.map
